"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[18],{1405:(e,t,s)=>{s.d(t,{Z:()=>i}),s(3238),s(895);const i={methods:{makeFullUrl:function(e){var t=new domurl(this.$store.state.urlOrigin+e);return t.query.ipRedirectOverride=!0,t.query.overrideBaseCountry=!0,t.toString()},makeUrl:function(e,t){var s=this.$store.state.urlOrigin,i="";switch(e){case"store":case"book":i=s+"/pd/"+encodeURIComponent(t);break;case"author":i=t.url?s+"/author/"+t.url:s+"/search?searchAuthor="+encodeURIComponent(t.name);break;case"narrator":t.name&&(i=s+"/search?searchNarrator="+encodeURIComponent(t.name));break;case"series":t.asin&&(i=s+"/series/"+t.asin);break;case"publisher":t.name&&(i=s+"/search?searchProvider="+encodeURIComponent(t.name));break;case"categories":case"tags":t.url&&(i=s+"/cat/"+t.url)}if(i){var o=new domurl(i);return o.query.ipRedirectOverride=!0,o.query.overrideBaseCountry=!0,o.toString()}return""}}}},5655:(e,t,s)=>{s.d(t,{Z:()=>i}),s(1013),s(5769),s(3238),s(4078),s(3938),s(5623),s(1514);const i={methods:{prepareKeys:function(e){var t=(e=e||{}).collection||_.get(this.$store.state,this.$store.state.collectionSource),s=_.union(_.flatten(_.map(t,(function(e){return _.keys(e)}))));s=s.concat(["isbn10","isbn13"]);var i=["added","title","series","bookNumbers","authors","narrators","tags","categories","length","progress","releaseDate","publishers","myRating","rating","ratings","favorite","format","language","whispersync","fromPlusCatalog","unavailable","archived","downloaded","storePageChanged","storePageMissing"];e.priorityKeys&&(i=e.priorityKeys);var o=_.remove(s,(function(e){return!_.includes(i,e)}));s=i.concat(o),i=null,o=null;var r=["titleShort","sample","blurb","url","summary","moreLikeThis","peopleAlsoBought","asin","cover","sample","cover","isbns"];return _.remove(s,(function(t){return!_.includes(e.removeKeys||r,t)}))}}}},8300:(e,t,s)=>{s.d(t,{Z:()=>i}),s(1013);const i={methods:{stringifyArray:function(e,t,s){return Array.isArray(e)?t?e.map((function(e){return e[t]})).join(s||", "):e.join(", "):e||""}}}},758:(e,t,s)=>{s.r(t),s.d(t,{default:()=>g}),s(5769),s(3238),s(1418),s(7460),s(4078),s(1013),s(5699),s(2759),s(2077),s(895),s(2327),s(1203),s(2482);const i={name:"colResizer",props:["identifier"],data:function(){return{colClass:"",startPosition:null,endPosition:null,dragging:!1,minWidth:30,width:null,mouseX:0,threshold:10}},created:function(){this.colClass=this.identifier.split(" ")[0]},methods:{resizeMouseDown:function(e){this.endPosition=null,this.startPosition=e.clientX},resizeMouseMove:_.throttle((function(e){this.startPosition&&Math.abs(this.startPosition-e.clientX)>=this.threshold&&(this.dragging=!0,this.mouseX=e.clientX)}),65),resizeMouseUp:function(e){if(this.dragging){this.endPosition=e.clientX;var t=this.width?this.width:e.currentTarget.parentElement.offsetWidth,s=Math.abs(this.startPosition-this.endPosition),i=t+(this.endPosition>this.startPosition?+s:-s);this.width=i<this.minWidth?this.minWidth:i}this.dragging=null,this.endPosition=null,this.startPosition=null,this.mouseX=0}}};var o=s(810);const r={name:"aleHeader",props:["keys"],components:{colResizer:(0,o.Z)(i,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"col-resizer",class:{dragging:e.startPosition},on:{mousedown:e.resizeMouseDown,mouseup:e.resizeMouseUp,mousemove:e.resizeMouseMove}},[e.mouseX?s("div",{staticClass:"floater-boy",style:{left:e.mouseX+"px"}}):e._e(),e._v(" "),e.width?s("style",{tag:"component",attrs:{type:"text/css"}},[e._v("\n    ."+e._s(e.colClass)+" { width: "+e._s(e.width)+"px !important; }\n  ")]):e._e()],1)}),[],!1,null,"c3c9566a",null).exports,sorter:function(){return Promise.resolve().then(s.bind(s,2035))}},data:function(){return{listName:"sort",optionsList:null,headers:null}},created:function(){this.optionsList=this.$store.state.listRenderingOpts[this.listName],this.headers=this.prepareHeaders(this.keys)},methods:{prepareHeaders:function(e){return _.map(e,(function(e){var t={key:e,label:_.startCase(e),align:"left",class:"col-"+_.kebabCase(e)};switch(e){case"titleShort":case"title":t.class=t.class+" sticky-col";break;case"authors":case"narrators":case"publishers":case"tags":t.key+=".name"}return t}))},sorterIndex:function(e){return _.findIndex(this.optionsList,{key:e.key})},sorterItem:function(e){var t=new RegExp("^"+e);return _.find(this.optionsList,(function(e){return e.key.match(t)}))}}},n=(0,o.Z)(r,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"list-view-header ale-row"},[s("tr",{staticClass:"ale-row-inner"},e._l(e.headers,(function(t,i){return s("th",{key:t.label,staticClass:"header-item ale-col",class:t.class},[s("col-resizer",{attrs:{identifier:t.class}}),e._v(" "),s("div",{staticClass:"ale-col-inner"},[e.sorterIndex(t)>-1?s("sorter",{attrs:{label:!1,item:e.sorterItem(t.key),index:e.sorterIndex(t),currentList:e.optionsList,listName:e.listName,tippyTop:!0}},[e._v("\n          "+e._s(t.label)+"\n        ")]):s("span",{staticClass:"text-container"},[e._v(e._s(t.label))])],1)],1)})),0)])}),[],!1,null,"36975578",null).exports;s(911),s(8010);var a=s(3657),l=s(8300),c=s(1405),u=s(3462),h=s(2271),d=s(3235);const p={name:"aleListItem",props:["book","rowIndex","keys"],mixins:[l.Z,a.Z,c.Z],components:{lazy:u.Z,sampleButton:h.Z,openWebPlayer:d.Z},data:function(){return{sticky:this.$store.state.sticky,coverUrl:"",coverUrl27:"",bookTitle:"",goodreadsUrl:"",columns:null,imageLoading:!0}},created:function(){this.coverUrl=this.makeCoverUrl(this.book.cover),this.coverUrl&&(this.coverUrl27=this.coverUrl.replace("_SL500_","_SL54_")),this.bookTitle=this.book.title||this.book.titleShort,this.columns=this.prepareColumns()},mounted:function(){this.$nextTick((function(){this.imageLoading=!1}))},methods:{prepareColumns:function(){var e=this;return _.map(this.keys,(function(t){var s={};switch(s.key=t,s.class="col-"+_.kebabCase(t),t){case"authors":case"narrators":case"categories":case"publishers":case"tags":s.text=e.stringifyArray(e.book[t],"name","categories"===t?" > ":null);break;case"series":var i=e.book.series;i&&(i=_.map(i,(function(e){var t=e.bookNumbers?" (book "+e.bookNumbers.join(", ")+")":"";return e.name+t})).join(", ")),s.text=i||"";break;case"title":s.text=e.book[t]||e.book.titleShort,s.class+=" sticky-col";break;case"bookNumbers":if(e.book.series){var o=e.book.series.filter((function(e){return e.bookNumbers}));o=(o=o.map((function(e){return e.bookNumbers}))).join(", "),s.text=o||"∞"}else s.text="";break;case"isbn10":var r=_.find(e.book.isbns,{type:"ISBN_10"});r&&(s.text=r.identifier);break;case"isbn13":var n=_.find(e.book.isbns,{type:"ISBN_13"});n&&(s.text=n.identifier);break;default:s.text=e.book[t],s.name=""}return s.text||(s.text=null),s}))}}},m=(0,o.Z)(p,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("tr",{staticClass:"ale-row-inner",on:{click:function(t){return e.$root.$emit("book-clicked",e.book.asin)}}},e._l(e.columns,(function(t){return s("td",{key:t.key,staticClass:"ale-col",class:t.class,attrs:{name:t.name}},[s("div",{staticClass:"ale-col-inner"},["title"===t.key?s("span",{staticClass:"icons-n-stuff"},[s("span",{staticClass:"info-icon"},[s("font-awesome",{staticClass:"pointer",attrs:{fas:"",icon:"chevron-down"}})],1),e._v(" "),e.sticky.bookDetailSettings.playButton?s("sampleButton",{attrs:{book:e.book,index:e.rowIndex,size:16}}):e.book.asin&&e.sticky.bookDetailSettings.cloudPlayer?s("div",{staticClass:"cloud-player-icon"},[s("open-web-player",{attrs:{size:20,book:e.book,icon:!0,tooltip:!1,noBG:!0}})],1):e._e(),e._v(" "),s("div",{staticClass:"thumbnail-wrapper"},[e.imageLoading?e._e():s("img",{attrs:{crossorigin:"anonymous",src:e.coverUrl27,alt:""}})])],1):e._e(),e._v(" "),s("span",{staticClass:"text-container"},[e._v(" "+e._s(t.text||" "))])])])})),0)}),[],!1,null,null,null).exports;var f=s(5655);const b={name:"aleBooks",components:{lazy:u.Z,aleHeader:n,aleListRow:m,bookDetails:function(){return s.e(3).then(s.bind(s,514))}},mixins:[l.Z,f.Z],data:function(){return{spreadsheetTop:170,keys:"",prevScrollTop:0}},created:function(){this.keys=this.prepareKeys()},mounted:function(){this.setSpreadsheetOffset(),this.$root.$on("afterWindowResize",this.setSpreadsheetOffset)},beforeDestroy:function(){this.$root.$off("afterWindowResize",this.setSpreadsheetOffset)},methods:{setSpreadsheetOffset:function(){this.$nextTick((function(){var e=document.querySelector("#ale-search-wrap"),t=window.pageYOffset+e.getBoundingClientRect().top,s=e.offsetHeight;this.spreadsheetTop=t+s}))}}},g=(0,o.Z)(b,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{ref:"listView",staticClass:"ale-books list-view",style:{top:e.spreadsheetTop+"px"}},[s("div",{staticClass:"list-view-inner-wrap"},[s("table",[s("thead",[s("ale-header",{attrs:{keys:e.keys}})],1),e._v(" "),s("tbody",e._l(e.$store.state.chunkCollection,(function(t,i){return t.asin?s("lazy",{key:"book:"+t.asin,ref:"domBooks",refInFor:!0,staticClass:"ale-row",attrs:{"data-asin":t.asin}},[s("ale-list-row",{attrs:{book:t,rowIndex:i,keys:e.keys}})],1):e._e()})),1)])])])}),[],!1,null,null,null).exports},3462:(e,t,s)=>{s.d(t,{Z:()=>o});const i={name:"lazy",props:["tag","offset","delay"],data:function(){return{observer:null,intersected:!1}},mounted:function(){this.$nextTick((function(){this.observe()}))},destroyed:function(){this.observer&&this.observer.disconnect()},methods:{observe:function(){var e=this;this.observer=new IntersectionObserver((function(t){t[0].isIntersecting&&setTimeout((function(){e.intersected=!0,e.observer.disconnect()}),e.delay||0)}),{threshold:0,rootMargin:(this.offset||100)+"px"}),this.observer.observe(this.$el)}}},o=(0,s(810).Z)(i,(function(){var e=this,t=e.$createElement;return(e._self._c||t)(e.tag||"div",{tag:"component",class:{mounted:e.intersected}},[e.intersected?e._t("default"):e._e()],2)}),[],!1,null,null,null).exports},3235:(e,t,s)=>{s.d(t,{Z:()=>i});const i=(0,s(810).Z)({name:"openWebPlayer",props:["book","icon","topRight","size","tooltip","noBG"],data:function(){return{url:null}},created:function(){this.book&&(this.url="https://www.audible.com/webplayer?asin="+this.book.asin)}},(function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.url?s("a",{class:{"top-right":e.topRight,"no-bg":e.noBG},attrs:{href:e.url,target:"_blank",rel:"noopener noreferrer"}},[e.icon?s("div",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"gr-icon audible-cloudplayer-link",style:{width:(e.size||30)+"px",height:(e.size||30)+"px"},attrs:{content:e.tooltip?"Open web player":""}},[s("img",{attrs:{src:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxNTEuNSA5My43IiB3aWR0aD0iMTUxLjUiIGhlaWdodD0iOTMuNyI+PGRlZnM+PHN0eWxlPi5jbHMtMXtmaWxsOiNmZmY7fTwvc3R5bGU+PC9kZWZzPjxnPjxnPjxwYXRoIGNsYXNzPSJjbHMtMSIgZD0iTTc1LjggODAuN2w3NS43LTQ3LjJ2MTIuOEw3NS44IDkzLjcgMCA0Ni4zVjMzLjVsNzUuOCA0Ny4yeiIvPjxwYXRoIGNsYXNzPSJjbHMtMSIgZD0iTTc1LjggMjEuNWE0OC4xNyA0OC4xNyAwIDAgMC00MC43IDIxLjkgMTIuOTQgMTIuOTQgMCAwIDEgMS44LTEuNmMyMS4zLTE3LjcgNTItMTMuNyA2OC43IDguNmwxMS4xLTcuMWE0OS44MiA0OS44MiAwIDAgMC00MC45LTIxLjgiLz48cGF0aCBjbGFzcz0iY2xzLTEiIGQ9Ik03NS44IDQzLjRhMjcuNzIgMjcuNzIgMCAwIDAtMjIuNCAxMS41IDIyLjcgMjIuNyAwIDAgMSAxMy41LTQuNGM4LjIgMCAxNS41IDQuMiAyMC40IDExLjNsMTAuNi02LjZhMjUuNzkgMjUuNzkgMCAwIDAtMjIuMS0xMS44TTI0LjYgMjQuMkM1NS44LS40IDk5LjkgNi4zIDEyMy40IDM5bC4yLjIgMTEuNS03LjFhNzAuODIgNzAuODIgMCAwIDAtMTE4LjYgMCA2MC42MyA2MC42MyAwIDAgMSA4LjEtNy45Ii8+PC9nPjwvZz48L3N2Zz4=",alt:""}})]):s("span",[e._v("Search in Goodreads")])]):e._e()}),[],!1,null,"53d97c0c",null).exports},2271:(e,t,s)=>{s.d(t,{Z:()=>i});const i=(0,s(810).Z)({name:"sampleButton",props:["book","index","topRight","size"],methods:{playSample:function(e,t){this.$root.$emit("play-audio",{from:"sampleButton",route:this.$route,book:e,index:t})}}},(function(){var e=this,t=e.$createElement;return(e._self._c||t)("font-awesome",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"pointer",class:{"top-right":e.topRight},style:{width:(e.size||30)+"px",height:"auto"},attrs:{fas:"",icon:"play-circle",content:"Play sample audio"},on:{click:function(t){return e.playSample(e.book,e.rowIndex)}}})}),[],!1,null,"05b60316",null).exports}}]);