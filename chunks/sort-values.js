(self.webpackChunk=self.webpackChunk||[]).push([[17],{4737:(t,r,e)=>{"use strict";e.d(r,{Z:()=>i}),e(266);const i={mixins:[e(5619).Z],methods:{progressbarWidth:function(t){if(t.progress){if("finished"===t.progress.toLowerCase().trim())return{width:"100%"};if(t.length){var r=this.timeStringToSeconds(t.progress),e=this.timeStringToSeconds(t.length);return{width:(r=e-r)/e*100+"%"}}return{width:0}}return{width:0}}}}},2863:(t,r,e)=>{"use strict";e.d(r,{Z:()=>i}),e(2410),e(3512),e(3238),e(895);const i={methods:{secondsToTimeString:function(t,r){var e=function(t,e){return r?t:("000"+t).slice(-1*e)},i=parseFloat(t).toFixed(3),s=Math.floor(i/60/60),o=Math.floor(i/60)%60,n=(Math.floor(i-60*o),i.slice(-3),(s.toString().length>1?s:e(s,2))+(r?"h ":".")),a=e(o,2)+(r?"m ":"");return r&&!s&&(n=""),n+a}}}},2194:(t,r,e)=>{var i=e(2086),s=e(3677),o=e(8240),n=e(4059),a=e(4080).trim,l=e(9439),g=i.parseInt,c=i.Symbol,h=c&&c.iterator,u=/^[+-]?0x/i,p=o(u.exec),b=8!==g(l+"08")||22!==g(l+"0x16")||h&&!s((function(){g(Object(h))}));t.exports=b?function(t,r){var e=a(n(t));return g(e,r>>>0||(p(u,e)?16:10))}:g},2081:(t,r,e)=>{var i=e(1695),s=e(2194);i({global:!0,forced:parseInt!=s},{parseInt:s})},8329:(t,r,e)=>{"use strict";e.r(r),e.d(r,{default:()=>l}),e(2327),e(3238),e(8010),e(1013),e(2077),e(911),e(1203),e(266);var i=e(5619),s=e(2863),o=e(4737),n=e(5700);const a={name:"sortValues",props:["book"],mixins:[i.Z,s.Z,o.Z],components:{starRating:n.Z},data:function(){return{notAvailable:"&nbsp;"}},methods:{sortContents:function(){var t=this.$store.getters.sortBy;switch(t){case"bookNumbers":if(this.$route.params.series&&this.book.series){var r=_.find(this.book.series,{asin:this.$route.params.series});return r&&_.isArray(r.bookNumbers)?r.bookNumbers.join(", "):""}if(this.book.series){var e=_.filter(this.book.series,"bookNumbers");return e=_.map(e,"bookNumbers"),e=_.flatten(e),_.isEmpty(e)?e=null:_.isArray(e)&&(e=e.join(", ")),e||"∞"}return"";case"seriesOrder":if(this.book.series){var i=this.$route.params.series,s=_.find(this.book.series,{asin:i});if(s){var o=s.bookNumbers;return o?_.isArray(o)?o.join(", "):o:"∞"}return this.notAvailable}return this.notAvailable;case"authors.name":case"narrators.name":case"publishers.name":case"tags.name":return _.get(this.book,t.replace(".name","[0].name"))||this.notAvailable;case"rating":return this.book.ratings?this.book[t]:this.notAvailable;case"ratings":return this.book.rating?this.book.rating:this.notAvailable;case"progress":var n=this.progressbarWidth(this.book);return this.progress(this.book)+'<div class="progress-bar"><div style="width: '+n.width+';"></div></div>';case"title":return this.book.titleShort||this.book.title||this.notAvailable;case"series":return this.book.series?_.map(this.book.series,"name").join(", "):this.notAvailable;case"categories":return this.book.categories?this.book.categories[0].name:this.notAvailable;case"isbn10":case"isbn13":if(!this.book.isbns)return this.notAvailable;if("isbn10"===t){var a=_.find(this.book.isbns,["type","ISBN_10"]);if(a)return a.identifier}else{if("isbn13"!==t)return this.notAvailable;var l=_.find(this.book.isbns,["type","ISBN_13"]);if(l)return l.identifier}break;case"narratorsNumber":if(this.book.narrators){var g=_.find(this.book.narrators,(function(t){return t.name.match("full cast")}));return g&&1===this.book.narrators.length?"​∞ full cast":this.book.narrators.length-(g?1:0)+(g?" full cast":"")}return this.notAvailable;default:return this.book[t]?this.book[t]:this.notAvailable}},progress:function(t){if(t.progress&&t.length){if("finished"===t.progress.toLowerCase().trim()){var r=this.timeStringToSeconds(t.length);return"<div>Finished ( "+this.secondsToTimeString(r,!0)+" )</div>"}var e=this.timeStringToSeconds(t.progress),i=this.timeStringToSeconds(t.length),s=i-e;return this.secondsToTimeString(s,!0)+" / "+this.secondsToTimeString(i,!0)}return t.progress?"<div>"+t.progress+" ("+this.notAvailable+")</div>":t.length?"<div>Length: "+t.length+"</div>":"<div>"+t.progress+"</div>"}}},l=(0,e(810).Z)(a,(function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("div",{staticClass:"sort-values-container"},["myRating"!==t.$store.getters.sortBy&&"rating"!==t.$store.getters.sortBy&&"ratings"!==t.$store.getters.sortBy||"&nbsp;"===t.sortContents()?"favorite"!==t.$store.getters.sortBy?e("div",{class:"sort-"+t.$store.getters.sortBy,domProps:{innerHTML:t._s(t.sortContents())}}):e("div",{class:"sort-"+t.$store.getters.sortBy},[t.book.favorite?e("font-awesome",{attrs:{icon:["fas","heart"]}}):e("span",[t._v(" ")])],1):e("div",{directives:[{name:"tippy",rawName:"v-tippy",value:{trigger:"click mouseenter",allowHTML:!0},expression:"{ trigger: 'click mouseenter', allowHTML: true }"}],staticClass:"ratings",attrs:{content:("myRating"!==t.$store.getters.sortBy&&t.book.myRating?"My rating: "+t.book.myRating+"<br>":"")+("myRating"===t.$store.getters.sortBy&&t.book.rating?"Average rating: "+t.book.rating+"<br>":"")+("myRating"===t.$store.getters.sortBy&&t.book.ratings?"Number of ratings: "+t.book.ratings+"<br>":"")}},[e("star-rating",{attrs:{prioritizeRatingsText:"ratings"===t.$store.getters.sortBy,size:10,rating:t.sortContents(),number:!0,ratingsText:!1,ratings:"rating"!==t.$store.getters.sortBy&&"ratings"!==t.$store.getters.sortBy||!t.book.ratings?null:t.book.ratings}})],1)])}),[],!1,null,null,null).exports},5700:(t,r,e)=>{"use strict";e.d(r,{Z:()=>s}),e(2081),e(7471),e(2077),e(2482),e(3512);const i={name:"starRating",props:["size","rating","stars","ratings","ratingsText","prioritizeRatingsText","number","numberOf","block","image","placeholderImage","placeholderOpacity","noPlaceholder"],data:function(){return{opt:null,config:{rating:null,length:null}}},created:function(){this.opt={rating:5,stars:5,size:15,number:!1,numberOf:!1,block:!1,image:!1,placeholderImage:!1,placeholderOpacity:!1,noPlaceholder:!1};var t=this.splitDecimals(this.rating);this.config.rating=this.toPercentage(t);var r=this.noPlaceholder||this.opt.noPlacehoder;this.config.length=r?this.config.rating.whole+(this.config.rating.fraction?1:0):parseInt(this.stars||this.opt.stars,10)},methods:{splitDecimals:function(t){var r,e=""+t;return e.indexOf(".")>-1?r=e.split("."):e.indexOf(",")>-1&&(r=e.split(",")),r?{whole:r[0],fraction:"."+r[1]}:{whole:t,fraction:null}},toPercentage:function(t){var r={whole:parseInt(t.whole,10)};return t.fraction&&(r.originalFraction=t.fraction),t.fraction&&(r.fraction=Math.floor(100*parseFloat(t.fraction,10))),r}}},s=(0,e(810).Z)(i,(function(){var t=this,r=t.$createElement,e=t._self._c||r;return t.config.rating?e("div",{staticClass:"sRatings-wrapper",class:{"sRatings-block":t.block||t.opt.block,"prioritize-ratings-text":t.prioritizeRatingsText},attrs:{"data-rating":t.rating||0}},[t.ratings&&t.prioritizeRatingsText?e("div",{staticClass:"rating-count"},[t._v(t._s(t.ratings)),!1!==t.ratingsText?e("span",[t._v(" ratings")]):t._e()]):t._e(),t._v(" "),t._l(t.config.length,(function(r,i){return e("div",{key:i,style:{width:t.config.rating.whole===r-1&&(t.noPlaceholder||t.opt.noPlaceholder)&&t.config.rating.fraction?(t.size||t.opt.size)*t.config.rating.originalFraction+"px":(t.size||t.opt.size)+"px",height:(t.size||t.opt.size)+"px"},attrs:{"data-star":r,"data-whole":t.config.rating.whole===r,"data-fraction":t.config.rating.fraction&&t.config.rating.whole===r-1}},[t.config.rating.whole<=r&&!t.noPlaceholder&&!t.opt.noPlaceholder?e("div",{staticClass:"sRatings-placeholder",class:{"sRatings-show":t.config.rating.whole<r},style:{left:t.config.rating.fraction&&t.config.rating.whole===r-1?t.config.rating.fraction+"%":"0%","background-size":(t.size||t.opt.size)+"px","background-image":!!(t.image||t.placeholderImage||t.opt.placeholderImage)&&"url("+(t.image&&!t.placeholderImage?t.image:t.placeholderImage||t.opt.placeholderImage)+")",opacity:t.placeholderOpacity||t.opt.placeholderOpacity}}):t._e(),t._v(" "),t.config.rating.whole>=r||t.config.rating.fraction&&t.config.rating.whole===r-1?e("div",{staticClass:"sRatings-star",style:{width:t.config.rating.whole>=r||t.config.rating.whole===r-1&&(t.noPlaceholder||t.opt.noPlaceholder)?"100%":t.config.rating.fraction+"%","background-size":(t.size||t.opt.size)+"px","background-image":!(!t.image&&!t.opt.image)&&"url("+(t.image||t.opt.image)+")"}}):t._e()])})),t._v(" "),t.number||t.opt.number?e("div",{staticClass:"text-label",style:{width:!(!t.numberOf&&!t.opt.numberOf)&&"auto",padding:!(!t.numberOf&&!t.opt.numberOf)&&"0 6px"}},[t._v(t._s(t.numberOf||t.opt.numberOf?t.rating+"/"+(t.stars||t.opt.stars):t.rating))]):t._e(),t._v(" "),t.ratings&&!t.prioritizeRatingsText?e("div",{staticClass:"rating-count"},[t._v("("+t._s(t.ratings)),!1!==t.ratingsText?e("span",[t._v(" ratings")]):t._e(),t._v(")")]):t._e()],2):t._e()}),[],!1,null,"42209754",null).exports}}]);