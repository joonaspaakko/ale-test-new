(self.webpackChunk=self.webpackChunk||[]).push([[16],{4737:(t,e,r)=>{"use strict";r.d(e,{Z:()=>i}),r(266);const i={mixins:[r(5619).Z],methods:{progressbarWidth:function(t){if(t.progress){if("finished"===t.progress.toLowerCase().trim())return{width:"100%"};if(t.length){var e=this.timeStringToSeconds(t.progress),r=this.timeStringToSeconds(t.length);return{width:(e=r-e)/r*100+"%"}}return{width:0}}return{width:0}}}}},2863:(t,e,r)=>{"use strict";r.d(e,{Z:()=>i}),r(2410),r(3512),r(3238),r(895);const i={methods:{secondsToTimeString:function(t,e){var r=function(t,r){return e?t:("000"+t).slice(-1*r)},i=parseFloat(t).toFixed(3),s=Math.floor(i/60/60),o=Math.floor(i/60)%60,n=(Math.floor(i-60*o),i.slice(-3),(s.toString().length>1?s:r(s,2))+(e?"h ":".")),a=r(o,2)+(e?"m ":"");return e&&!s&&(n=""),n+a}}}},2194:(t,e,r)=>{var i=r(2086),s=r(3677),o=r(8240),n=r(4059),a=r(4080).trim,l=r(9439),g=i.parseInt,c=i.Symbol,h=c&&c.iterator,u=/^[+-]?0x/i,p=o(u.exec),b=8!==g(l+"08")||22!==g(l+"0x16")||h&&!s((function(){g(Object(h))}));t.exports=b?function(t,e){var r=a(n(t));return g(r,e>>>0||(p(u,r)?16:10))}:g},2081:(t,e,r)=>{var i=r(1695),s=r(2194);i({global:!0,forced:parseInt!=s},{parseInt:s})},9715:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>l}),r(2327),r(3238),r(8010),r(1013),r(2077),r(911),r(1203),r(266);var i=r(5619),s=r(2863),o=r(4737),n=r(5700);const a={name:"sortValues",props:["book"],mixins:[i.Z,s.Z,o.Z],components:{starRating:n.Z},data:function(){return{notAvailable:"&nbsp;"}},methods:{sortContents:function(){var t=this.$store.getters.sortBy;switch(t){case"bookNumbers":if(this.$route.params.series&&this.book.series){var e=_.find(this.book.series,{asin:this.$route.params.series});return e&&_.isArray(e.bookNumbers)?e.bookNumbers.join(", "):""}if(this.book.series){var r=_.filter(this.book.series,"bookNumbers");return r=_.map(r,"bookNumbers"),r=_.flatten(r),_.isEmpty(r)?r=null:_.isArray(r)&&(r=r.join(", ")),r||"∞"}return"";case"seriesOrder":if(this.book.series){var i=this.$route.params.series,s=_.find(this.book.series,{asin:i});if(s){var o=s.bookNumbers;return o?_.isArray(o)?o.join(", "):o:"∞"}return this.notAvailable}return this.notAvailable;case"authors.name":case"narrators.name":case"publishers.name":case"tags.name":return _.get(this.book,t.replace(".name","[0].name"))||this.notAvailable;case"rating":return this.book.ratings?this.book[t]:this.notAvailable;case"ratings":return this.book.rating?this.book.rating:this.notAvailable;case"progress":var n=this.progressbarWidth(this.book);return this.progress(this.book)+'<div class="progress-bar"><div style="width: '+n.width+';"></div></div>';case"title":return this.book.titleShort||this.book.title||this.notAvailable;case"series":return this.book.series?_.map(this.book.series,"name").join(", "):this.notAvailable;case"categories":return this.book.categories?this.book.categories[0].name:this.notAvailable;case"isbn10":case"isbn13":if(!this.book.isbns)return this.notAvailable;if("isbn10"===t){var a=_.find(this.book.isbns,["type","ISBN_10"]);if(a)return a.identifier}else{if("isbn13"!==t)return this.notAvailable;var l=_.find(this.book.isbns,["type","ISBN_13"]);if(l)return l.identifier}break;case"narratorsNumber":if(this.book.narrators){var g=_.find(this.book.narrators,(function(t){return t.name.match("full cast")}));return g&&1===this.book.narrators.length?"​∞ full cast":this.book.narrators.length-(g?1:0)+(g?" full cast":"")}return this.notAvailable;default:return this.book[t]?this.book[t]:this.notAvailable}},progress:function(t){if(t.progress&&t.length){if("finished"===t.progress.toLowerCase().trim()){var e=this.timeStringToSeconds(t.length);return"<div>Finished ( "+this.secondsToTimeString(e,!0)+" )</div>"}var r=this.timeStringToSeconds(t.progress),i=this.timeStringToSeconds(t.length),s=i-r;return this.secondsToTimeString(s,!0)+" <strong class='audible-orange-text'>/</strong> "+this.secondsToTimeString(i,!0)}return t.progress?"<div>"+t.progress+" ("+this.notAvailable+")</div>":t.length?"<div>Length: "+t.length+"</div>":"<div>"+t.progress+"</div>"}}},l=(0,r(810).Z)(a,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"sort-values-container"},["myRating"!==t.$store.getters.sortBy&&"rating"!==t.$store.getters.sortBy&&"ratings"!==t.$store.getters.sortBy||"&nbsp;"===t.sortContents()?"favorite"!==t.$store.getters.sortBy?r("div",{directives:[{name:"tippy",rawName:"v-tippy",value:{trigger:"click mouseenter",allowHTML:!0},expression:"{ trigger: 'click mouseenter', allowHTML: true }"}],class:"sort-"+t.$store.getters.sortBy,attrs:{content:("progress"===t.$store.getters.sortBy?t.book.progress:"")+""},domProps:{innerHTML:t._s(t.sortContents())}}):r("div",{class:"sort-"+t.$store.getters.sortBy},[t.book.favorite?r("font-awesome",{attrs:{icon:["fas","heart"]}}):r("span",[t._v(" ")])],1):r("div",{directives:[{name:"tippy",rawName:"v-tippy",value:{trigger:"click mouseenter",allowHTML:!0},expression:"{ trigger: 'click mouseenter', allowHTML: true }"}],staticClass:"ratings",attrs:{content:("myRating"!==t.$store.getters.sortBy&&t.book.myRating?"My rating: "+t.book.myRating+"<br>":"")+("myRating"===t.$store.getters.sortBy&&t.book.rating?"Average rating: "+t.book.rating+"<br>":"")+("myRating"===t.$store.getters.sortBy&&t.book.ratings?"Number of ratings: "+t.book.ratings+"<br>":"")}},[r("star-rating",{attrs:{prioritizeRatingsText:"ratings"===t.$store.getters.sortBy,size:10,rating:t.sortContents(),number:!0,ratingsText:!1,ratings:"rating"!==t.$store.getters.sortBy&&"ratings"!==t.$store.getters.sortBy||!t.book.ratings?null:t.book.ratings}})],1)])}),[],!1,null,null,null).exports},5700:(t,e,r)=>{"use strict";r.d(e,{Z:()=>s}),r(2081),r(7471),r(2077),r(2482),r(3512);const i={name:"starRating",props:["size","rating","stars","ratings","ratingsText","prioritizeRatingsText","number","numberOf","block","image","placeholderImage","placeholderOpacity","noPlaceholder"],data:function(){return{opt:null,config:{rating:null,length:null}}},created:function(){this.opt={rating:5,stars:5,size:15,number:!1,numberOf:!1,block:!1,image:!1,placeholderImage:!1,placeholderOpacity:!1,noPlaceholder:!1};var t=this.splitDecimals(this.rating);this.config.rating=this.toPercentage(t);var e=this.noPlaceholder||this.opt.noPlacehoder;this.config.length=e?this.config.rating.whole+(this.config.rating.fraction?1:0):parseInt(this.stars||this.opt.stars,10)},methods:{splitDecimals:function(t){var e,r=""+t;return r.indexOf(".")>-1?e=r.split("."):r.indexOf(",")>-1&&(e=r.split(",")),e?{whole:e[0],fraction:"."+e[1]}:{whole:t,fraction:null}},toPercentage:function(t){var e={whole:parseInt(t.whole,10)};return t.fraction&&(e.originalFraction=t.fraction),t.fraction&&(e.fraction=Math.floor(100*parseFloat(t.fraction,10))),e}}},s=(0,r(810).Z)(i,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.config.rating?r("div",{staticClass:"sRatings-wrapper",class:{"sRatings-block":t.block||t.opt.block,"prioritize-ratings-text":t.prioritizeRatingsText},attrs:{"data-rating":t.rating||0}},[t.ratings&&t.prioritizeRatingsText?r("div",{staticClass:"rating-count"},[t._v(t._s(t.ratings)),!1!==t.ratingsText?r("span",[t._v(" ratings")]):t._e()]):t._e(),t._v(" "),t._l(t.config.length,(function(e,i){return r("div",{key:i,style:{width:t.config.rating.whole===e-1&&(t.noPlaceholder||t.opt.noPlaceholder)&&t.config.rating.fraction?(t.size||t.opt.size)*t.config.rating.originalFraction+"px":(t.size||t.opt.size)+"px",height:(t.size||t.opt.size)+"px"},attrs:{"data-star":e,"data-whole":t.config.rating.whole===e,"data-fraction":t.config.rating.fraction&&t.config.rating.whole===e-1}},[t.config.rating.whole<=e&&!t.noPlaceholder&&!t.opt.noPlaceholder?r("div",{staticClass:"sRatings-placeholder",class:{"sRatings-show":t.config.rating.whole<e},style:{left:t.config.rating.fraction&&t.config.rating.whole===e-1?t.config.rating.fraction+"%":"0%","background-size":(t.size||t.opt.size)+"px","background-image":!!(t.image||t.placeholderImage||t.opt.placeholderImage)&&"url("+(t.image&&!t.placeholderImage?t.image:t.placeholderImage||t.opt.placeholderImage)+")",opacity:t.placeholderOpacity||t.opt.placeholderOpacity}}):t._e(),t._v(" "),t.config.rating.whole>=e||t.config.rating.fraction&&t.config.rating.whole===e-1?r("div",{staticClass:"sRatings-star",style:{width:t.config.rating.whole>=e||t.config.rating.whole===e-1&&(t.noPlaceholder||t.opt.noPlaceholder)?"100%":t.config.rating.fraction+"%","background-size":(t.size||t.opt.size)+"px","background-image":!(!t.image&&!t.opt.image)&&"url("+(t.image||t.opt.image)+")"}}):t._e()])})),t._v(" "),t.number||t.opt.number?r("div",{staticClass:"text-label",style:{width:!(!t.numberOf&&!t.opt.numberOf)&&"auto",padding:!(!t.numberOf&&!t.opt.numberOf)&&"0 6px"}},[t._v(t._s(t.numberOf||t.opt.numberOf?t.rating+"/"+(t.stars||t.opt.stars):t.rating))]):t._e(),t._v(" "),t.ratings&&!t.prioritizeRatingsText?r("div",{staticClass:"rating-count"},[t._v("("+t._s(t.ratings)),!1!==t.ratingsText?r("span",[t._v(" ratings")]):t._e(),t._v(")")]):t._e()],2):t._e()}),[],!1,null,"42209754",null).exports}}]);