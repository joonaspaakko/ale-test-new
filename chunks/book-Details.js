(self.webpackChunk=self.webpackChunk||[]).push([[3],{65:(e,t,i)=>{"use strict";i.d(t,{Z:()=>o});const o={methods:{makeGoodReadsUrl:function(e){var t=((e=e||this.book).authors?e.authors[0].name+" - ":e.obj&&e.obj.authors?e.obj.authors[0].name+" - ":"")+(e.titleShort||e.title||"");return e.titleShort||e.title?"https://www.goodreads.com/search?q="+encodeURIComponent(t):null}}}},1405:(e,t,i)=>{"use strict";i.d(t,{Z:()=>o}),i(3238),i(895);const o={methods:{makeFullUrl:function(e){var t=new Url(this.$store.state.urlOrigin+e);return t.query.ipRedirectOverride=!0,t.query.overrideBaseCountry=!0,t.toString()},makeUrl:function(e,t){var i=this.$store.state.urlOrigin,o="";switch(e){case"store":case"book":o=i+"/pd/"+encodeURIComponent(t);break;case"author":o=t.url?i+"/author/"+t.url:i+"/search?searchAuthor="+encodeURIComponent(t.name);break;case"narrator":t.name&&(o=i+"/search?searchNarrator="+encodeURIComponent(t.name));break;case"series":t.asin&&(o=i+"/series/"+t.asin);break;case"publisher":t.name&&(o=i+"/search?searchProvider="+encodeURIComponent(t.name));break;case"categories":case"tags":t.url&&(o=i+"/cat/"+t.url)}if(o){var s=new Url(o);return s.query.ipRedirectOverride=!0,s.query.overrideBaseCountry=!0,s.toString()}return""}}}},4737:(e,t,i)=>{"use strict";i.d(t,{Z:()=>o}),i(266);const o={mixins:[i(5619).Z],methods:{progressbarWidth:function(e){if(e.progress){if("finished"===e.progress.toLowerCase().trim())return{width:"100%"};if(e.length){var t=this.timeStringToSeconds(e.progress),i=this.timeStringToSeconds(e.length);return{width:(t=i-t)/i*100+"%"}}return{width:0}}return{width:0}}}}},2863:(e,t,i)=>{"use strict";i.d(t,{Z:()=>o}),i(2410),i(3512),i(3238),i(895);const o={methods:{secondsToTimeString:function(e,t){var i=function(e,i){return t?e:("000"+e).slice(-1*i)},o=parseFloat(e).toFixed(3),s=Math.floor(o/60/60),a=Math.floor(o/60)%60,r=(Math.floor(o-60*a),o.slice(-3),(s.toString().length>1?s:i(s,2))+(t?"h ":".")),n=i(a,2)+(t?"m ":"");return t&&!s&&(r=""),r+n}}}},2194:(e,t,i)=>{var o=i(2086),s=i(3677),a=i(8240),r=i(4059),n=i(4080).trim,l=i(9439),c=o.parseInt,u=o.Symbol,g=u&&u.iterator,h=/^[+-]?0x/i,d=a(h.exec),p=8!==c(l+"08")||22!==c(l+"0x16")||g&&!s((function(){c(Object(g))}));e.exports=p?function(e,t){var i=n(r(e));return c(i,t>>>0||(d(h,i)?16:10))}:c},2081:(e,t,i)=>{var o=i(1695),s=i(2194);o({global:!0,forced:parseInt!=s},{parseInt:s})},5995:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>Z}),i(2077),i(911),i(266);var o=i(5619),s=i(2863),a=i(4737),r=i(3657),n=(i(5769),i(3238),i(1418),i(7460),i(4078),i(1405));const l={name:"carousel",props:["books","width"],mixins:[n.Z,r.Z],components:{splide:function(){return i.e(17).then(i.bind(i,7067)).then((function(e){return e.Splide}))},"splide-slide":function(){return i.e(17).then(i.bind(i,7067)).then((function(e){return e.SplideSlide}))}},data:function(){return{loaded:!1,options:{type:"loop",rewind:!0,width:null,trimSpace:!1,gap:"4px",lazyLoad:"nearby",preloadPages:1,perPage:5},coverSize:127}},mounted:function(){this.$nextTick((function(){var e=window.innerWidth,t=e<="716";this.options.width=t?e:this.$el.offsetWidth;var i=t?e-84:this.$el.offsetWidth-84;e<="500"&&(this.coverSize=102),e<="415"&&(this.coverSize=72),this.options.perPage=Math.floor(i/this.coverSize),this.loaded=!0}))},methods:{sliderTippyContent:function(e){return'<div style="font-weight: normal; text-align: left; padding: 10px; font-size: 13px; line-height: 17px">'+(e.title?'<div><h3 style="font-size: 1.2em; font-weight: bold; margin: 0 0 3px 0;">'+e.title+"</h3>":"")+(e.subHeading?'<div><h2 style="font-size: 1.1em; font-weight: normal; margin: 0 0 3px 0;">'+e.subHeading+"</h2>":"")+(e.authors?"<div><strong>Authors: </strong>"+e.authors+"</div>":"")+(e.narrators?"<div><strong>Narrators: </strong>"+e.narrators+"</div>":"")+(e.length?"<div><strong>Length: </strong>"+e.length+"</div>":"")+"</div>"}}};var c=i(810);const u=(0,c.Z)(l,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ale-carousel"},[i("h3",{staticClass:"ale-heading"},[e._t("default")],2),e._v(" "),e.loaded?i("splide",{ref:"splide",attrs:{options:e.options}},e._l(e.books,(function(t,o){return i("splide-slide",{key:o,staticClass:"ale-carousel-item"},[i("a",{directives:[{name:"tippy",rawName:"v-tippy"}],attrs:{href:e.makeUrl("book",t.asin),target:"_blank",rel:"noopener noreferrer",content:e.sliderTippyContent(t)}},[i("img",{staticClass:"cover",attrs:{crossorigin:"anonymous","data-splide-lazy":e.makeCoverUrl(t.cover,150),alt:""}})])])})),1):e._e()],1)}),[],!1,null,null,null).exports;i(8010),i(1203),i(2327),i(1013),i(5623),i(1514);const g={name:"openInApp",props:["book","size","muted"],data:function(){return{url:null}},created:function(){_.get(this.book,"asin")&&(this.url="https://smart.link/o3waqx4wg1gdn?asin="+this.book.asin)}},h=(0,c.Z)(g,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.url||e.muted?i("a",{staticClass:"audible-app-link",class:{muted:e.muted,placeholder:!e.book.asin},attrs:{href:e.url,target:"_blank",rel:"noopener noreferrer",tabindex:e.muted?0:-1}},[i("div",{directives:[{name:"tippy",rawName:"v-tippy",value:{placement:e.muted?"left":"top",flipBehavior:e.muted?["left","top","bottom","right"]:["top","bottom","right","left"]},expression:"{ \n      placement: (muted ? 'left' : 'top'), \n      flipBehavior: (muted ? ['left', 'top', 'bottom', 'right'] : ['top', 'bottom', 'right', 'left']) \n    }"}],staticClass:"gr-icon",style:{width:(e.size||30)+"px",height:(e.size||30)+"px"},attrs:{content:"Open in app"}},[i("img",{attrs:{src:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxNTEuNSA5My43IiB3aWR0aD0iMTUxLjUiIGhlaWdodD0iOTMuNyI+PGRlZnM+PHN0eWxlPi5jbHMtMXtmaWxsOiNmZmY7fTwvc3R5bGU+PC9kZWZzPjxnPjxnPjxwYXRoIGNsYXNzPSJjbHMtMSIgZD0iTTc1LjggODAuN2w3NS43LTQ3LjJ2MTIuOEw3NS44IDkzLjcgMCA0Ni4zVjMzLjVsNzUuOCA0Ny4yeiIvPjxwYXRoIGNsYXNzPSJjbHMtMSIgZD0iTTc1LjggMjEuNWE0OC4xNyA0OC4xNyAwIDAgMC00MC43IDIxLjkgMTIuOTQgMTIuOTQgMCAwIDEgMS44LTEuNmMyMS4zLTE3LjcgNTItMTMuNyA2OC43IDguNmwxMS4xLTcuMWE0OS44MiA0OS44MiAwIDAgMC00MC45LTIxLjgiLz48cGF0aCBjbGFzcz0iY2xzLTEiIGQ9Ik03NS44IDQzLjRhMjcuNzIgMjcuNzIgMCAwIDAtMjIuNCAxMS41IDIyLjcgMjIuNyAwIDAgMSAxMy41LTQuNGM4LjIgMCAxNS41IDQuMiAyMC40IDExLjNsMTAuNi02LjZhMjUuNzkgMjUuNzkgMCAwIDAtMjIuMS0xMS44TTI0LjYgMjQuMkM1NS44LS40IDk5LjkgNi4zIDEyMy40IDM5bC4yLjIgMTEuNS03LjFhNzAuODIgNzAuODIgMCAwIDAtMTE4LjYgMCA2MC42MyA2MC42MyAwIDAgMSA4LjEtNy45Ii8+PC9nPjwvZz48L3N2Zz4=",alt:""}})])]):e._e()}),[],!1,null,"670147d2",null).exports,d={name:"goodReadsLink",props:["book","icon","size","muted"],mixins:[i(65).Z],data:function(){return{goodreadsUrl:null}},created:function(){this.book&&(this.goodreadsUrl=this.makeGoodReadsUrl())}},p=(0,c.Z)(d,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.goodreadsUrl||e.muted?i("a",{staticClass:"good-reads-icon",class:{muted:e.muted,placeholder:!e.goodreadsUrl},attrs:{href:e.goodreadsUrl,target:"_blank",rel:"noopener noreferrer"}},[e.icon?i("div",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"gr-icon",style:{width:(e.size||30)+"px",height:(e.size||30)+"px"},attrs:{content:"Search for the book in Goodreads"}},[e.muted?i("img",{attrs:{alt:"",src:"data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9IjUxMiIgdmlld0JveD0iMCAwIDI0IDI0IiB3aWR0aD0iNTEyIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik01LjExMSAxOC45MDdoLjEyOWMuNTg1IDAgMS4xNzYgMCAxLjc2Mi4wMDUuMDc0IDAgLjE0My0uMDE5LjE2Ni4wOTguMzI4IDEuNjM2IDEuMzgzIDIuNTU5IDIuOSAyLjk5NSAxLjI0MS4zNTYgMi40OTUuMzY2IDMuNzQ5LjA4NCAxLjU1OC0uMzQ3IDIuNTgyLTEuMzI3IDMuMTM2LTIuODMxLjM2OS0xLjAwOC40OTQtMi4wNTMuNTA4LTMuMTE3LjAwNS0uMjcyLjAxNC0yLjIwMy0uMDA5LTIuNDc1bC0uMDQxLS4wMTRjLS4wMzcuMDctLjA3OS4xMzYtLjExNS4yMDYtMS4wMTkgMi4wMi0yLjgyNiAzLjE1OS00Ljg2MSAzLjIzOS00Ljc1LjE4OC03LjgxMi0yLjY3Mi03LjkzMi04LjI1OS0uMDIzLTEuMTExLjA4My0yLjE5OC4zODMtMy4yNjcuOTUtMy4zMzMgMy40NC01LjU0MSA3LjA5Ny01LjU2OSAyLjgyNi0uMDE5IDQuNjgxIDEuODE0IDUuMzU5IDMuMjk1LjAyMy4wNTIuMDYuMTA4LjExLjA4OVYuNDk4aDIuMDQzYzAgMTMuMTM5LjAwNSAxNS41NzIuMDA1IDE1LjU3Mi0uMDA1IDMuNjgtMS4yMzIgNi43MzYtNC43NSA3LjYwMy0zLjIwNS43OTItNy4zMzIuMjI1LTkuMDM5LTIuNjgxLS4zNjktLjYzMy0uNTQ0LTEuMzI3LS41OTktMi4wODZ6bTYuNzQ3LTE3LjE5NEM5LjQzNyAxLjY5IDYuODU0IDMuNjIxIDYuNTU0IDcuOTg1Yy0uMTg5IDIuNzY2LjY4MyA1LjcyOCAzLjI5OCA2Ljk2NiAxLjI3My42MDUgMy40MjcuNzAzIDQuOTk1LS40MDggMi4xOTUtMS41NTYgMi44OTEtNC41NDcgMi41MjctNy4yMTktLjQ0OC0zLjMzMy0yLjIwNS01LjYyNS01LjUxNi01LjYxMXoiIGZpbGw9IiNmZmYiLz48L3N2Zz4="}}):i("img",{attrs:{src:"data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9IjUxMiIgdmlld0JveD0iMCAwIDI0IDI0IiB3aWR0aD0iNTEyIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik01LjExMSAxOC45MDdoLjEyOWMuNTg1IDAgMS4xNzYgMCAxLjc2Mi4wMDUuMDc0IDAgLjE0My0uMDE5LjE2Ni4wOTguMzI4IDEuNjM2IDEuMzgzIDIuNTU5IDIuOSAyLjk5NSAxLjI0MS4zNTYgMi40OTUuMzY2IDMuNzQ5LjA4NCAxLjU1OC0uMzQ3IDIuNTgyLTEuMzI3IDMuMTM2LTIuODMxLjM2OS0xLjAwOC40OTQtMi4wNTMuNTA4LTMuMTE3LjAwNS0uMjcyLjAxNC0yLjIwMy0uMDA5LTIuNDc1bC0uMDQxLS4wMTRjLS4wMzcuMDctLjA3OS4xMzYtLjExNS4yMDYtMS4wMTkgMi4wMi0yLjgyNiAzLjE1OS00Ljg2MSAzLjIzOS00Ljc1LjE4OC03LjgxMi0yLjY3Mi03LjkzMi04LjI1OS0uMDIzLTEuMTExLjA4My0yLjE5OC4zODMtMy4yNjcuOTUtMy4zMzMgMy40NC01LjU0MSA3LjA5Ny01LjU2OSAyLjgyNi0uMDE5IDQuNjgxIDEuODE0IDUuMzU5IDMuMjk1LjAyMy4wNTIuMDYuMTA4LjExLjA4OVYuNDk4aDIuMDQzYzAgMTMuMTM5LjAwNSAxNS41NzIuMDA1IDE1LjU3Mi0uMDA1IDMuNjgtMS4yMzIgNi43MzYtNC43NSA3LjYwMy0zLjIwNS43OTItNy4zMzIuMjI1LTkuMDM5LTIuNjgxLS4zNjktLjYzMy0uNTQ0LTEuMzI3LS41OTktMi4wODZ6bTYuNzQ3LTE3LjE5NEM5LjQzNyAxLjY5IDYuODU0IDMuNjIxIDYuNTU0IDcuOTg1Yy0uMTg5IDIuNzY2LjY4MyA1LjcyOCAzLjI5OCA2Ljk2NiAxLjI3My42MDUgMy40MjcuNzAzIDQuOTk1LS40MDggMi4xOTUtMS41NTYgMi44OTEtNC41NDcgMi41MjctNy4yMTktLjQ0OC0zLjMzMy0yLjIwNS01LjYyNS01LjUxNi01LjYxMXoiIGZpbGw9IiM0ZTM0MmUiLz48L3N2Zz4=",alt:""}})]):i("span",[e._v("Search in Goodreads")])]):e._e()}),[],!1,null,"3eee499a",null).exports,m={name:"booksInSeriesLink",props:["series","book","index","seriesName"],mixins:[n.Z],data:function(){return{seriesPage:!1,routerLink:null,title:null,linkDisabled:!1}},created:function(){this.seriesPage="series"===this.$route.name,this.routerLink={name:"series",params:{series:this.series.asin},query:{subPageSource:"library"}},this.seriesName?this.routerLink.query.closeBookDetails=!0:this.routerLink.query.book=this.book.asin,this.linkDisabled=this.book.notInLibrary||this.seriesPage&&this.$route.params.series===this.series.asin},methods:{openBook:function(e){e.preventDefault(),this.book&&!this.book.notInLibrary&&this.book.asin!==this.$route.query.book&&this.$root.$emit("book-clicked",{book:this.book.obj})}}},b=(0,c.Z)(m,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"linky"},[e.seriesName&&e.linkDisabled?i("span",{staticClass:"series-not-link"},[e._v(e._s(e.seriesName))]):!e.seriesName&&e.book.notInLibrary&&e.book.asin?i("a",{directives:[{name:"tippy",rawName:"v-tippy",value:{maxWidth:350,placement:"right",flipBehavior:["right","top","bottom"]},expression:"{ maxWidth: 350, placement: 'right', flipBehavior: ['right', 'top', 'bottom'] }"}],staticClass:"clickety-click cursor-alias",attrs:{target:"_blank",rel:"noopener noreferrer",href:e.makeUrl("book",e.book.asin),content:e.book.title!==e.book.titleShort&&e.book.title}},[i("span",{staticClass:"numbers"},[e._v(e._s(e.book.bookNumbers))]),e._v(" "),i("span",{staticClass:"title"},[e._v(e._s(e.book.titleShort||e.book.title))])]):i("router-link",{directives:[{name:"tippy",rawName:"v-tippy",value:{maxWidth:350,placement:"right",flipBehavior:["right","top","bottom"]},expression:"{ maxWidth: 350, placement: 'right', flipBehavior: ['right', 'top', 'bottom'] }"}],staticClass:"clickety-click",class:{"link-disabled":e.linkDisabled},attrs:{event:e.linkDisabled?"":"click",to:e.linkDisabled?"":e.routerLink,content:e.seriesName?null:(e.book.notInLibrary?"<strong>Not available:</strong> ":"")+(e.book.title!==e.book.titleShort?e.book.title:"")},nativeOn:{click:function(t){e.linkDisabled&&e.openBook(t)}}},[e.seriesName?i("span",{staticStyle:{"white-space":"normal","padding-bottom":"3px",display:"inline-block"}},[e._v("\n      "+e._s(e.seriesName)+"\n    ")]):e._e(),e._v(" "),e.seriesName?e._e():i("span",{staticClass:"numbers"},[e._v(e._s(e.book.bookNumbers))]),e._v(" "),e.seriesName?e._e():i("span",{staticClass:"title"},[e._v(e._s(e.book.titleShort||e.book.title))])])],1)}),[],!1,null,"9997642a",null).exports,k={name:"booksInSeriesFilters",props:["series"],data:function(){return{showAllToggle:!1,showFinishedToggle:!1,count:{notInLibrary:0,finished:0}}},created:function(){this.series.collection&&(this.count.finished=this.countFinished(),this.showFinishedToggle=this.count.finished>0,this.count.notInLibrary=this.countNotInLibrary(),this.showAllToggle=this.count.notInLibrary>0)},methods:{countFinished:function(){var e=0;return _.each(this.series.collection,(function(t){if(t.books){var i=_.filter(t.books,(function(e){var t=_.get(e,"obj.progress");return!!t&&t.match(/finished/i)}));e+=i.length}})),e},countNotInLibrary:function(){var e=0;return _.each(this.series.collection,(function(t){if(t.books){var i=_.filter(t.books,"notInLibrary");e+=i.length}})),e}}},y=(0,c.Z)(k,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"list-filter-wrapper",style:{top:e.$store.state.topNavOffset+"px"}},[i("div",{staticClass:"row"},[e.showAllToggle?i("div",{staticClass:"show-all-toggle",on:{click:function(t){return e.$store.commit("stickyProp",{key:"booksInSeriesAll",value:!e.$store.state.sticky.booksInSeriesAll})}}},[i("div",[i("font-awesome",{class:{active:e.$store.state.sticky.booksInSeriesAll},staticStyle:{"padding-right":"4px"},attrs:{icon:["fas","ban"]}}),e._v(" "),e.showFinishedToggle?e._e():i("span",[e._v("Not in library:")]),e._v(" "),i("span",[e._v(e._s(e.count.notInLibrary))])],1)]):e._e(),e._v(" "),e.showFinishedToggle?i("div",{staticClass:"show-finished",on:{click:function(t){return e.$store.commit("stickyProp",{key:"booksInSeriesFinished",value:!e.$store.state.sticky.booksInSeriesFinished})}}},[i("div",[i("font-awesome",{class:{active:e.$store.state.sticky.booksInSeriesFinished},staticStyle:{"padding-right":"4px"},attrs:{icon:["fas","archive"]}}),e._v(" "),e.showAllToggle?e._e():i("span",[e._v("Finished books:")]),e._v(" "),i("span",[e._v(e._s(e.count.finished))])],1)]):e._e(),e._v(" "),i("div",{staticStyle:{flex:"unset","padding-left":"6px","padding-right":"6px","min-width":"30px"},on:{click:function(t){return e.$store.commit("stickyProp",{key:"booksInSeriesOpenInApp",value:!e.$store.state.sticky.booksInSeriesOpenInApp})}}},[e.$store.state.sticky.booksInSeriesOpenInApp?i("span",[i("img",{staticClass:"img-icon",attrs:{src:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxNTEuNSA5My43IiB3aWR0aD0iMTUxLjUiIGhlaWdodD0iOTMuNyI+PGRlZnM+PHN0eWxlPi5jbHMtMXtmaWxsOiNmZmY7fTwvc3R5bGU+PC9kZWZzPjxnPjxnPjxwYXRoIGNsYXNzPSJjbHMtMSIgZD0iTTc1LjggODAuN2w3NS43LTQ3LjJ2MTIuOEw3NS44IDkzLjcgMCA0Ni4zVjMzLjVsNzUuOCA0Ny4yeiIvPjxwYXRoIGNsYXNzPSJjbHMtMSIgZD0iTTc1LjggMjEuNWE0OC4xNyA0OC4xNyAwIDAgMC00MC43IDIxLjkgMTIuOTQgMTIuOTQgMCAwIDEgMS44LTEuNmMyMS4zLTE3LjcgNTItMTMuNyA2OC43IDguNmwxMS4xLTcuMWE0OS44MiA0OS44MiAwIDAgMC00MC45LTIxLjgiLz48cGF0aCBjbGFzcz0iY2xzLTEiIGQ9Ik03NS44IDQzLjRhMjcuNzIgMjcuNzIgMCAwIDAtMjIuNCAxMS41IDIyLjcgMjIuNyAwIDAgMSAxMy41LTQuNGM4LjIgMCAxNS41IDQuMiAyMC40IDExLjNsMTAuNi02LjZhMjUuNzkgMjUuNzkgMCAwIDAtMjIuMS0xMS44TTI0LjYgMjQuMkM1NS44LS40IDk5LjkgNi4zIDEyMy40IDM5bC4yLjIgMTEuNS03LjFhNzAuODIgNzAuODIgMCAwIDAtMTE4LjYgMCA2MC42MyA2MC42MyAwIDAgMSA4LjEtNy45Ii8+PC9nPjwvZz48L3N2Zz4=",alt:""}})]):i("span",[i("img",{staticClass:"img-icon",attrs:{src:"data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9IjUxMiIgdmlld0JveD0iMCAwIDI0IDI0IiB3aWR0aD0iNTEyIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik01LjExMSAxOC45MDdoLjEyOWMuNTg1IDAgMS4xNzYgMCAxLjc2Mi4wMDUuMDc0IDAgLjE0My0uMDE5LjE2Ni4wOTguMzI4IDEuNjM2IDEuMzgzIDIuNTU5IDIuOSAyLjk5NSAxLjI0MS4zNTYgMi40OTUuMzY2IDMuNzQ5LjA4NCAxLjU1OC0uMzQ3IDIuNTgyLTEuMzI3IDMuMTM2LTIuODMxLjM2OS0xLjAwOC40OTQtMi4wNTMuNTA4LTMuMTE3LjAwNS0uMjcyLjAxNC0yLjIwMy0uMDA5LTIuNDc1bC0uMDQxLS4wMTRjLS4wMzcuMDctLjA3OS4xMzYtLjExNS4yMDYtMS4wMTkgMi4wMi0yLjgyNiAzLjE1OS00Ljg2MSAzLjIzOS00Ljc1LjE4OC03LjgxMi0yLjY3Mi03LjkzMi04LjI1OS0uMDIzLTEuMTExLjA4My0yLjE5OC4zODMtMy4yNjcuOTUtMy4zMzMgMy40NC01LjU0MSA3LjA5Ny01LjU2OSAyLjgyNi0uMDE5IDQuNjgxIDEuODE0IDUuMzU5IDMuMjk1LjAyMy4wNTIuMDYuMTA4LjExLjA4OVYuNDk4aDIuMDQzYzAgMTMuMTM5LjAwNSAxNS41NzIuMDA1IDE1LjU3Mi0uMDA1IDMuNjgtMS4yMzIgNi43MzYtNC43NSA3LjYwMy0zLjIwNS43OTItNy4zMzIuMjI1LTkuMDM5LTIuNjgxLS4zNjktLjYzMy0uNTQ0LTEuMzI3LS41OTktMi4wODZ6bTYuNzQ3LTE3LjE5NEM5LjQzNyAxLjY5IDYuODU0IDMuNjIxIDYuNTU0IDcuOTg1Yy0uMTg5IDIuNzY2LjY4MyA1LjcyOCAzLjI5OCA2Ljk2NiAxLjI3My42MDUgMy40MjcuNzAzIDQuOTk1LS40MDggMi4xOTUtMS41NTYgMi44OTEtNC41NDcgMi41MjctNy4yMTktLjQ0OC0zLjMzMy0yLjIwNS01LjYyNS01LjUxNi01LjYxMXoiIGZpbGw9IiNmZmYiLz48L3N2Zz4="}})])])])])}),[],!1,null,"654e5aa6",null).exports,v={name:"booksInSeries",props:["book"],mixins:[n.Z],components:{openInApp:h,goodReadsLink:p,booksInSeriesLink:b,filters:y},data:function(){return{inSeries:!1,series:{collection:null,toggle:!1}}},created:function(){this.seriesPage="series"===this.$route.name,this.series.collection=this.getBooksInSeries(),this.series.count=this.getSeriesCount();var e=this;_.each(this.series.collection,(function(t){if(t.books.length)return e.inSeries=!0,!1}))},mounted:function(){var e=this;this.$store.state.sticky.booksInSeriesToggle&&this.$nextTick((function(){e.$root.$emit("resizeSummary")}))},methods:{inLibraryLength:function(e){return _.filter(e.books,(function(e){return!e.notInLibrary})).length},checkFilter:function(e){if(e.notInLibrary)return this.$store.state.sticky.booksInSeriesAll;if(this.$store.state.sticky.booksInSeriesFinished)return!0;var t=_.get(e,"obj.progress");return!t||!t.match(/finished/i)},getBooksInSeries:function(){var e=this,t=[];return e.book.series&&_.each(e.book.series,(function(i,o){var s=_.find(e.$store.state.library.series,{asin:i.asin});if(s){var a=s.books;s.allBooks&&(a=s.allBooks),t.push({asin:i.asin,name:i.name,length:s.length,books:_.map(a,(function(t){var o=t.asin||t;if(_.includes(s.books,o)){var a=_.find(e.$store.state.library.books,{asin:o}),r=_.find(a.series,{asin:i.asin}),n=s.allBooks?t.bookNumbers:_.isArray(r.bookNumbers)?r.bookNumbers.join(","):r.bookNumbers;return{asin:t.asin||a.asin,bookNumbers:n,title:t.title||a.title,titleShort:t.titleShort||a.titleShort,obj:a}}return t.notInLibrary=!0,t.obj={},t}))})}})),t.length>0?t:null},getSeriesCount:function(){var e=[];return _.each(this.series.collection,(function(t,i){t.books.length&&_.each(t.books,(function(t){t.notInLibrary||(e[i]||e.push(0),++e[i])}))})),e.join(", ")},booksInSeriesLabelClick:function(){var e=this;this.$store.commit("stickyProp",{key:"booksInSeriesToggle",value:!this.$store.state.sticky.booksInSeriesToggle}),this.$nextTick((function(){e.$root.$emit("resizeSummary")}))},numbersClass:function(e){var t=_.get(e,"obj.progress");return{finished:!(!t||!t.toLowerCase().match("finished")),reading:!(!t||t.toLowerCase().match("finished")),unfinished:!t,current:this.book.asin===_.get(e,"obj.asin"),"not-in-library":e.notInLibrary}},iconTippyContent:function(e){if(e.free&&e.notInLibrary)return"This book is free...";if(e.plus&&e.notInLibrary)return"In the plus catalog...";if(e.notInLibrary)return"Not in library...";var t=this.numbersClass(e),i="";return t.finished?i="Finished!":t.unfinished?i="Not started...":t.reading&&(i="Started..."),i},booksInSeriesIcon:function(e){if(e.free&&e.notInLibrary)return"minus-circle";if(e.plus&&e.notInLibrary)return"plus-circle";if(e.notInLibrary)return"ban";var t=this.numbersClass(e),i="";return t.finished?i="archive":t.unfinished?i="book":t.reading&&(i="book-reader"),i}}},f=(0,c.Z)(v,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.inSeries?i("div",[i("div",{staticClass:"label hidden-section-label my-books-in-series-label",on:{click:e.booksInSeriesLabelClick}},[i("span",{staticClass:"heading"},[e._v("My books in the series")]),e._v(" "),i("span",{staticClass:"count"},[e._v(e._s(e.series.count))]),e._v(" "),i("font-awesome",{attrs:{fas:"",icon:e.$store.state.sticky.booksInSeriesToggle?"chevron-up":"chevron-down"}})],1),e._v(" "),e.$store.state.sticky.booksInSeriesToggle?i("div",{staticClass:"hidden-section my-books-in-series"},[i("filters",{attrs:{series:e.series}}),e._v(" "),e._l(e.series.collection,(function(t,o){return i("div",{key:t.asin,staticClass:"series-section"},[i("div",{directives:[{name:"tippy",rawName:"v-tippy",value:{placement:"right",flipBehavior:["right","top","bottom"],maxWidth:300,allowHTML:!0},expression:"{ placement: 'right', flipBehavior: ['right', 'top', 'bottom'], maxWidth: 300, allowHTML: true }"}],staticClass:"series-heading",attrs:{content:"<div style='text-align: left;'>The first number is how many books you have in the series. The total is based on every single listing in the series page, including different versions or bundles with books you may already have.</div>"}},[i("div",{staticClass:"series-name"},[i("books-in-series-link",{attrs:{series:t,book:{},index:-1,seriesName:t.name}})],1),e._v(" "),i("div",{staticClass:"series-length"},[e._v("\n          "+e._s(e.inLibraryLength(t))+" / "+e._s(t.length)+"\n        ")])]),e._v(" "),e._l(t.books,(function(o,s){return e.checkFilter(o)?i("div",{key:o.asin,staticClass:"numbers-list-item",class:e.numbersClass(o),attrs:{"data-series-name":t.name}},[e.$store.state.sticky.booksInSeriesOpenInApp?i("open-in-app",{attrs:{size:14,book:o,muted:!0}}):i("good-reads-link",{attrs:{size:14,book:o,icon:!0,muted:!0}}),e._v(" "),i("span",{directives:[{name:"tippy",rawName:"v-tippy",value:{placement:"left",flipBehavior:["left","top","bottom"]},expression:"{ placement: 'left', flipBehavior: ['left', 'top', 'bottom'] }"}],staticClass:"icon",attrs:{content:e.iconTippyContent(o)}},[i("font-awesome",{attrs:{fas:"",icon:e.booksInSeriesIcon(o)}})],1),e._v(" "),i("books-in-series-link",{attrs:{series:t,book:o,index:s}})],1):e._e()}))],2)}))],2):e._e()]):e._e()}),[],!1,null,null,null).exports,M={name:"arrayToHTML",data:function(){return{inputDataExists:null}},props:["label","array","delim","noLabel","chevron"],mixins:[n.Z],created:function(){this.inputDataExists=this.checkIfArrayHasData()},computed:{identifierClass:function(){return"details-"+_.kebabCase(this.label)}},methods:{checkIfArrayHasData:function(){return this.array&&!_.isEmpty(this.array)}}},I=(0,c.Z)(M,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.inputDataExists?i("div",{class:e.identifierClass},[e.noLabel?e._e():i("strong",{staticClass:"strong-label"},[e._v(e._s(e.label)+":")]),e._v(" "),e._l(e.array,(function(t,o){return i("span",{key:t.name+"("+o+")"},[i("span",[0!==o?i("span",[e.chevron?i("span",{staticClass:"chevron"},[i("font-awesome",{attrs:{fas:"",icon:"chevron-right"}})],1):i("span",[e._v(e._s(e.delim||", "))])]):e._e(),e._v(" "),i("a",{attrs:{href:e.makeUrl(e.label.toLowerCase(),t),target:"_blank",rel:"noopener noreferrer"}},[e._v(e._s(t.name))]),t.bookNumbers?i("span",{staticClass:"book-number"},[e._v("\n        (book\n        "),e._l(t.bookNumbers,(function(t,o){return i("span",[0!==o?i("span",[e._v(e._s(","))]):e._e(),i("span",[e._v(e._s(t))])])})),e._v(")")],2):e._e()])])}))],2):e._e()}),[],!1,null,"15f1a320",null).exports,w={name:"bookTags",props:["book"],mixins:[n.Z],data:function(){return{}}},S=(0,c.Z)(w,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"book-tags"},e._l(e.book.tags,(function(t){return i("a",{key:t.name,staticClass:"book-tag",attrs:{href:e.makeUrl("tags",t),target:"_blank",rel:"noopener noreferrer"}},[e._v("\n    "+e._s(t.name)+"\n  ")])})),0)}),[],!1,null,"e6a33df2",null).exports,L={name:"bookSummary",props:["book","bookSummary"],mixins:[n.Z],components:{arrayToHTML:I,bookTags:S},data:function(){return{summary:{readmore:{toggle:!1,exists:!1},minHeight:null,maxHeight:null,maxHeightTemp:null,height:null,fullHeight:null}}},computed:{showSubtitle:function(){var e=this.$store.state.sticky.bookDetailSettings.titleShort,t=!!this.book.subtitle,i=!!this.book.title&&!!this.book.titleShort&&this.book.title!==this.book.titleShort;return e&&(t||i)},summaryHTML:function(){return this.book.summary||this.bookSummary||this.book.blurb}},mounted:function(){this.$nextTick((function(){this.getSummaryMaxHeight()}))},created:function(){this.$root.$on("afterWindowResize",this.getSummaryMaxHeight),this.$root.$on("resizeSummary",this.getSummaryMaxHeight)},beforeDestroy:function(){this.$root.$off("afterWindowResize",this.getSummaryMaxHeight),this.$root.$off("resizeSummary",this.getSummaryMaxHeight)},methods:{getSummaryMaxHeight:function(){if(this.summaryHTML){var e=_.get(this.$refs,"summaryMetaTop.offsetHeight",0),t=e+300;this.summary.minHeight=e;var i=_.get(this.$refs,"summaryInnerWrap.offsetHeight",0);this.summary.height=i;var o=_.get(this.$refs,"summary.offsetHeight",0);this.summary.fullHeight=o;var s=e+i;if(window.innerWidth<=688)i>300&&(s=t),this.summary.maxHeight=s,this.summary.maxHeightTemp=this.summary.maxHeight;else{var a=this.$parent.$el.querySelector(".information"),r=_.get(a,"offsetHeight",0);if(r<t)this.summary.maxHeight=t,this.summary.maxHeightTemp=t;else{var n=o>r;this.summary.maxHeight=n?r:null,this.summary.maxHeightTemp=r}}}},summaryReadMoreclick:function(){var e=this.$refs.readMoreBtn.getBoundingClientRect().top;this.summary.readmore.toggle=!this.summary.readmore.toggle,this.summary.maxHeight=this.summary.readmore.toggle?"none":this.summary.maxHeightTemp,this.summary.readmore.toggle||this.$nextTick((function(){scroll({top:this.$refs.readMoreBtn.getBoundingClientRect().top+window.pageYOffset-e})}))}}},x=(0,c.Z)(L,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{ref:"summaryWrapper",staticClass:"book-summary-wrapper",class:{expanded:e.summary.readmore.toggle},style:{maxHeight:e.summary.maxHeight?e.summary.maxHeight+"px":null,paddingBottom:e.summary.readmore.toggle?"50px":"0px"}},[i("div",{ref:"summary",staticClass:"book-summary"},[i("div",{ref:"summaryMetaTop",staticClass:"summary-meta-top"},[i("h2",{staticClass:"book-title"},[i("a",{attrs:{href:e.makeUrl("book",e.book.asin),target:"_blank",rel:"noopener noreferrer"}},[e.$store.state.sticky.bookDetailSettings.titleShort?i("span",[e._v(e._s(e.book.titleShort||e.book.title))]):i("span",[e._v(e._s(e.book.title||e.book.titleShort))])])]),e._v(" "),e.showSubtitle?i("div",{staticClass:"additional-long-book-title"},[e._v("\n        "+e._s(e.book.subtitle||e.book.title)+"\n      ")]):e._e(),e._v(" "),e.book.categories?i("div",{staticClass:"categories",staticStyle:{"margin-top":"4px"}},[e.book.categories?i("arrayToHTML",{attrs:{label:"categories",noLabel:!0,array:e.book.categories,chevron:!0}}):e._e()],1):e._e(),e._v(" "),e.book.tags?i("book-tags",{attrs:{book:e.book}}):e._e(),e._v(" "),i("div",{staticClass:"inline-children smoll-text"},[e.book.releaseDate?i("div",{staticClass:"release-date",staticStyle:{"margin-right":"5px"}},[i("span",{staticClass:"strong-label"},[e._v("Released:")]),e._v(" "),i("span",[e._v(e._s(e.book.releaseDate))])]):e._e(),e._v(" "),i("div",[e.book.storePageChanged?i("div",{directives:[{name:"tippy",rawName:"v-tippy",value:{maxWidth:300},expression:"{ maxWidth: 300 }"}],staticClass:"info-tag store-page-changed",attrs:{content:"There is a store page for the book, but it's for a different version of the book. <br><br>This is the reason why some data is unavailable."}},[i("font-awesome",{attrs:{icon:["fas","shopping-bag"]}}),e._v("\n            changed\n          ")],1):e.book.storePageMissing?i("div",{directives:[{name:"tippy",rawName:"v-tippy",value:{maxWidth:300},expression:"{ maxWidth: 300 }"}],staticClass:"info-tag store-page-missing",attrs:{content:"Store page was possibly removed or it became unavailable in your region since it was added. In some cases there may still be a store page for a different version of the book. <br><br>This is the reason why some data is unavailable."}},[i("font-awesome",{attrs:{icon:["fas","shopping-bag"]}}),e._v("\n            missing\n          ")],1):e._e(),e._v(" "),e.book.fromPlusCatalog?i("div",{directives:[{name:"tippy",rawName:"v-tippy",value:{maxWidth:300},expression:"{ maxWidth: 300 }"}],staticClass:"info-tag plus-catalog",class:{"plus-catalog-unavailable":e.book.unavailable},attrs:{content:e.book.unavailable?"Used to be in the plus catalog but you no longer have access to it":"In the plus catalog"}},[i("font-awesome",{attrs:{fas:"",icon:["fas","plus-circle"]}}),e._v("\n            Plus catalog\n          ")],1):e._e(),e._v(" "),e.book.whispersync?i("div",{directives:[{name:"tippy",rawName:"v-tippy",value:{maxWidth:300},expression:"{ maxWidth: 300 }"}],staticClass:"info-tag whispersync",class:{owned:"owned"===e.book.whispersync},attrs:{content:"owned"===e.book.whispersync?"I own the Kindle version":"Kindle book available for purchase..."}},[i("font-awesome",{attrs:{icon:["fas","headphones-alt"]}}),e._v("\n            whispersync\n          ")],1):e._e()])]),e._v(" "),i("div",{staticClass:"meta-padding"})],1),e._v(" "),e.summaryHTML?i("div",{ref:"summaryInnerWrap",staticClass:"summary-inner-wrap",domProps:{innerHTML:e._s(e.summaryHTML)}}):e._e()]),e._v(" "),e.summary.maxHeightTemp&&e.summary.fullHeight>e.summary.maxHeightTemp?i("div",{ref:"readMoreBtn",staticClass:"summary-read-more",on:{click:e.summaryReadMoreclick}},[i("span",[e._v(e._s(e.summary.readmore.toggle?"Read less":"Read more"))]),e._v(" "),i("font-awesome",{attrs:{fas:"",icon:e.summary.readmore.toggle?"chevron-up":"chevron-down"}})],1):e._e()])}),[],!1,null,"2b16cd1d",null).exports,j={name:"collectionsDrawer",props:["book"],data:function(){return{collections:null,store:this.$store.state}},created:function(){this.compileCollections()},mounted:function(){var e=this;this.$store.state.sticky.collectionsDrawerToggle&&this.$nextTick((function(){e.$root.$emit("resizeSummary")}))},methods:{compileCollections:function(){var e=this.book.collectionIds,t=this.store.library.collections;e&&t&&(this.collections=_.filter(t,(function(t){return _.includes(e,t.id)})))},labelClick:function(){var e=this;this.$store.commit("stickyProp",{key:"collectionsDrawerToggle",value:!this.$store.state.sticky.collectionsDrawerToggle}),this.$nextTick((function(){e.$root.$emit("resizeSummary")}))}}},N=(0,c.Z)(j,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.collections?i("div",[i("div",{staticClass:"label hidden-section-label",on:{click:e.labelClick}},[i("span",{staticClass:"heading"},[e._v("This book in collections")]),e._v(" "),i("span",{staticClass:"count"},[e._v(e._s(e.collections.length))]),e._v(" "),i("font-awesome",{attrs:{fas:"",icon:e.$store.state.sticky.collectionsDrawerToggle?"chevron-up":"chevron-down"}})],1),e._v(" "),e.$store.state.sticky.collectionsDrawerToggle?i("div",{staticClass:"hidden-section"},e._l(e.collections,(function(t){return i("router-link",{key:t.id,staticClass:"collection-link",attrs:{to:{name:"collection",params:{collection:t.id},query:{book:e.book.asin}}}},[i("span",{staticClass:"text"},[e._v(e._s(t.title))]),e._v(" "),i("span",{staticClass:"total-books"},[e._v(e._s(t.books.length))])])})),1):e._e()]):e._e()}),[],!1,null,"dcf1166a",null).exports,D={name:"bookDetailsSettings",data:function(){var e=this,t=(this.$store.state,this.$store.state.sticky);return{showSettings:!0,settings:[{type:"heading",label:"Grid book cover"},{enabled:!0,type:"checkbox",label:"Show sample play button",info:'<img src="images/info/sample-play-button.jpg" class="tippy-info-image" />',value:t.bookDetailSettings.playButton,event:function(t){e.$store.commit("prop",{key:"sticky.bookDetailSettings.playButton",value:t.target.checked})}},{enabled:!0,type:"checkbox",label:"Show blurb on hover",info:'This is never visible on mobile <br/><img src="images/info/blurb-hover-corner.jpg" class="tippy-info-image" />',value:t.bookDetailSettings.blurb,event:function(t){e.$store.commit("prop",{key:"sticky.bookDetailSettings.blurb",value:t.target.checked})}},{enabled:!0,type:"checkbox",label:"Show whispersync (owned) indicator",info:'<img src="images/info/cover-whispersync-indicator.jpg" class="tippy-info-image" />',value:t.bookDetailSettings.whispersync,event:function(t){e.$store.commit("prop",{key:"sticky.bookDetailSettings.whispersync",value:t.target.checked})}},{enabled:!0,type:"checkbox",label:"Show plus catalog indicator",info:'<img src="images/info/cover-plus-calatog-indicator.jpg" class="tippy-info-image" />',value:t.bookDetailSettings.plusCatalog,event:function(t){e.$store.commit("prop",{key:"sticky.bookDetailSettings.plusCatalog",value:t.target.checked})}},{enabled:!0,type:"checkbox",label:"Show favorite indicator",info:'<strong>The RED dot</strong><br><img src="images/info/cover-favorite-finished-indicators.jpg" class="tippy-info-image" />',value:t.bookDetailSettings.favorite,event:function(t){e.$store.commit("prop",{key:"sticky.bookDetailSettings.favorite",value:t.target.checked})}},{enabled:!0,type:"checkbox",label:"Show finished indicator",info:'<strong>The GREEN dot</strong><br><img src="images/info/cover-favorite-finished-indicators.jpg" class="tippy-info-image" />',value:t.bookDetailSettings.finished,event:function(t){e.$store.commit("prop",{key:"sticky.bookDetailSettings.finished",value:t.target.checked})}},{type:"divider"},{type:"heading",label:"Above summary"},{enabled:!0,type:"checkbox",label:"Prefer short title",info:"Short title is used if available (newly extracted data since v.0.2.9). Subtitle is shown below with a smaller font similar to Audible store pages. <br/><br/><strong>In case subtitle is not available, the full title is shown below instead, so you always get to see the full title either way.</strong><br/><br/><img src='images/info/prefer-short-title.jpg' class='tippy-info-image' />",value:t.bookDetailSettings.titleShort,event:function(t){e.$store.commit("prop",{key:"sticky.bookDetailSettings.titleShort",value:t.target.checked}),e.$nextTick((function(){e.$root.$emit("resizeSummary")}))}},{type:"divider"},{type:"heading",label:"Sidebar"},{enabled:!0,type:"checkbox",label:"Show sidebar",info:'<strong>The entire sidebar!</strong> <br><img src="images/info/sidebar.jpg" class="tippy-info-image" />',value:t.bookDetailSettings.sidebar.show,event:function(t){var i=t.target.checked;e.$store.commit("prop",{key:"sticky.bookDetailSettings.sidebar.show",value:i}),e.$nextTick((function(){e.$root.$emit("resizeSummary")})),e.mutateChildren("sidebar","enabled",i)},init:function(i){e.mutateChildren("sidebar","enabled",t.bookDetailSettings.sidebar.show)}},{enabled:!0,type:"checkbox",label:"Show book cover",parent:"sidebar",info:'There is also an easy access toggle swith on the left side of the sidebar (arrow up) <br><img src="images/info/sidebar-cover.jpg" class="tippy-info-image" />',value:!t.bookDetailsCollapsedCover,event:function(t){e.$store.commit("prop",{key:"sticky.bookDetailsCollapsedCover",value:!t.target.checked}),e.$nextTick((function(){e.$root.$emit("resizeSummary")}))}},{enabled:!0,type:"checkbox",label:"Show icon toolbar",parent:"sidebar",info:'<img src="images/info/sidebar-toolbar.jpg" class="tippy-info-image" />',value:t.bookDetailSettings.sidebar.iconToolbar,event:function(t){e.$store.commit("prop",{key:"sticky.bookDetailSettings.sidebar.iconToolbar",value:t.target.checked}),e.$nextTick((function(){e.$root.$emit("resizeSummary")}))}},{enabled:!0,type:"checkbox",label:"Show main details",parent:"sidebar",info:'There is also an easy access toggle swith on the left side of the sidebar (arrow up) <br><img src="images/info/sidebar-main-info.jpg" class="tippy-info-image" />',value:!t.bookDetailsCollapsedDetails,event:function(t){e.$store.commit("prop",{key:"sticky.bookDetailsCollapsedDetails",value:!t.target.checked}),e.$nextTick((function(){e.$root.$emit("resizeSummary")}))}},{enabled:!0,type:"checkbox",label:"Show collections list",parent:"sidebar",info:'If a book is in a collection... <br><img src="images/info/sidebar-collections-list.jpg" class="tippy-info-image" />',value:t.bookDetailSettings.sidebar.collectionsList,event:function(t){e.$store.commit("prop",{key:"sticky.bookDetailSettings.sidebar.collectionsList",value:t.target.checked}),e.$nextTick((function(){e.$root.$emit("resizeSummary")}))}},{enabled:!0,type:"checkbox",label:"Show series list",parent:"sidebar",info:'If a book is in a series... <br><img src="images/info/sidebar-series-list.jpg" class="tippy-info-image" />',value:t.bookDetailSettings.sidebar.seriesList,event:function(t){e.$store.commit("prop",{key:"sticky.bookDetailSettings.sidebar.seriesList",value:t.target.checked}),e.$nextTick((function(){e.$root.$emit("resizeSummary")}))}},{type:"divider"},{type:"heading",label:"Bottom of the details view"},{enabled:!0,type:"checkbox",label:"Show carousel",info:'<img src="images/info/carousel.jpg" class="tippy-info-image" />',value:t.bookDetailSettings.carousel,event:function(t){e.$store.commit("prop",{key:"sticky.bookDetailSettings.carousel",value:t.target.checked})}}]}},created:function(){var e=_.filter(this.settings,"init");_.each(e,(function(e){e.init(e)})),this.dividerIds()},mounted:function(){this.$nextTick((function(){this.setMinHeight()}))},methods:{mutateChildren:function(e,t,i){var o=_.filter(this.settings,{parent:e});_.each(o,(function(e){e[t]=i}))},dividerIds:function(){var e=_.filter(this.settings,{type:"divider"});_.each(e,(function(e,t){e.label="divider-"+t}))},setMinHeight:function(){var e=this.$el.offsetHeight;this.$store.state.sticky.bookDetailSettings.minHeight,console.log(e),this.$store.commit("prop",{key:"sticky.bookDetailSettings.minHeight",value:e+"px"})}}},T=(0,c.Z)(D,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"settings-outer-wrapper"},[i("div",{staticClass:"tabs"},[i("h3",{class:{active:e.showSettings},on:{click:function(t){e.showSettings=!0}}},[e._v("Settings")]),e._v(" "),i("h3",{class:{active:!e.showSettings},on:{click:function(t){e.showSettings=!1}}},[e._v("Shortcuts")])]),e._v(" "),i("div",[e.showSettings?i("div",{staticClass:"settings-wrapper"},e._l(e.settings,(function(t){return i("div",{key:t.label,staticClass:"setting",class:{disabled:!t.enabled}},["heading"===t.type?i("div",{staticClass:"heading"},[i("h3",[e._v(e._s(t.label))])]):"divider"===t.type?i("div",{staticClass:"divider"}):i("div",{staticClass:"inner-wrapper"},[i("label",[i("input",{attrs:{type:"checkbox",disabled:!t.enabled},domProps:{checked:t.value},on:{change:t.event}}),e._v(" "),e._m(0,!0),e._v(" "),i("div",{staticClass:"label-text"},[i("span",[e._v(e._s(t.label))])])]),e._v(" "),t.info?i("font-awesome",{directives:[{name:"tippy",rawName:"v-tippy",value:{trigger:"mouseenter focus click",hideOnClick:!1,delay:0,placement:"right",flipBehavior:["right","top","left","bottom"],allowHTML:!0},expression:"{ trigger: 'mouseenter focus click', hideOnClick: false, delay: 0, placement: 'right', flipBehavior: ['right', 'top', 'left', 'bottom'], allowHTML: true, }"}],staticClass:"more-info-icon",attrs:{content:t.info,icon:["fas","question-circle"]}}):e._e()],1)])})),0):i("div",{staticClass:"shortcuts-wrapper"},[e._m(1)])])])}),[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"visual-checkbox"},[t("div",{staticClass:"switch"})])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("table",[i("tr",[i("th",[e._v("description")]),e._v(" "),i("th",[e._v("shortcut")])]),e._v(" "),i("tr",[i("td",[e._v("Close")]),e._v(" "),i("td",[e._v("Esc")])]),e._v(" "),i("tr",[i("td",[e._v("Open adjacent book")]),e._v(" "),i("td",[e._v("Arrow Keys")])]),e._v(" "),i("tr",[i("td",[e._v("Open adjacent book")]),e._v(" "),i("td",[e._v("TAB & Shift+TAB")])])])}],!1,null,"703d7e07",null).exports,C=(0,c.Z)({name:"sidebarFlipper",data:function(){return{detailSettings:this.$store.state.sticky.bookDetailSettings}},methods:{flip:function(){this.$store.commit("prop",{key:"sticky.bookDetailSettings.reverseDirection",value:!this.detailSettings.reverseDirection})}}},(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"action-reverse-direction",class:{flip:this.detailSettings.reverseDirection}},[i("font-awesome",{attrs:{icon:["fas","retweet"]},on:{click:e.flip}})],1)}),[],!1,null,"2f862e34",null).exports;i(3512);const z={name:"aleBookBasicInfo",props:["book","goodreads"],components:{goodReadsLink:p,arrayToHTML:I,starRating:i(5700).Z},methods:{myRatingLabel:function(e){switch(parseFloat(e)){case 1:return"Not for me";case 2:return"It’s okay";case 3:return"Pretty good";case 4:return"It’s great";case 5:return"I love it"}}}},A=(0,c.Z)(z,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"basic-info"},[e.book.authors?i("arrayToHTML",{attrs:{label:"Author",array:e.book.authors}}):e._e(),e._v(" "),e.book.narrators?i("arrayToHTML",{attrs:{label:"Narrator",array:e.book.narrators}}):e._e(),e._v(" "),e.book.series?i("arrayToHTML",{attrs:{label:"Series",array:e.book.series}}):e._e(),e._v(" "),e.book.publishers?i("arrayToHTML",{attrs:{label:"Publisher",array:e.book.publishers}}):e._e(),e._v(" "),e.book.length?i("div",[i("strong",{staticClass:"strong-label"},[e._v("Length:")]),e._v("\n    "+e._s(e.book.length)+"\n  ")]):e._e(),e._v(" "),i("div",{staticClass:"line-it-up"},[e.book.language?i("div",{staticClass:"language"},[i("strong",{staticClass:"strong-label"},[e._v("Language:")]),e._v(" "),i("span",[e._v(e._s(e.book.language))])]):e._e(),e._v(" "),e.book.format?i("div",{staticClass:"format"},[i("strong",{staticClass:"strong-label"},[e._v("Format:")]),e._v(" "),i("span",[e._v(e._s(e.book.format))])]):e._e(),e._v(" "),e.book.rating?i("div",{staticClass:"rating"},[i("strong",{staticClass:"strong-label"},[e._v("Rating:")]),e._v(" "),i("star-rating",{attrs:{size:12,rating:e.book.rating,number:"true",ratings:e.book.ratings}})],1):e._e(),e._v(" "),e.book.myRating?i("div",{staticClass:"own-rating"},[i("strong",{directives:[{name:"tippy",rawName:"v-tippy",value:{placement:"top",flipBehavior:["top","right","left","bottom"],allowHTML:!0},expression:"{ placement: 'top', flipBehavior: ['top', 'right', 'left', 'bottom'], allowHTML: true }"}],staticClass:"strong-label",attrs:{content:"<ul><li>1 = Not for me</li><li>2 = It’s okay</li><li>3 = Pretty good</li><li>4 = It’s great</li><li>5 = I love it</li></ul>"}},[e._v("My rating: ")]),e._v(" "),i("star-rating",{directives:[{name:"tippy",rawName:"v-tippy",value:{placement:"right",flipBehavior:["right","top","bottom"]},expression:"{ placement: 'right', flipBehavior: ['right', 'top', 'bottom']  }"}],attrs:{size:12,content:e.myRatingLabel(e.book.myRating),rating:e.book.myRating,number:"true"}})],1):e._e()])],1)}),[],!1,null,"6d60d3b3",null).exports,O=(0,c.Z)({name:"favoriteBook",props:["topRight","size"]},(function(){var e=this,t=e.$createElement;return(e._self._c||t)("font-awesome",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"favorite",class:{"top-right":e.topRight},style:{width:(e.size||30)+"px",height:"auto"},attrs:{fas:"",icon:"heart",content:"This book is one of my favorites!"}})}),[],!1,null,"35612b41",null).exports;var E=i(2271);const $=(0,c.Z)({name:"openWebPlayer",props:["book","icon","topRight","size"],data:function(){return{url:null}},created:function(){this.book&&(this.url="https://www.audible.com/webplayer?asin="+this.book.asin)}},(function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.url?i("a",{class:{"top-right":e.topRight},attrs:{href:e.url,target:"_blank",rel:"noopener noreferrer"}},[e.icon?i("div",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"gr-icon audible-app-link",style:{width:(e.size||30)+"px",height:(e.size||30)+"px"},attrs:{content:"Open web player"}},[i("img",{attrs:{src:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxNTEuNSA5My43IiB3aWR0aD0iMTUxLjUiIGhlaWdodD0iOTMuNyI+PGRlZnM+PHN0eWxlPi5jbHMtMXtmaWxsOiNmZmY7fTwvc3R5bGU+PC9kZWZzPjxnPjxnPjxwYXRoIGNsYXNzPSJjbHMtMSIgZD0iTTc1LjggODAuN2w3NS43LTQ3LjJ2MTIuOEw3NS44IDkzLjcgMCA0Ni4zVjMzLjVsNzUuOCA0Ny4yeiIvPjxwYXRoIGNsYXNzPSJjbHMtMSIgZD0iTTc1LjggMjEuNWE0OC4xNyA0OC4xNyAwIDAgMC00MC43IDIxLjkgMTIuOTQgMTIuOTQgMCAwIDEgMS44LTEuNmMyMS4zLTE3LjcgNTItMTMuNyA2OC43IDguNmwxMS4xLTcuMWE0OS44MiA0OS44MiAwIDAgMC00MC45LTIxLjgiLz48cGF0aCBjbGFzcz0iY2xzLTEiIGQ9Ik03NS44IDQzLjRhMjcuNzIgMjcuNzIgMCAwIDAtMjIuNCAxMS41IDIyLjcgMjIuNyAwIDAgMSAxMy41LTQuNGM4LjIgMCAxNS41IDQuMiAyMC40IDExLjNsMTAuNi02LjZhMjUuNzkgMjUuNzkgMCAwIDAtMjIuMS0xMS44TTI0LjYgMjQuMkM1NS44LS40IDk5LjkgNi4zIDEyMy40IDM5bC4yLjIgMTEuNS03LjFhNzAuODIgNzAuODIgMCAwIDAtMTE4LjYgMCA2MC42MyA2MC42MyAwIDAgMSA4LjEtNy45Ii8+PC9nPjwvZz48L3N2Zz4=",alt:""}})]):i("span",[e._v("Search in Goodreads")])]):e._e()}),[],!1,null,"0331aea0",null).exports,Y={name:"book-info-toolbar",props:["book"],components:{goodReadsLink:p,favoriteBook:O,sampleButton:E.Z,openInApp:h,openWebPlayer:$},data:function(){return{size:20}}},B={name:"bookDetails",components:{bookBasicInfo:A,bookInfoToolbar:(0,c.Z)(Y,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"book-info-toolbar"},[e.book.favorite?i("favorite-book",{attrs:{size:e.size,book:e.book}}):e._e(),e._v(" "),i("sampleButton",{attrs:{size:e.size,book:e.book}}),e._v(" "),i("good-reads-link",{attrs:{size:e.size,book:e.book,icon:!0}}),e._v(" "),i("open-in-app",{attrs:{size:e.size,book:e.book}}),e._v(" "),i("open-web-player",{attrs:{size:e.size,book:e.book,icon:!0}})],1)}),[],!1,null,null,null).exports,carousel:u,booksInSeries:f,arrayToHTML:I,bookSummary:x,collectionsDrawer:N,bookDetailsSettings:T,sidebarFlipper:C},mixins:[o.Z,s.Z,a.Z,r.Z,n.Z],props:["booksWrapper"],data:function(){return{store:this.$store.state,sticky:this.$store.state.sticky,book:null,index:null,maxWidth:"unset",scrollTop:0,loading:!0,clickedBook:null,peopleAlsoBoughtJSON:null,bookSummaryJSON:null}},created:function(){this.book=this.store.bookDetails.book,this.index=this.store.bookDetails.index,this.loadJSON(),this.clickedBook=document.querySelector('.ale-book[data-asin="'+this.book.asin+'"]')||document.querySelector('.ale-row[data-asin="'+this.book.asin+'"]'),this.resetScroll(),this.scrollTop=window.pageYOffset,this.$root.$on("afterWindowResize",this.onWindowResize)},mounted:function(){this.maxWidth=this.repositionBookDetails()+"px",this.$updateQuery({query:"book",value:this.book.asin}),this.loading=!1},beforeDestroy:function(){this.$root.$off("afterWindowResize",this.onWindowResize),this.peopleAlsoBoughtJSON=null,this.bookSummaryJSON=null,this.$store.commit("prop",[{key:"bookDetails.book",value:null},{key:"bookDetails.index",value:-1}])},computed:{peopleAlsoBought:function(){return this.book.peopleAlsoBought||this.peopleAlsoBoughtJSON},getMaxWidth:function(){return"spreadsheet"===this.sticky.viewMode||window.innerWidth>800?this.maxWidth:"800px"}},methods:{collapseBtnClicked:function(e){var t=this;this.$store.commit("stickyProp",{key:e,value:!this.sticky[e]}),this.$nextTick((function(){t.$root.$emit("resizeSummary")}))},loadJSON:function(e){if(this.store.standalone){var t=this,i=document.createElement("script");i.src="data/split-book-data/"+t.book.asin+"."+this.store.library.extras.cacheID+".js",i.type="text/javascript",i.onload=function(){t.bookSummaryJSON=window.bookSummaryJSON,window.bookSummaryJSON=!0,t.peopleAlsoBoughtJSON=window.peopleAlsoBoughtJSON,window.peopleAlsoBoughtJSON=!0,i=null},i.onerror=function(){i=null,setTimeout((function(){e||t.loadJSON("afterError")}),1e3)},document.head.appendChild(i)}},onWindowResize:function(e){this.maxWidth=this.repositionBookDetails()+"px",e.widthChanged&&this.resetScroll()},changeUrl:function(){_.get(this.$route,"query.book")!==this.book.asin&&this.$router.replace({query:{book:this.book.asin}})},resetScroll:function(){this.$nextTick((function(){if("grid"===this.sticky.viewMode){var e=document.querySelector("#ale-navigation"),t=e?e.offsetHeight:0;scroll({top:this.clickedBook.offsetTop-t-25,behavior:"auto"})}else document.querySelector(".list-view-inner-wrap").scroll({top:this.clickedBook.offsetTop-45})}))},repositionBookDetails:function(){var e=document.querySelector(".ale-books"),t=e.querySelector(".ale-book")?e.querySelectorAll(".ale-book"):e.querySelector("table tbody").querySelectorAll(".ale-row"),i={};i.el=t[this.index],i.index=this.index,i.width=i.el.getBoundingClientRect().width,i.siblings=t;var o={};o.el=e,o.width=o.el.getBoundingClientRect().width;var s={};s.cols=Math.floor(o.width/i.width)||1,s.cols<2?s.rowEndEl=i.el:(s.currentRow=Math.floor(i.index/s.cols)+1,s.rowEnd=s.currentRow*s.cols,s.getRowEndEl=function(e){var t=i.siblings[e];return t||(t=s.getRowEndEl(--e)),t},s.rowEndEl=s.getRowEndEl(s.rowEnd-1));var a=document.querySelector(".target-row-end");return a&&a.classList.remove("target-row-end"),s.rowEndEl.classList.add("target-row-end"),s.rowEndEl.parentNode.insertBefore(this.$refs.bookDetails,s.rowEndEl.nextSibling),"spreadsheet"!==this.sticky.viewMode&&this.repositionBookDetailsArrow(i.el),"spreadsheet"===this.sticky.viewMode?o.width-60:i.width*s.cols},repositionBookDetailsArrow:function(e){var t=e.getBoundingClientRect().left+window.scrollX+e.offsetWidth/2;this.$refs.arrow.style.left=t+"px"},openAdjacentBookDetails:_.throttle((function(e){var t=this;if("grid"===this.sticky.viewMode)switch(e.srcKey){case"left":case"tabShift":t.keyboardMove("prev");break;case"right":case"tab":t.keyboardMove("next");break;case"up":case"down":t.keyboardMove_inGrid_vertically(e)}else switch(e.srcKey){case"left":case"up":case"tabShift":console.log("spreadsheet - UP"),t.keyboardMove("prev");break;case"right":case"down":case"tab":console.log("spreadsheet - DOWN"),t.keyboardMove("next")}}),70,{leading:!1,trailing:!0}),keyboardMove:function(e){var t="prev"===e,i=t?this.index-1:this.index+1,o=this.store.chunkCollection[i];(t?i>-1:i<this.store.chunkCollection.length)&&(!t&&i>this.store.chunkCollection.length-2?(this.$store.commit("chunkCollectionAdd"),this.$nextTick((function(){this.$root.$emit("book-clicked",{book:o})}))):this.$root.$emit("book-clicked",{book:o}))},keyboardMove_inGrid_vertically:function(e){var t=this,i={};i.el=document.querySelector(".ale-books"),i.width=i.el.offsetWidth;var o={};o.el=this.clickedBook,o.index=this.index,o.width=o.el.offsetWidth;var s=Math.floor(i.width/o.width);this.$store.commit("prop",[{key:"bookDetails.book",value:null},{key:"bookDetails.index",value:-1}]),void 0!==_.get(this.$route,"query.book")&&this.$updateQuery({query:"book",value:null});var a=function(){var i=-1;if("up"===e.srcKey)(i=t.index-s)<0&&(i=0);else{i=t.index+s;var o=t.store.chunkCollection.length-1;i>o&&(i=o)}return i}(),r=t.store.chunkCollection[a];"down"===e.srcKey&&a>t.store.chunkCollection.length-2?(this.$store.commit("chunkCollectionAdd"),this.$nextTick((function(){this.$root.$emit("book-clicked",{book:r})}))):this.$root.$emit("book-clicked",{book:r})},closeBookDetails:function(){this.$store.commit("prop",[{key:"bookDetails.book",value:null},{key:"bookDetails.index",value:-1}]),void 0!==_.get(this.$route,"query.book")&&this.$updateQuery({query:"book",value:null})},progressTooltip:function(e){if("finished"===e.progress.toLowerCase().trim()){var t=this.timeStringToSeconds(e.length);return"Finished: ( "+this.secondsToTimeString(t)+" )"}var i=this.timeStringToSeconds(e.progress),o=this.timeStringToSeconds(e.length),s=o-i;return"Progress: "+this.secondsToTimeString(s)+" / "+this.secondsToTimeString(o)},progressInfo:function(e){if(e.progress&&e.length){if("finished"===e.progress.toLowerCase().trim()){var t=this.timeStringToSeconds(e.length);return'<div class="stretch-center" style="flex: 1;"><strong>Finished!</strong> ( '+this.secondsToTimeString(t,!0)+" )</div>"}var i=this.timeStringToSeconds(e.progress),o=this.timeStringToSeconds(e.length),s=o-i;return"<strong>Progress: </strong><div>"+this.secondsToTimeString(s,!0)+" / "+this.secondsToTimeString(o,!0)+"</div>"}return'<div class="stretch-center" style="flex: 1;"><strong>Length:</strong> '+(e.length||"unkown")+"</div>"}}},Z=(0,c.Z)(B,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"shortkey",rawName:"v-shortkey.once",value:["esc"],expression:"['esc']",modifiers:{once:!0}}],ref:"bookDetails",class:{"spreadsheet-details":"spreadsheet"===e.sticky.viewMode},attrs:{id:"ale-bookdetails"},on:{shortkey:e.closeBookDetails}},["spreadsheet"!==e.sticky.viewMode?i("div",{ref:"arrow",staticClass:"arrow"}):e._e(),e._v(" "),i("div",{directives:[{name:"shortkey",rawName:"v-shortkey",value:{left:["arrowleft"],up:["arrowup"],right:["arrowright"],down:["arrowdown"],tab:["tab"],tabShift:["tab","shift"]},expression:"{ left: ['arrowleft'], up: ['arrowup'], right: ['arrowright'], down: ['arrowdown'], tab: ['tab'], tabShift: ['tab', 'shift'] }"}],class:{"book-detail-settings-open":e.store.bookDetailSettingsOpen},attrs:{id:"book-info-container"},on:{shortkey:e.openAdjacentBookDetails}},[i("div",{staticClass:"inner-wrap",style:{maxWidth:e.getMaxWidth,minHeight:e.store.bookDetailSettingsOpen?e.sticky.bookDetailSettings.minHeight:null}},[i("sidebar-flipper"),e._v(" "),i("font-awesome",{staticClass:"book-details-info",class:{active:e.store.bookDetailSettingsOpen},attrs:{icon:["fas","cog"]},on:{click:function(t){return e.$store.commit("prop",{key:"bookDetailSettingsOpen",value:!e.store.bookDetailSettingsOpen})}}}),e._v(" "),e.store.bookDetailSettingsOpen?i("book-details-settings"):e._e(),e._v(" "),i("div",{staticClass:"top details-wrap",class:{"reverse-direction":e.sticky.bookDetailSettings.reverseDirection}},[e.sticky.bookDetailSettings.sidebar.show?i("div",{ref:"information",staticClass:"information"},[e.store.windowWidth>688?i("div",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"collapse-btn",style:{top:"5px"},attrs:{content:(e.sticky.bookDetailsCollapsedCover?"Expand":"Collapse")+" cover image."},on:{click:function(t){return e.collapseBtnClicked("bookDetailsCollapsedCover")}}},[i("font-awesome",{attrs:{fas:"",icon:e.sticky.bookDetailsCollapsedCover?"chevron-down":"chevron-up"}})],1):e._e(),e._v(" "),i("div",{staticClass:"cover-wrap"},[i("a",{attrs:{href:e.makeUrl("book",e.book.asin),target:"_blank",rel:"noopener noreferrer"}},[i("div",{staticClass:"progressbar"},[i("div",{staticClass:"progress",style:e.progressbarWidth(e.book)})]),e._v(" "),!e.sticky.bookDetailsCollapsedCover&&e.book.cover&&e.store.windowWidth>688?i("img",{staticClass:"cover",attrs:{crossorigin:"anonymous",src:e.makeCoverUrl(e.book.cover)}}):e._e()])]),e._v(" "),i("div",{staticClass:"progress-info",domProps:{innerHTML:e._s(e.progressInfo(e.book))}}),e._v(" "),i("div",{staticClass:"basic-details"},[i("div",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"collapse-btn",style:{top:e.sticky.bookDetailsCollapsedDetails?"-10px":"25px"},attrs:{content:(e.sticky.bookDetailsCollapsedDetails?"Expand":"Collapse")+" book details."},on:{click:function(t){return e.collapseBtnClicked("bookDetailsCollapsedDetails")}}},[i("font-awesome",{attrs:{fas:"",icon:e.sticky.bookDetailsCollapsedDetails?"chevron-down":"chevron-up"}})],1),e._v(" "),e.sticky.bookDetailSettings.sidebar.iconToolbar?i("book-info-toolbar",{attrs:{book:e.book}}):e._e(),e._v(" "),e.sticky.bookDetailsCollapsedDetails?e._e():i("book-basic-info",{attrs:{book:e.book}})],1),e._v(" "),e.sticky.bookDetailSettings.sidebar.seriesList?i("collections-drawer",{attrs:{book:e.book}}):e._e(),e._v(" "),e.sticky.bookDetailSettings.sidebar.collectionsList?i("books-in-series",{attrs:{book:e.book}}):e._e()],1):e._e(),e._v(" "),i("book-summary",{attrs:{book:e.book,bookSummary:e.bookSummaryJSON}})],1),e._v(" "),i("div",{staticClass:"carousel-wrap"},[!e.sticky.bookDetailSettings.carousel||e.loading||!e.peopleAlsoBought||!0===e.peopleAlsoBought||e.store.standalone&&!e.store.siteOnline?e._e():i("carousel",{key:e.maxWidth,attrs:{books:e.peopleAlsoBought}},[e._v("\n          Listeners also enjoyed\n        ")])],1)],1)])])}),[],!1,null,"e88e401c",null).exports},2271:(e,t,i)=>{"use strict";i.d(t,{Z:()=>o});const o=(0,i(810).Z)({name:"sampleButton",props:["book","index","topRight","size"],methods:{playSample:function(e,t){this.$root.$emit("play-audio",{from:"sampleButton",route:this.$route,book:e,index:t})}}},(function(){var e=this,t=e.$createElement;return(e._self._c||t)("font-awesome",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"pointer",class:{"top-right":e.topRight},style:{width:(e.size||30)+"px",height:"auto"},attrs:{fas:"",icon:"play-circle",content:"Play sample audio"},on:{click:function(t){return e.playSample(e.book,e.rowIndex)}}})}),[],!1,null,"05b60316",null).exports},5700:(e,t,i)=>{"use strict";i.d(t,{Z:()=>s}),i(2081),i(7471),i(2077),i(2482),i(3512);const o={name:"starRating",props:["size","rating","stars","ratings","ratingsText","prioritizeRatingsText","number","numberOf","block","image","placeholderImage","placeholderOpacity","noPlaceholder"],data:function(){return{opt:null,config:{rating:null,length:null}}},created:function(){this.opt={rating:5,stars:5,size:15,number:!1,numberOf:!1,block:!1,image:!1,placeholderImage:!1,placeholderOpacity:!1,noPlaceholder:!1};var e=this.splitDecimals(this.rating);this.config.rating=this.toPercentage(e);var t=this.noPlaceholder||this.opt.noPlacehoder;this.config.length=t?this.config.rating.whole+(this.config.rating.fraction?1:0):parseInt(this.stars||this.opt.stars,10)},methods:{splitDecimals:function(e){var t,i=""+e;return i.indexOf(".")>-1?t=i.split("."):i.indexOf(",")>-1&&(t=i.split(",")),t?{whole:t[0],fraction:"."+t[1]}:{whole:e,fraction:null}},toPercentage:function(e){var t={whole:parseInt(e.whole,10)};return e.fraction&&(t.originalFraction=e.fraction),e.fraction&&(t.fraction=Math.floor(100*parseFloat(e.fraction,10))),t}}},s=(0,i(810).Z)(o,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.config.rating?i("div",{staticClass:"sRatings-wrapper",class:{"sRatings-block":e.block||e.opt.block,"prioritize-ratings-text":e.prioritizeRatingsText},attrs:{"data-rating":e.rating||0}},[e.ratings&&e.prioritizeRatingsText?i("div",{staticClass:"rating-count"},[e._v(e._s(e.ratings)),!1!==e.ratingsText?i("span",[e._v(" ratings")]):e._e()]):e._e(),e._v(" "),e._l(e.config.length,(function(t,o){return i("div",{key:o,style:{width:e.config.rating.whole===t-1&&(e.noPlaceholder||e.opt.noPlaceholder)&&e.config.rating.fraction?(e.size||e.opt.size)*e.config.rating.originalFraction+"px":(e.size||e.opt.size)+"px",height:(e.size||e.opt.size)+"px"},attrs:{"data-star":t,"data-whole":e.config.rating.whole===t,"data-fraction":e.config.rating.fraction&&e.config.rating.whole===t-1}},[e.config.rating.whole<=t&&!e.noPlaceholder&&!e.opt.noPlaceholder?i("div",{staticClass:"sRatings-placeholder",class:{"sRatings-show":e.config.rating.whole<t},style:{left:e.config.rating.fraction&&e.config.rating.whole===t-1?e.config.rating.fraction+"%":"0%","background-size":(e.size||e.opt.size)+"px","background-image":!!(e.image||e.placeholderImage||e.opt.placeholderImage)&&"url("+(e.image&&!e.placeholderImage?e.image:e.placeholderImage||e.opt.placeholderImage)+")",opacity:e.placeholderOpacity||e.opt.placeholderOpacity}}):e._e(),e._v(" "),e.config.rating.whole>=t||e.config.rating.fraction&&e.config.rating.whole===t-1?i("div",{staticClass:"sRatings-star",style:{width:e.config.rating.whole>=t||e.config.rating.whole===t-1&&(e.noPlaceholder||e.opt.noPlaceholder)?"100%":e.config.rating.fraction+"%","background-size":(e.size||e.opt.size)+"px","background-image":!(!e.image&&!e.opt.image)&&"url("+(e.image||e.opt.image)+")"}}):e._e()])})),e._v(" "),e.number||e.opt.number?i("div",{staticClass:"text-label",style:{width:!(!e.numberOf&&!e.opt.numberOf)&&"auto",padding:!(!e.numberOf&&!e.opt.numberOf)&&"0 6px"}},[e._v(e._s(e.numberOf||e.opt.numberOf?e.rating+"/"+(e.stars||e.opt.stars):e.rating))]):e._e(),e._v(" "),e.ratings&&!e.prioritizeRatingsText?i("div",{staticClass:"rating-count"},[e._v("("+e._s(e.ratings)),!1!==e.ratingsText?i("span",[e._v(" ratings")]):e._e(),e._v(")")]):e._e()],2):e._e()}),[],!1,null,"42209754",null).exports}}]);