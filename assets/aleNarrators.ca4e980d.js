import{_ as k}from"./lazy.b07c228c.js";import{a as v}from"./aleSearch.919723bc.js";import{c as S}from"./gallery.20ac0816.js";import{f as x}from"./findSubPageSource.cf8b7e77.js";import{_ as w,c,b as u,a as p,F as T,k as N,g as m,d,j as O,r as $,o as i,e as C,l as h,t as g,i as R,s as B}from"./vendor.e7714c30.js";import"./page-title.15791cee.js";import"./timeStringToSeconds.340b6df7.js";import"./makeCoverUrl.f6649fcf.js";/* empty css              */import"./helpers.c1b1b2ae.js";const z={name:"aleNarrators",mixins:[S,x],data:function(){return{collectionSource:"pageCollection",listReady:!1,pageTitle:"Narrators",pageSubTitle:null}},computed:{optionsOpenMargin:function(){return this.$store.state.searchOptOpenHeight?{marginBottom:0}:!1},galleryStyle:function(){return this.$store.state.searchOptOpenHeight?{overflow:"hidden",height:this.$store.state.searchOptOpenHeight-this.$refs.wrapper.offsetTop*2+"px"}:!1}},methods:{makeCollection:function(){const t=this;let s=[],a=1;_.eachRight(t.subPageSource.collection,function(e){e.narrators&&_.each(e.narrators,function(r){if(r.name){let n=_.find(s,{name:r.name});if(n)return n.books.push(e.title||e.shortTitle),!1;{const l={name:r.name,url:t.slugify(r.name),added:a,books:[e.title||e.shortTitle],authors:e.authors,publishers:e.publishers,series:e.series};s.push(l),++a}}})}),_.reverse(s),this.$store.commit("prop",{key:"pageCollection",value:s}),this.updateListRenderingOptions(),this.listReady=!0},updateListRenderingOptions:function(){let t=this;const s={scope:[{active:!0,key:"name",tippy:"Search narrators by name",weight:5},{active:!0,key:"books",tippy:"Search narrators by book titles",weight:1},{active:!0,key:"authors.name",tippy:"Search narrators by authors",weight:1},{active:!0,key:"publishers.name",tippy:"Search narrators by publishers",weight:1},{active:!0,key:"series.name",tippy:"Search narrators by series",weight:1}],filter:[{active:!1,type:"filterExtras",label:"Number of books",key:"books",range:[1,function(){let a=_.get(t.$store.state,t.collectionSource),e=_.maxBy(a,function(r){if(r.books)return r.books.length});return e?e.books.length:1}()],rangeMinDist:0,rangeSuffix:"",rangeMin:function(){return 1},rangeMax:function(){let a=_.get(t.$store.state,t.collectionSource),e=_.maxBy(a,function(r){if(r.books)return r.books.length});return e?e.books.length:1},condition:function(a){if(a.books){let e=this.range[0],r=this.range[1];return a.books.length>=e&&a.books.length<=r}}}],sort:[{active:!1,key:"randomize",label:"Randomize",type:"sortExtras",tippy:"Ignores sorting and randomizes instead unless there's an active search."},{type:"divider",key:"divider1"},{active:!0,current:!0,key:"added",label:"Added",type:"sort",tippy:'<div style="text-align: left;"><small>&#9650;</small> Old at the top <br><small style="display: inline-block; transform: rotate(180deg);">&#9650;</small> New at the top</div>'},{active:!0,current:!1,key:"name",label:"Name",type:"sort",tippy:"Sort by narrator's name"},{active:!1,current:!1,key:"amount",label:"Number of books",type:"sort"}]};this.$setListRenderingOpts(s)}}},M={key:0,class:"books-total",content:"Total number of books with this narrator."};function D(t,s,a,e,r,n){const l=v,f=O("router-link"),y=k,b=$("tippy");return t.listReady?(i(),c("div",{key:0,id:"ale-narrators",class:"box-layout-wrapper",style:m(n.optionsOpenMargin),ref:"wrapper"},[u(l,{collectionSource:t.collectionSource,pageTitle:t.pageTitle,pageSubTitle:t.pageSubTitle},null,8,["collectionSource","pageTitle","pageSubTitle"]),p("div",{style:m(n.galleryStyle),class:"page-content"},[(i(!0),c(T,null,N(t.$store.getters.collection,(o,L)=>(i(),C(y,{class:"single-box","data-name":o.name,key:"narrators:"+o.name},{default:h(()=>[u(f,{to:{name:"narrator",params:{narrator:o.url},query:{subPageSource:t.subPageSource.name}}},{default:h(()=>[p("h2",null,g(o.name),1),o.books&&o.books.length?R((i(),c("div",M,[B(g(o.books.length),1)])),[[b,{placement:"right"}]]):d("",!0)]),_:2},1032,["to"])]),_:2},1032,["data-name"]))),128))],4)],4)):d("",!0)}var J=w(z,[["render",D],["__scopeId","data-v-3cfa61b5"]]);export{J as default};
