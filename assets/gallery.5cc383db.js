import{m as cn}from"./gallery-makeCoverUrl.8378190f.js";import{o as S,c as C,a as w,_ as de,b as Q,n as he,w as fr,d as X,e as re,f as Ht,g as ls,i as ut,r as On,h as cs,j as us,k as Zr,p as Qt,l as me,m as Xe,q as dt,s as Ee,t as Un,u as ve,v as ei,x as Oe,y as Lt,z as yt,F as ht,A as ft,B as ds,C as hs,D as fs,E as Ut,G as qn,H as Gn,I as pr,J as ps,K as Ke,L as ms,M as Pt,N as ti,O as vs,P as ni,Q as gs}from"./lodash.9f572fca.js";import{U as Ln,h as _s}from"./content-script-helpers.e49fc91b.js";import{h as ys}from"./howler.22814ddb.js";import{s as bs}from"./index.abab9d81.js";import{c as ws,m as ks,V as Ss}from"./tippy.9fe8ff20.js";import"./jquery.050764e9.js";const $s={viewBox:"0 0 320 512",width:"1.2em",height:"1.2em"},Es=w("path",{fill:"currentColor",d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256L34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"},null,-1),Cs=[Es];function Ps(e,t){return S(),C("svg",$s,Cs)}var Rs={name:"fa-solid-chevron-right",render:Ps};const As={viewBox:"0 0 320 512",width:"1.2em",height:"1.2em"},Ts=w("path",{fill:"currentColor",d:"M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"},null,-1),Os=[Ts];function Ls(e,t){return S(),C("svg",As,Os)}var Is={name:"fa-solid-chevron-left",render:Ls};const Ns={name:"backForwardBtns",props:["viewportFloat"],methods:{navigate:function(e){this.$store.state.navHistory[e].length>0&&(this.$store.commit("navHistory",{key:e,value:this.$route.name}),this.$router[e]())}}};function Ms(e,t,n,r,i,s){const o=Is,c=Rs;return S(),C("div",{class:he(["mobile-back-btns-wrapper",{"viewport-float":n.viewportFloat}])},[w("div",{class:he(["mobile-back-btns",{disabled:e.$store.state.navHistory.back.length<1}]),onClick:t[0]||(t[0]=fr(l=>s.navigate("back"),["prevent"]))},[Q(o)],2),w("div",{class:he(["mobile-back-btns",{disabled:e.$store.state.navHistory.forward.length<1}]),onClick:t[1]||(t[1]=fr(l=>s.navigate("forward"),["prevent"]))},[Q(c)],2)],2)}var ri=de(Ns,[["render",Ms],["__scopeId","data-v-7ea92576"]]);const xs={viewBox:"0 0 512 512",width:"1.2em",height:"1.2em"},Bs=w("path",{fill:"currentColor",d:"M470.38 1.51L150.41 96A32 32 0 0 0 128 126.51v261.41A139 139 0 0 0 96 384c-53 0-96 28.66-96 64s43 64 96 64s96-28.66 96-64V214.32l256-75v184.61a138.4 138.4 0 0 0-32-3.93c-53 0-96 28.66-96 64s43 64 96 64s96-28.65 96-64V32a32 32 0 0 0-41.62-30.49z"},null,-1),Ds=[Bs];function Vs(e,t){return S(),C("svg",xs,Ds)}var zs={name:"fa-solid-music",render:Vs};const Hs={viewBox:"0 0 448 512",width:"1.2em",height:"1.2em"},Us=w("path",{fill:"currentColor",d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},null,-1),qs=[Us];function Gs(e,t){return S(),C("svg",Hs,qs)}var Ws={name:"fa-solid-bars",render:Gs};const js={viewBox:"0 0 512 512",width:"1.2em",height:"1.2em"},Fs=w("path",{fill:"currentColor",d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128c0-70.7 57.2-128 128-128c70.7 0 128 57.2 128 128c0 70.7-57.2 128-128 128z"},null,-1),Ks=[Fs];function Js(e,t){return S(),C("svg",js,Ks)}var ii={name:"fa-solid-search",render:Js};const Ys={name:"mobileMenuFloaters",props:["mobileMenuOpen"],data:function(){return{store:this.$store.state}}},Xs={class:"second-row"},Qs={key:0,class:"player-open-indicator"};function Zs(e,t,n,r,i,s){const o=ii,c=ri,l=Ws,u=zs;return S(),C("div",{id:"mobile-menu-floaters",class:he({mobile:n.mobileMenuOpen})},[w("div",Xs,[e.$store.state.searchMounted&&!n.mobileMenuOpen?(S(),C("div",{key:0,class:"search-btn",onClick:t[0]||(t[0]=a=>e.$emit("startSearching"))},[Q(o)])):X("",!0),e.$store.state.displayMode&&!n.mobileMenuOpen?(S(),re(c,{key:1})):X("",!0),w("div",{class:"burger-menu",onClick:t[1]||(t[1]=a=>e.$emit("update:mobileMenuOpen",!n.mobileMenuOpen))},[Q(l,{class:"brgr-btn"}),e.$store.state.playingAudio?(S(),C("div",Qs,[Q(u,{class:"brgr-btn"})])):X("",!0)])])],2)}var eo=de(Ys,[["render",Zs]]);function mr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function to(e,t,n){return t&&mr(e.prototype,t),n&&mr(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}/*!
 * Splide.js
 * Version  : 4.1.3
 * License  : MIT
 * Copyright: 2022 Naotoshi Fujita
 */var vr="(prefers-reduced-motion: reduce)",at=1,no=2,pt=3,bt=4,qt=5,Zt=6,rn=7,ro={CREATED:at,MOUNTED:no,IDLE:pt,MOVING:bt,SCROLLING:qt,DRAGGING:Zt,DESTROYED:rn};function Me(e){e.length=0}function We(e,t,n){return Array.prototype.slice.call(e,t,n)}function ie(e){return e.bind.apply(e,[null].concat(We(arguments,1)))}var si=setTimeout,In=function(){};function gr(e){return requestAnimationFrame(e)}function un(e,t){return typeof t===e}function It(e){return!jn(e)&&un("object",e)}var Wn=Array.isArray,oi=ie(un,"function"),qe=ie(un,"string"),Gt=ie(un,"undefined");function jn(e){return e===null}function ai(e){try{return e instanceof(e.ownerDocument.defaultView||window).HTMLElement}catch{return!1}}function Wt(e){return Wn(e)?e:[e]}function ye(e,t){Wt(e).forEach(t)}function Fn(e,t){return e.indexOf(t)>-1}function en(e,t){return e.push.apply(e,Wt(t)),e}function Le(e,t,n){e&&ye(t,function(r){r&&e.classList[n?"add":"remove"](r)})}function Ce(e,t){Le(e,qe(t)?t.split(" "):t,!0)}function jt(e,t){ye(t,e.appendChild.bind(e))}function Kn(e,t){ye(e,function(n){var r=(t||n).parentNode;r&&r.insertBefore(n,t)})}function Nt(e,t){return ai(e)&&(e.msMatchesSelector||e.matches).call(e,t)}function li(e,t){var n=e?We(e.children):[];return t?n.filter(function(r){return Nt(r,t)}):n}function Ft(e,t){return t?li(e,t)[0]:e.firstElementChild}var Mt=Object.keys;function Ye(e,t,n){return e&&(n?Mt(e).reverse():Mt(e)).forEach(function(r){r!=="__proto__"&&t(e[r],r)}),e}function xt(e){return We(arguments,1).forEach(function(t){Ye(t,function(n,r){e[r]=t[r]})}),e}function Ue(e){return We(arguments,1).forEach(function(t){Ye(t,function(n,r){Wn(n)?e[r]=n.slice():It(n)?e[r]=Ue({},It(e[r])?e[r]:{},n):e[r]=n})}),e}function _r(e,t){ye(t||Mt(e),function(n){delete e[n]})}function Pe(e,t){ye(e,function(n){ye(t,function(r){n&&n.removeAttribute(r)})})}function j(e,t,n){It(t)?Ye(t,function(r,i){j(e,i,r)}):ye(e,function(r){jn(n)||n===""?Pe(r,t):r.setAttribute(t,String(n))})}function lt(e,t,n){var r=document.createElement(e);return t&&(qe(t)?Ce(r,t):j(r,t)),n&&jt(n,r),r}function we(e,t,n){if(Gt(n))return getComputedStyle(e)[t];jn(n)||(e.style[t]=""+n)}function Bt(e,t){we(e,"display",t)}function ci(e){e.setActive&&e.setActive()||e.focus({preventScroll:!0})}function ke(e,t){return e.getAttribute(t)}function yr(e,t){return e&&e.classList.contains(t)}function ge(e){return e.getBoundingClientRect()}function Qe(e){ye(e,function(t){t&&t.parentNode&&t.parentNode.removeChild(t)})}function ui(e){return Ft(new DOMParser().parseFromString(e,"text/html").body)}function Te(e,t){e.preventDefault(),t&&(e.stopPropagation(),e.stopImmediatePropagation())}function di(e,t){return e&&e.querySelector(t)}function Jn(e,t){return t?We(e.querySelectorAll(t)):[]}function Ie(e,t){Le(e,t,!1)}function Nn(e){return e.timeStamp}function Je(e){return qe(e)?e:e?e+"px":""}var Kt="splide",Yn="data-"+Kt;function Rt(e,t){if(!e)throw new Error("["+Kt+"] "+(t||""))}var Ge=Math.min,sn=Math.max,on=Math.floor,Dt=Math.ceil,pe=Math.abs;function hi(e,t,n){return pe(e-t)<n}function tn(e,t,n,r){var i=Ge(t,n),s=sn(t,n);return r?i<e&&e<s:i<=e&&e<=s}function it(e,t,n){var r=Ge(t,n),i=sn(t,n);return Ge(sn(r,e),i)}function Mn(e){return+(e>0)-+(e<0)}function xn(e,t){return ye(t,function(n){e=e.replace("%s",""+n)}),e}function Xn(e){return e<10?"0"+e:""+e}var br={};function io(e){return""+e+Xn(br[e]=(br[e]||0)+1)}function fi(){var e=[];function t(o,c,l,u){i(o,c,function(a,h,f){var m="addEventListener"in a,v=m?a.removeEventListener.bind(a,h,l,u):a.removeListener.bind(a,l);m?a.addEventListener(h,l,u):a.addListener(l),e.push([a,h,f,l,v])})}function n(o,c,l){i(o,c,function(u,a,h){e=e.filter(function(f){return f[0]===u&&f[1]===a&&f[2]===h&&(!l||f[3]===l)?(f[4](),!1):!0})})}function r(o,c,l){var u,a=!0;return typeof CustomEvent=="function"?u=new CustomEvent(c,{bubbles:a,detail:l}):(u=document.createEvent("CustomEvent"),u.initCustomEvent(c,a,!1,l)),o.dispatchEvent(u),u}function i(o,c,l){ye(o,function(u){u&&ye(c,function(a){a.split(" ").forEach(function(h){var f=h.split(".");l(u,f[0],f[1])})})})}function s(){e.forEach(function(o){o[4]()}),Me(e)}return{bind:t,unbind:n,dispatch:r,destroy:s}}var je="mounted",wr="ready",xe="move",wt="moved",Qn="click",pi="active",mi="inactive",vi="visible",gi="hidden",ce="refresh",fe="updated",mt="resize",dn="resized",_i="drag",yi="dragging",bi="dragged",hn="scroll",et="scrolled",so="overflow",Zn="destroy",wi="arrows:mounted",ki="arrows:updated",Si="pagination:mounted",$i="pagination:updated",er="navigation:mounted",tr="autoplay:play",Ei="autoplay:playing",nr="autoplay:pause",rr="lazyload:loaded",Ci="sk",Pi="sh",an="ei";function se(e){var t=e?e.event.bus:document.createDocumentFragment(),n=fi();function r(s,o){n.bind(t,Wt(s).join(" "),function(c){o.apply(o,Wn(c.detail)?c.detail:[])})}function i(s){n.dispatch(t,s,We(arguments,1))}return e&&e.event.on(Zn,n.destroy),xt(n,{bus:t,on:r,off:ie(n.unbind,t),emit:i})}function fn(e,t,n,r){var i=Date.now,s,o=0,c,l=!0,u=0;function a(){if(!l){if(o=e?Ge((i()-s)/e,1):1,n&&n(o),o>=1&&(t(),s=i(),r&&++u>=r))return f();c=gr(a)}}function h(g){g||v(),s=i()-(g?o*e:0),l=!1,c=gr(a)}function f(){l=!0}function m(){s=i(),o=0,n&&n(o)}function v(){c&&cancelAnimationFrame(c),o=0,c=0,l=!0}function d(g){e=g}function p(){return l}return{start:h,rewind:m,pause:f,cancel:v,set:d,isPaused:p}}function oo(e){var t=e;function n(i){t=i}function r(i){return Fn(Wt(i),t)}return{set:n,is:r}}function ao(e,t){var n=fn(t||0,e,null,1);return function(){n.isPaused()&&n.start()}}function lo(e,t,n){var r=e.state,i=n.breakpoints||{},s=n.reducedMotion||{},o=fi(),c=[];function l(){var v=n.mediaQuery==="min";Mt(i).sort(function(d,p){return v?+d-+p:+p-+d}).forEach(function(d){a(i[d],"("+(v?"min":"max")+"-width:"+d+"px)")}),a(s,vr),h()}function u(v){v&&o.destroy()}function a(v,d){var p=matchMedia(d);o.bind(p,"change",h),c.push([v,p])}function h(){var v=r.is(rn),d=n.direction,p=c.reduce(function(g,b){return Ue(g,b[1].matches?b[0]:{})},{});_r(n),m(p),n.destroy?e.destroy(n.destroy==="completely"):v?(u(!0),e.mount()):d!==n.direction&&e.refresh()}function f(v){matchMedia(vr).matches&&(v?Ue(n,s):_r(n,Mt(s)))}function m(v,d,p){Ue(n,v),d&&Ue(Object.getPrototypeOf(n),v),(p||!r.is(at))&&e.emit(fe,n)}return{setup:l,destroy:u,reduce:f,set:m}}var pn="Arrow",mn=pn+"Left",vn=pn+"Right",Ri=pn+"Up",Ai=pn+"Down",kr="rtl",gn="ttb",Sn={width:["height"],left:["top","right"],right:["bottom","left"],x:["y"],X:["Y"],Y:["X"],ArrowLeft:[Ri,vn],ArrowRight:[Ai,mn]};function co(e,t,n){function r(s,o,c){c=c||n.direction;var l=c===kr&&!o?1:c===gn?0:-1;return Sn[s]&&Sn[s][l]||s.replace(/width|left|right/i,function(u,a){var h=Sn[u.toLowerCase()][l]||u;return a>0?h.charAt(0).toUpperCase()+h.slice(1):h})}function i(s){return s*(n.direction===kr?1:-1)}return{resolve:r,orient:i}}var Ne="role",ct="tabindex",uo="disabled",$e="aria-",Jt=$e+"controls",Ti=$e+"current",Sr=$e+"selected",_e=$e+"label",ir=$e+"labelledby",Oi=$e+"hidden",sr=$e+"orientation",Vt=$e+"roledescription",$r=$e+"live",Er=$e+"busy",Cr=$e+"atomic",or=[Ne,ct,uo,Jt,Ti,_e,ir,Oi,sr,Vt],Re=Kt+"__",Fe="is-",$n=Kt,Pr=Re+"track",ho=Re+"list",_n=Re+"slide",Li=_n+"--clone",fo=_n+"__container",ar=Re+"arrows",yn=Re+"arrow",Ii=yn+"--prev",Ni=yn+"--next",bn=Re+"pagination",Mi=bn+"__page",po=Re+"progress",mo=po+"__bar",vo=Re+"toggle",go=Re+"spinner",_o=Re+"sr",yo=Fe+"initialized",Ze=Fe+"active",xi=Fe+"prev",Bi=Fe+"next",Bn=Fe+"visible",Dn=Fe+"loading",Di=Fe+"focus-in",Vi=Fe+"overflow",bo=[Ze,Bn,xi,Bi,Dn,Di,Vi],wo={slide:_n,clone:Li,arrows:ar,arrow:yn,prev:Ii,next:Ni,pagination:bn,page:Mi,spinner:go};function ko(e,t){if(oi(e.closest))return e.closest(t);for(var n=e;n&&n.nodeType===1&&!Nt(n,t);)n=n.parentElement;return n}var So=5,Rr=200,zi="touchstart mousedown",En="touchmove mousemove",Cn="touchend touchcancel mouseup click";function $o(e,t,n){var r=se(e),i=r.on,s=r.bind,o=e.root,c=n.i18n,l={},u=[],a=[],h=[],f,m,v;function d(){$(),O(),b()}function p(){i(ce,g),i(ce,d),i(fe,b),s(document,zi+" keydown",function(P){v=P.type==="keydown"},{capture:!0}),s(o,"focusin",function(){Le(o,Di,!!v)})}function g(P){var D=or.concat("style");Me(u),Ie(o,a),Ie(f,h),Pe([f,m],D),Pe(o,P?D:["style",Vt])}function b(){Ie(o,a),Ie(f,h),a=L($n),h=L(Pr),Ce(o,a),Ce(f,h),j(o,_e,n.label),j(o,ir,n.labelledby)}function $(){f=A("."+Pr),m=Ft(f,"."+ho),Rt(f&&m,"A track/list element is missing."),en(u,li(m,"."+_n+":not(."+Li+")")),Ye({arrows:ar,pagination:bn,prev:Ii,next:Ni,bar:mo,toggle:vo},function(P,D){l[D]=A("."+P)}),xt(l,{root:o,track:f,list:m,slides:u})}function O(){var P=o.id||io(Kt),D=n.role;o.id=P,f.id=f.id||P+"-track",m.id=m.id||P+"-list",!ke(o,Ne)&&o.tagName!=="SECTION"&&D&&j(o,Ne,D),j(o,Vt,c.carousel),j(m,Ne,"presentation")}function A(P){var D=di(o,P);return D&&ko(D,"."+$n)===o?D:void 0}function L(P){return[P+"--"+n.type,P+"--"+n.direction,n.drag&&P+"--draggable",n.isNavigation&&P+"--nav",P===$n&&Ze]}return xt(l,{setup:d,mount:p,destroy:g})}var vt="slide",kt="loop",Yt="fade";function Eo(e,t,n,r){var i=se(e),s=i.on,o=i.emit,c=i.bind,l=e.Components,u=e.root,a=e.options,h=a.isNavigation,f=a.updateOnMove,m=a.i18n,v=a.pagination,d=a.slideFocus,p=l.Direction.resolve,g=ke(r,"style"),b=ke(r,_e),$=n>-1,O=Ft(r,"."+fo),A;function L(){$||(r.id=u.id+"-slide"+Xn(t+1),j(r,Ne,v?"tabpanel":"group"),j(r,Vt,m.slide),j(r,_e,b||xn(m.slideLabel,[t+1,e.length]))),P()}function P(){c(r,"click",ie(o,Qn,q)),c(r,"keydown",ie(o,Ci,q)),s([wt,Pi,et],I),s(er,F),f&&s(xe,z)}function D(){A=!0,i.destroy(),Ie(r,bo),Pe(r,or),j(r,"style",g),j(r,_e,b||"")}function F(){var V=e.splides.map(function(T){var B=T.splide.Components.Slides.getAt(t);return B?B.slide.id:""}).join(" ");j(r,_e,xn(m.slideX,($?n:t)+1)),j(r,Jt,V),j(r,Ne,d?"button":""),d&&Pe(r,Vt)}function z(){A||I()}function I(){if(!A){var V=e.index;N(),x(),Le(r,xi,t===V-1),Le(r,Bi,t===V+1)}}function N(){var V=G();V!==yr(r,Ze)&&(Le(r,Ze,V),j(r,Ti,h&&V||""),o(V?pi:mi,q))}function x(){var V=ne(),T=!V&&(!G()||$);if(e.state.is([bt,qt])||j(r,Oi,T||""),j(Jn(r,a.focusableNodes||""),ct,T?-1:""),d&&j(r,ct,T?-1:0),V!==yr(r,Bn)&&(Le(r,Bn,V),o(V?vi:gi,q)),!V&&document.activeElement===r){var B=l.Slides.getAt(e.index);B&&ci(B.slide)}}function U(V,T,B){we(B&&O||r,V,T)}function G(){var V=e.index;return V===t||a.cloneStatus&&V===n}function ne(){if(e.is(Yt))return G();var V=ge(l.Elements.track),T=ge(r),B=p("left",!0),J=p("right",!0);return on(V[B])<=Dt(T[B])&&on(T[J])<=Dt(V[J])}function te(V,T){var B=pe(V-t);return!$&&(a.rewind||e.is(kt))&&(B=Ge(B,e.length-B)),B<=T}var q={index:t,slideIndex:n,slide:r,container:O,isClone:$,mount:L,destroy:D,update:I,style:U,isWithin:te};return q}function Co(e,t,n){var r=se(e),i=r.on,s=r.emit,o=r.bind,c=t.Elements,l=c.slides,u=c.list,a=[];function h(){f(),i(ce,m),i(ce,f)}function f(){l.forEach(function(I,N){d(I,N,-1)})}function m(){A(function(I){I.destroy()}),Me(a)}function v(){A(function(I){I.update()})}function d(I,N,x){var U=Eo(e,N,x,I);U.mount(),a.push(U),a.sort(function(G,ne){return G.index-ne.index})}function p(I){return I?L(function(N){return!N.isClone}):a}function g(I){var N=t.Controller,x=N.toIndex(I),U=N.hasFocus()?1:n.perPage;return L(function(G){return tn(G.index,x,x+U-1)})}function b(I){return L(I)[0]}function $(I,N){ye(I,function(x){if(qe(x)&&(x=ui(x)),ai(x)){var U=l[N];U?Kn(x,U):jt(u,x),Ce(x,n.classes.slide),D(x,ie(s,mt))}}),s(ce)}function O(I){Qe(L(I).map(function(N){return N.slide})),s(ce)}function A(I,N){p(N).forEach(I)}function L(I){return a.filter(oi(I)?I:function(N){return qe(I)?Nt(N.slide,I):Fn(Wt(I),N.index)})}function P(I,N,x){A(function(U){U.style(I,N,x)})}function D(I,N){var x=Jn(I,"img"),U=x.length;U?x.forEach(function(G){o(G,"load error",function(){--U||N()})}):N()}function F(I){return I?l.length:a.length}function z(){return a.length>n.perPage}return{mount:h,destroy:m,update:v,register:d,get:p,getIn:g,getAt:b,add:$,remove:O,forEach:A,filter:L,style:P,getLength:F,isEnough:z}}function Po(e,t,n){var r=se(e),i=r.on,s=r.bind,o=r.emit,c=t.Slides,l=t.Direction.resolve,u=t.Elements,a=u.root,h=u.track,f=u.list,m=c.getAt,v=c.style,d,p,g;function b(){$(),s(window,"resize load",ao(ie(o,mt))),i([fe,ce],$),i(mt,O)}function $(){d=n.direction===gn,we(a,"maxWidth",Je(n.width)),we(h,l("paddingLeft"),A(!1)),we(h,l("paddingRight"),A(!0)),O(!0)}function O(q){var V=ge(a);(q||p.width!==V.width||p.height!==V.height)&&(we(h,"height",L()),v(l("marginRight"),Je(n.gap)),v("width",D()),v("height",F(),!0),p=V,o(dn),g!==(g=te())&&(Le(a,Vi,g),o(so,g)))}function A(q){var V=n.padding,T=l(q?"right":"left");return V&&Je(V[T]||(It(V)?0:V))||"0px"}function L(){var q="";return d&&(q=P(),Rt(q,"height or heightRatio is missing."),q="calc("+q+" - "+A(!1)+" - "+A(!0)+")"),q}function P(){return Je(n.height||ge(f).width*n.heightRatio)}function D(){return n.autoWidth?null:Je(n.fixedWidth)||(d?"":z())}function F(){return Je(n.fixedHeight)||(d?n.autoHeight?null:z():P())}function z(){var q=Je(n.gap);return"calc((100%"+(q&&" + "+q)+")/"+(n.perPage||1)+(q&&" - "+q)+")"}function I(){return ge(f)[l("width")]}function N(q,V){var T=m(q||0);return T?ge(T.slide)[l("width")]+(V?0:G()):0}function x(q,V){var T=m(q);if(T){var B=ge(T.slide)[l("right")],J=ge(f)[l("left")];return pe(B-J)+(V?0:G())}return 0}function U(q){return x(e.length-1)-x(0)+N(0,q)}function G(){var q=m(0);return q&&parseFloat(we(q.slide,l("marginRight")))||0}function ne(q){return parseFloat(we(h,l("padding"+(q?"Right":"Left"))))||0}function te(){return e.is(Yt)||U(!0)>I()}return{mount:b,resize:O,listSize:I,slideSize:N,sliderSize:U,totalSize:x,getPadding:ne,isOverflow:te}}var Ro=2;function Ao(e,t,n){var r=se(e),i=r.on,s=t.Elements,o=t.Slides,c=t.Direction.resolve,l=[],u;function a(){i(ce,h),i([fe,mt],m),(u=p())&&(v(u),t.Layout.resize(!0))}function h(){f(),a()}function f(){Qe(l),Me(l),r.destroy()}function m(){var g=p();u!==g&&(u<g||!g)&&r.emit(ce)}function v(g){var b=o.get().slice(),$=b.length;if($){for(;b.length<g;)en(b,b);en(b.slice(-g),b.slice(0,g)).forEach(function(O,A){var L=A<g,P=d(O.slide,A);L?Kn(P,b[0].slide):jt(s.list,P),en(l,P),o.register(P,A-g+(L?0:$),O.index)})}}function d(g,b){var $=g.cloneNode(!0);return Ce($,n.classes.clone),$.id=e.root.id+"-clone"+Xn(b+1),$}function p(){var g=n.clones;if(!e.is(kt))g=0;else if(Gt(g)){var b=n[c("fixedWidth")]&&t.Layout.slideSize(0),$=b&&Dt(ge(s.track)[c("width")]/b);g=$||n[c("autoWidth")]&&e.length||n.perPage*Ro}return g}return{mount:a,destroy:f}}function To(e,t,n){var r=se(e),i=r.on,s=r.emit,o=e.state.set,c=t.Layout,l=c.slideSize,u=c.getPadding,a=c.totalSize,h=c.listSize,f=c.sliderSize,m=t.Direction,v=m.resolve,d=m.orient,p=t.Elements,g=p.list,b=p.track,$;function O(){$=t.Transition,i([je,dn,fe,ce],A)}function A(){t.Controller.isBusy()||(t.Scroll.cancel(),P(e.index),t.Slides.update())}function L(T,B,J,ae){T!==B&&q(T>J)&&(I(),D(z(U(),T>J),!0)),o(bt),s(xe,B,J,T),$.start(B,function(){o(pt),s(wt,B,J,T),ae&&ae()})}function P(T){D(x(T,!0))}function D(T,B){if(!e.is(Yt)){var J=B?T:F(T);we(g,"transform","translate"+v("X")+"("+J+"px)"),T!==J&&s(Pi)}}function F(T){if(e.is(kt)){var B=N(T),J=B>t.Controller.getEnd(),ae=B<0;(ae||J)&&(T=z(T,J))}return T}function z(T,B){var J=T-te(B),ae=f();return T-=d(ae*(Dt(pe(J)/ae)||1))*(B?1:-1),T}function I(){D(U(),!0),$.cancel()}function N(T){for(var B=t.Slides.get(),J=0,ae=1/0,le=0;le<B.length;le++){var k=B[le].index,y=pe(x(k,!0)-T);if(y<=ae)ae=y,J=k;else break}return J}function x(T,B){var J=d(a(T-1)-ne(T));return B?G(J):J}function U(){var T=v("left");return ge(g)[T]-ge(b)[T]+d(u(!1))}function G(T){return n.trimSpace&&e.is(vt)&&(T=it(T,0,d(f(!0)-h()))),T}function ne(T){var B=n.focus;return B==="center"?(h()-l(T,!0))/2:+B*l(T)||0}function te(T){return x(T?t.Controller.getEnd():0,!!n.trimSpace)}function q(T){var B=d(z(U(),T));return T?B>=0:B<=g[v("scrollWidth")]-ge(b)[v("width")]}function V(T,B){B=Gt(B)?U():B;var J=T!==!0&&d(B)<d(te(!1)),ae=T!==!1&&d(B)>d(te(!0));return J||ae}return{mount:O,move:L,jump:P,translate:D,shift:z,cancel:I,toIndex:N,toPosition:x,getPosition:U,getLimit:te,exceededLimit:V,reposition:A}}function Oo(e,t,n){var r=se(e),i=r.on,s=r.emit,o=t.Move,c=o.getPosition,l=o.getLimit,u=o.toPosition,a=t.Slides,h=a.isEnough,f=a.getLength,m=n.omitEnd,v=e.is(kt),d=e.is(vt),p=ie(U,!1),g=ie(U,!0),b=n.start||0,$,O=b,A,L,P;function D(){F(),i([fe,ce,an],F),i(dn,z)}function F(){A=f(!0),L=n.perMove,P=n.perPage,$=q();var y=it(b,0,m?$:A-1);y!==b&&(b=y,o.reposition())}function z(){$!==q()&&s(an)}function I(y,E,M){if(!k()){var H=x(y),Y=te(H);Y>-1&&(E||Y!==b)&&(J(Y),o.move(H,Y,O,M))}}function N(y,E,M,H){t.Scroll.scroll(y,E,M,function(){var Y=te(o.toIndex(c()));J(m?Ge(Y,$):Y),H&&H()})}function x(y){var E=b;if(qe(y)){var M=y.match(/([+\-<>])(\d+)?/)||[],H=M[1],Y=M[2];H==="+"||H==="-"?E=G(b+ +(""+H+(+Y||1)),b):H===">"?E=Y?V(+Y):p(!0):H==="<"&&(E=g(!0))}else E=v?y:it(y,0,$);return E}function U(y,E){var M=L||(le()?1:P),H=G(b+M*(y?-1:1),b,!(L||le()));return H===-1&&d&&!hi(c(),l(!y),1)?y?0:$:E?H:te(H)}function G(y,E,M){if(h()||le()){var H=ne(y);H!==y&&(E=y,y=H,M=!1),y<0||y>$?!L&&(tn(0,y,E,!0)||tn($,E,y,!0))?y=V(T(y)):v?y=M?y<0?-(A%P||P):A:y:n.rewind?y=y<0?$:0:y=-1:M&&y!==E&&(y=V(T(E)+(y<E?-1:1)))}else y=-1;return y}function ne(y){if(d&&n.trimSpace==="move"&&y!==b)for(var E=c();E===u(y,!0)&&tn(y,0,e.length-1,!n.rewind);)y<b?--y:++y;return y}function te(y){return v?(y+A)%A||0:y}function q(){for(var y=A-(le()||v&&L?1:P);m&&y-- >0;)if(u(A-1,!0)!==u(y,!0)){y++;break}return it(y,0,A-1)}function V(y){return it(le()?y:P*y,0,$)}function T(y){return le()?Ge(y,$):on((y>=$?A-1:y)/P)}function B(y){var E=o.toIndex(y);return d?it(E,0,$):E}function J(y){y!==b&&(O=b,b=y)}function ae(y){return y?O:b}function le(){return!Gt(n.focus)||n.isNavigation}function k(){return e.state.is([bt,qt])&&!!n.waitForTransition}return{mount:D,go:I,scroll:N,getNext:p,getPrev:g,getAdjacent:U,getEnd:q,setIndex:J,getIndex:ae,toIndex:V,toPage:T,toDest:B,hasFocus:le,isBusy:k}}var Lo="http://www.w3.org/2000/svg",Io="m15.5 0.932-4.3 4.38 14.5 14.6-14.5 14.5 4.3 4.4 14.6-14.6 4.4-4.3-4.4-4.4-14.6-14.6z",Xt=40;function No(e,t,n){var r=se(e),i=r.on,s=r.bind,o=r.emit,c=n.classes,l=n.i18n,u=t.Elements,a=t.Controller,h=u.arrows,f=u.track,m=h,v=u.prev,d=u.next,p,g,b={};function $(){A(),i(fe,O)}function O(){L(),$()}function A(){var N=n.arrows;N&&!(v&&d)&&F(),v&&d&&(xt(b,{prev:v,next:d}),Bt(m,N?"":"none"),Ce(m,g=ar+"--"+n.direction),N&&(P(),I(),j([v,d],Jt,f.id),o(wi,v,d)))}function L(){r.destroy(),Ie(m,g),p?(Qe(h?[v,d]:m),v=d=null):Pe([v,d],or)}function P(){i([je,wt,ce,et,an],I),s(d,"click",ie(D,">")),s(v,"click",ie(D,"<"))}function D(N){a.go(N,!0)}function F(){m=h||lt("div",c.arrows),v=z(!0),d=z(!1),p=!0,jt(m,[v,d]),!h&&Kn(m,f)}function z(N){var x='<button class="'+c.arrow+" "+(N?c.prev:c.next)+'" type="button"><svg xmlns="'+Lo+'" viewBox="0 0 '+Xt+" "+Xt+'" width="'+Xt+'" height="'+Xt+'" focusable="false"><path d="'+(n.arrowPath||Io)+'" />';return ui(x)}function I(){if(v&&d){var N=e.index,x=a.getPrev(),U=a.getNext(),G=x>-1&&N<x?l.last:l.prev,ne=U>-1&&N>U?l.first:l.next;v.disabled=x<0,d.disabled=U<0,j(v,_e,G),j(d,_e,ne),o(ki,v,d,x,U)}}return{arrows:b,mount:$,destroy:L,update:I}}var Mo=Yn+"-interval";function xo(e,t,n){var r=se(e),i=r.on,s=r.bind,o=r.emit,c=fn(n.interval,e.go.bind(e,">"),P),l=c.isPaused,u=t.Elements,a=t.Elements,h=a.root,f=a.toggle,m=n.autoplay,v,d,p=m==="pause";function g(){m&&(b(),f&&j(f,Jt,u.track.id),p||$(),L())}function b(){n.pauseOnHover&&s(h,"mouseenter mouseleave",function(F){v=F.type==="mouseenter",A()}),n.pauseOnFocus&&s(h,"focusin focusout",function(F){d=F.type==="focusin",A()}),f&&s(f,"click",function(){p?$():O(!0)}),i([xe,hn,ce],c.rewind),i(xe,D)}function $(){l()&&t.Slides.isEnough()&&(c.start(!n.resetProgress),d=v=p=!1,L(),o(tr))}function O(F){F===void 0&&(F=!0),p=!!F,L(),l()||(c.pause(),o(nr))}function A(){p||(v||d?O(!1):$())}function L(){f&&(Le(f,Ze,!p),j(f,_e,n.i18n[p?"play":"pause"]))}function P(F){var z=u.bar;z&&we(z,"width",F*100+"%"),o(Ei,F)}function D(F){var z=t.Slides.getAt(F);c.set(z&&+ke(z.slide,Mo)||n.interval)}return{mount:g,destroy:c.cancel,play:$,pause:O,isPaused:l}}function Bo(e,t,n){var r=se(e),i=r.on;function s(){n.cover&&(i(rr,ie(c,!0)),i([je,fe,ce],ie(o,!0)))}function o(l){t.Slides.forEach(function(u){var a=Ft(u.container||u.slide,"img");a&&a.src&&c(l,a,u)})}function c(l,u,a){a.style("background",l?'center/cover no-repeat url("'+u.src+'")':"",!0),Bt(u,l?"none":"")}return{mount:s,destroy:ie(o,!1)}}var Do=10,Vo=600,zo=.6,Ho=1.5,Uo=800;function qo(e,t,n){var r=se(e),i=r.on,s=r.emit,o=e.state.set,c=t.Move,l=c.getPosition,u=c.getLimit,a=c.exceededLimit,h=c.translate,f=e.is(vt),m,v,d=1;function p(){i(xe,O),i([fe,ce],A)}function g(P,D,F,z,I){var N=l();if(O(),F&&(!f||!a())){var x=t.Layout.sliderSize(),U=Mn(P)*x*on(pe(P)/x)||0;P=c.toPosition(t.Controller.toDest(P%x))+U}var G=hi(N,P,1);d=1,D=G?0:D||sn(pe(P-N)/Ho,Uo),v=z,m=fn(D,b,ie($,N,P,I),1),o(qt),s(hn),m.start()}function b(){o(pt),v&&v(),s(et)}function $(P,D,F,z){var I=l(),N=P+(D-P)*L(z),x=(N-I)*d;h(I+x),f&&!F&&a()&&(d*=zo,pe(x)<Do&&g(u(a(!0)),Vo,!1,v,!0))}function O(){m&&m.cancel()}function A(){m&&!m.isPaused()&&(O(),b())}function L(P){var D=n.easingFunc;return D?D(P):1-Math.pow(1-P,4)}return{mount:p,destroy:O,scroll:g,cancel:A}}var st={passive:!1,capture:!0};function Go(e,t,n){var r=se(e),i=r.on,s=r.emit,o=r.bind,c=r.unbind,l=e.state,u=t.Move,a=t.Scroll,h=t.Controller,f=t.Elements.track,m=t.Media.reduce,v=t.Direction,d=v.resolve,p=v.orient,g=u.getPosition,b=u.exceededLimit,$,O,A,L,P,D=!1,F,z,I;function N(){o(f,En,In,st),o(f,Cn,In,st),o(f,zi,U,st),o(f,"click",te,{capture:!0}),o(f,"dragstart",Te),i([je,fe],x)}function x(){var R=n.drag;W(!R),L=R==="free"}function U(R){if(F=!1,!z){var Z=Y(R);H(R.target)&&(Z||!R.button)&&(h.isBusy()?Te(R,!0):(I=Z?f:window,P=l.is([bt,qt]),A=null,o(I,En,G,st),o(I,Cn,ne,st),u.cancel(),a.cancel(),q(R)))}}function G(R){if(l.is(Zt)||(l.set(Zt),s(_i)),R.cancelable)if(P){u.translate($+M(le(R)));var Z=k(R)>Rr,oe=D!==(D=b());(Z||oe)&&q(R),F=!0,s(yi),Te(R)}else B(R)&&(P=T(R),Te(R))}function ne(R){l.is(Zt)&&(l.set(pt),s(bi)),P&&(V(R),Te(R)),c(I,En,G),c(I,Cn,ne),P=!1}function te(R){!z&&F&&Te(R,!0)}function q(R){A=O,O=R,$=g()}function V(R){var Z=J(R),oe=ae(Z),$t=n.rewind&&n.rewindByDrag;m(!1),L?h.scroll(oe,0,n.snap):e.is(Yt)?h.go(p(Mn(Z))<0?$t?"<":"-":$t?">":"+"):e.is(vt)&&D&&$t?h.go(b(!0)?">":"<"):h.go(h.toDest(oe),!0),m(!0)}function T(R){var Z=n.dragMinThreshold,oe=It(Z),$t=oe&&Z.mouse||0,as=(oe?Z.touch:+Z)||10;return pe(le(R))>(Y(R)?as:$t)}function B(R){return pe(le(R))>pe(le(R,!0))}function J(R){if(e.is(kt)||!D){var Z=k(R);if(Z&&Z<Rr)return le(R)/Z}return 0}function ae(R){return g()+Mn(R)*Ge(pe(R)*(n.flickPower||600),L?1/0:t.Layout.listSize()*(n.flickMaxPages||1))}function le(R,Z){return E(R,Z)-E(y(R),Z)}function k(R){return Nn(R)-Nn(y(R))}function y(R){return O===R&&A||O}function E(R,Z){return(Y(R)?R.changedTouches[0]:R)["page"+d(Z?"Y":"X")]}function M(R){return R/(D&&e.is(vt)?So:1)}function H(R){var Z=n.noDrag;return!Nt(R,"."+Mi+", ."+yn)&&(!Z||!Nt(R,Z))}function Y(R){return typeof TouchEvent!="undefined"&&R instanceof TouchEvent}function K(){return P}function W(R){z=R}return{mount:N,disable:W,isDragging:K}}var Wo={Spacebar:" ",Right:vn,Left:mn,Up:Ri,Down:Ai};function lr(e){return e=qe(e)?e:e.key,Wo[e]||e}var Ar="keydown";function jo(e,t,n){var r=se(e),i=r.on,s=r.bind,o=r.unbind,c=e.root,l=t.Direction.resolve,u,a;function h(){f(),i(fe,m),i(fe,f),i(xe,d)}function f(){var g=n.keyboard;g&&(u=g==="global"?window:c,s(u,Ar,p))}function m(){o(u,Ar)}function v(g){a=g}function d(){var g=a;a=!0,si(function(){a=g})}function p(g){if(!a){var b=lr(g);b===l(mn)?e.go("<"):b===l(vn)&&e.go(">")}}return{mount:h,destroy:m,disable:v}}var At=Yn+"-lazy",nn=At+"-srcset",Fo="["+At+"], ["+nn+"]";function Ko(e,t,n){var r=se(e),i=r.on,s=r.off,o=r.bind,c=r.emit,l=n.lazyLoad==="sequential",u=[wt,et],a=[];function h(){n.lazyLoad&&(f(),i(ce,f))}function f(){Me(a),m(),l?g():(s(u),i(u,v),v())}function m(){t.Slides.forEach(function(b){Jn(b.slide,Fo).forEach(function($){var O=ke($,At),A=ke($,nn);if(O!==$.src||A!==$.srcset){var L=n.classes.spinner,P=$.parentElement,D=Ft(P,"."+L)||lt("span",L,P);a.push([$,b,D]),$.src||Bt($,"none")}})})}function v(){a=a.filter(function(b){var $=n.perPage*((n.preloadPages||1)+1)-1;return b[1].isWithin(e.index,$)?d(b):!0}),a.length||s(u)}function d(b){var $=b[0];Ce(b[1].slide,Dn),o($,"load error",ie(p,b)),j($,"src",ke($,At)),j($,"srcset",ke($,nn)),Pe($,At),Pe($,nn)}function p(b,$){var O=b[0],A=b[1];Ie(A.slide,Dn),$.type!=="error"&&(Qe(b[2]),Bt(O,""),c(rr,O,A),c(mt)),l&&g()}function g(){a.length&&d(a.shift())}return{mount:h,destroy:ie(Me,a),check:v}}function Jo(e,t,n){var r=se(e),i=r.on,s=r.emit,o=r.bind,c=t.Slides,l=t.Elements,u=t.Controller,a=u.hasFocus,h=u.getIndex,f=u.go,m=t.Direction.resolve,v=l.pagination,d=[],p,g;function b(){$(),i([fe,ce,an],b);var z=n.pagination;v&&Bt(v,z?"":"none"),z&&(i([xe,hn,et],F),O(),F(),s(Si,{list:p,items:d},D(e.index)))}function $(){p&&(Qe(v?We(p.children):p),Ie(p,g),Me(d),p=null),r.destroy()}function O(){var z=e.length,I=n.classes,N=n.i18n,x=n.perPage,U=a()?u.getEnd()+1:Dt(z/x);p=v||lt("ul",I.pagination,l.track.parentElement),Ce(p,g=bn+"--"+P()),j(p,Ne,"tablist"),j(p,_e,N.select),j(p,sr,P()===gn?"vertical":"");for(var G=0;G<U;G++){var ne=lt("li",null,p),te=lt("button",{class:I.page,type:"button"},ne),q=c.getIn(G).map(function(T){return T.slide.id}),V=!a()&&x>1?N.pageX:N.slideX;o(te,"click",ie(A,G)),n.paginationKeyboard&&o(te,"keydown",ie(L,G)),j(ne,Ne,"presentation"),j(te,Ne,"tab"),j(te,Jt,q.join(" ")),j(te,_e,xn(V,G+1)),j(te,ct,-1),d.push({li:ne,button:te,page:G})}}function A(z){f(">"+z,!0)}function L(z,I){var N=d.length,x=lr(I),U=P(),G=-1;x===m(vn,!1,U)?G=++z%N:x===m(mn,!1,U)?G=(--z+N)%N:x==="Home"?G=0:x==="End"&&(G=N-1);var ne=d[G];ne&&(ci(ne.button),f(">"+G),Te(I,!0))}function P(){return n.paginationDirection||n.direction}function D(z){return d[u.toPage(z)]}function F(){var z=D(h(!0)),I=D(h());if(z){var N=z.button;Ie(N,Ze),Pe(N,Sr),j(N,ct,-1)}if(I){var x=I.button;Ce(x,Ze),j(x,Sr,!0),j(x,ct,"")}s($i,{list:p,items:d},z,I)}return{items:d,mount:b,destroy:$,getAt:D,update:F}}var Yo=[" ","Enter"];function Xo(e,t,n){var r=n.isNavigation,i=n.slideFocus,s=[];function o(){e.splides.forEach(function(v){v.isParent||(u(e,v.splide),u(v.splide,e))}),r&&a()}function c(){s.forEach(function(v){v.destroy()}),Me(s)}function l(){c(),o()}function u(v,d){var p=se(v);p.on(xe,function(g,b,$){d.go(d.is(kt)?$:g)}),s.push(p)}function a(){var v=se(e),d=v.on;d(Qn,f),d(Ci,m),d([je,fe],h),s.push(v),v.emit(er,e.splides)}function h(){j(t.Elements.list,sr,n.direction===gn?"vertical":"")}function f(v){e.go(v.index)}function m(v,d){Fn(Yo,lr(d))&&(f(v),Te(d))}return{setup:ie(t.Media.set,{slideFocus:Gt(i)?r:i},!0),mount:o,destroy:c,remount:l}}function Qo(e,t,n){var r=se(e),i=r.bind,s=0;function o(){n.wheel&&i(t.Elements.track,"wheel",c,st)}function c(u){if(u.cancelable){var a=u.deltaY,h=a<0,f=Nn(u),m=n.wheelMinThreshold||0,v=n.wheelSleep||0;pe(a)>m&&f-s>v&&(e.go(h?"<":">"),s=f),l(h)&&Te(u)}}function l(u){return!n.releaseWheel||e.state.is(bt)||t.Controller.getAdjacent(u)!==-1}return{mount:o}}var Zo=90;function ea(e,t,n){var r=se(e),i=r.on,s=t.Elements.track,o=n.live&&!n.isNavigation,c=lt("span",_o),l=fn(Zo,ie(a,!1));function u(){o&&(f(!t.Autoplay.isPaused()),j(s,Cr,!0),c.textContent="\u2026",i(tr,ie(f,!0)),i(nr,ie(f,!1)),i([wt,et],ie(a,!0)))}function a(m){j(s,Er,m),m?(jt(s,c),l.start()):(Qe(c),l.cancel())}function h(){Pe(s,[$r,Cr,Er]),Qe(c)}function f(m){o&&j(s,$r,m?"off":"polite")}return{mount:u,disable:f,destroy:h}}var ta=Object.freeze({__proto__:null,Media:lo,Direction:co,Elements:$o,Slides:Co,Layout:Po,Clones:Ao,Move:To,Controller:Oo,Arrows:No,Autoplay:xo,Cover:Bo,Scroll:qo,Drag:Go,Keyboard:jo,LazyLoad:Ko,Pagination:Jo,Sync:Xo,Wheel:Qo,Live:ea}),na={prev:"Previous slide",next:"Next slide",first:"Go to first slide",last:"Go to last slide",slideX:"Go to slide %s",pageX:"Go to page %s",play:"Start autoplay",pause:"Pause autoplay",carousel:"carousel",slide:"slide",select:"Select a slide to show",slideLabel:"%s of %s"},ra={type:"slide",role:"region",speed:400,perPage:1,cloneStatus:!0,arrows:!0,pagination:!0,paginationKeyboard:!0,interval:5e3,pauseOnHover:!0,pauseOnFocus:!0,resetProgress:!0,easing:"cubic-bezier(0.25, 1, 0.5, 1)",drag:!0,direction:"ltr",trimSpace:!0,focusableNodes:"a, button, textarea, input, select, iframe",live:!0,classes:wo,i18n:na,reducedMotion:{speed:0,rewindSpeed:0,autoplay:"pause"}};function ia(e,t,n){var r=t.Slides;function i(){se(e).on([je,ce],s)}function s(){r.forEach(function(c){c.style("transform","translateX(-"+100*c.index+"%)")})}function o(c,l){r.style("transition","opacity "+n.speed+"ms "+n.easing),si(l)}return{mount:i,start:o,cancel:In}}function sa(e,t,n){var r=t.Move,i=t.Controller,s=t.Scroll,o=t.Elements.list,c=ie(we,o,"transition"),l;function u(){se(e).bind(o,"transitionend",function(m){m.target===o&&l&&(h(),l())})}function a(m,v){var d=r.toPosition(m,!0),p=r.getPosition(),g=f(m);pe(d-p)>=1&&g>=1?n.useScroll?s.scroll(d,g,!1,v):(c("transform "+g+"ms "+n.easing),r.translate(d,!0),l=v):(r.jump(m),v())}function h(){c(""),s.cancel()}function f(m){var v=n.rewindSpeed;if(e.is(vt)&&v){var d=i.getIndex(!0),p=i.getEnd();if(d===0&&m>=p||d>=p&&m===0)return v}return n.speed}return{mount:u,start:a,cancel:h}}var oa=function(){function e(n,r){this.event=se(),this.Components={},this.state=oo(at),this.splides=[],this._o={},this._E={};var i=qe(n)?di(document,n):n;Rt(i,i+" is invalid."),this.root=i,r=Ue({label:ke(i,_e)||"",labelledby:ke(i,ir)||""},ra,e.defaults,r||{});try{Ue(r,JSON.parse(ke(i,Yn)))}catch{Rt(!1,"Invalid JSON")}this._o=Object.create(Ue({},r))}var t=e.prototype;return t.mount=function(r,i){var s=this,o=this.state,c=this.Components;Rt(o.is([at,rn]),"Already mounted!"),o.set(at),this._C=c,this._T=i||this._T||(this.is(Yt)?ia:sa),this._E=r||this._E;var l=xt({},ta,this._E,{Transition:this._T});return Ye(l,function(u,a){var h=u(s,c,s._o);c[a]=h,h.setup&&h.setup()}),Ye(c,function(u){u.mount&&u.mount()}),this.emit(je),Ce(this.root,yo),o.set(pt),this.emit(wr),this},t.sync=function(r){return this.splides.push({splide:r}),r.splides.push({splide:this,isParent:!0}),this.state.is(pt)&&(this._C.Sync.remount(),r.Components.Sync.remount()),this},t.go=function(r){return this._C.Controller.go(r),this},t.on=function(r,i){return this.event.on(r,i),this},t.off=function(r){return this.event.off(r),this},t.emit=function(r){var i;return(i=this.event).emit.apply(i,[r].concat(We(arguments,1))),this},t.add=function(r,i){return this._C.Slides.add(r,i),this},t.remove=function(r){return this._C.Slides.remove(r),this},t.is=function(r){return this._o.type===r},t.refresh=function(){return this.emit(ce),this},t.destroy=function(r){r===void 0&&(r=!0);var i=this.event,s=this.state;return s.is(at)?se(this).on(wr,this.destroy.bind(this,r)):(Ye(this._C,function(o){o.destroy&&o.destroy(r)},!0),i.emit(Zn),i.destroy(),r&&Me(this.splides),s.set(rn)),this},to(e,[{key:"options",get:function(){return this._o},set:function(r){this._C.Media.set(r,!0,!0)}},{key:"length",get:function(){return this._C.Slides.getLength(!0)}},{key:"index",get:function(){return this._C.Controller.getIndex()}}]),e}(),cr=oa;cr.defaults={};cr.STATES=ro;const Tr=[pi,wi,ki,nr,tr,Ei,Qn,Zn,_i,bi,yi,gi,mi,rr,je,xe,wt,er,Si,$i,ce,mt,dn,hn,et,fe,vi],Hi="splide";function Or(e){return e!==null&&typeof e=="object"}function aa(e,t){if(e){const n=Object.keys(e);for(let r=0;r<n.length;r++){const i=n[r];if(i!=="__proto__"&&t(e[i],i)===!1)break}}return e}function Ui(e,t){const n=e;return aa(t,(r,i)=>{Array.isArray(r)?n[i]=r.slice():Or(r)?n[i]=Ui(Or(n[i])?n[i]:{},r):n[i]=r}),n}const la=Ht({name:"SplideTrack",setup(){ls(()=>{var e;const t=ut(Hi);(e=t==null?void 0:t.value)==null||e.refresh()})}}),ur=(e,t)=>{const n=e.__vccOpts||e;for(const[r,i]of t)n[r]=i;return n},ca={class:"splide__track"},ua={class:"splide__list"};function da(e,t,n,r,i,s){return S(),C("div",ca,[w("ul",ua,[Xe(e.$slots,"default")])])}const ha=ur(la,[["render",da]]),fa=Ht({name:"Splide",emits:Tr.map(e=>`splide:${e}`),components:{SplideTrack:ha},props:{tag:{default:"div",type:String},options:{default:{},type:Object},extensions:Object,transition:Function,hasTrack:{default:!0,type:Boolean}},setup(e,t){const n=On(),r=On();cs(()=>{r.value&&(n.value=new cr(r.value,e.options),l(n.value),n.value.mount(e.extensions,e.transition))}),us(()=>{var u;(u=n.value)==null||u.destroy()}),Zr(()=>Ui({},e.options),u=>{n.value&&(n.value.options=u)},{deep:!0}),Qt(Hi,n);const i=me(()=>{var u;return((u=n.value)==null?void 0:u.index)||0}),s=me(()=>{var u;return((u=n.value)==null?void 0:u.length)||0});function o(u){var a;(a=n.value)==null||a.go(u)}function c(u){var a;(a=n.value)==null||a.sync(u)}function l(u){Tr.forEach(a=>{u.on(a,(...h)=>{t.emit(`splide:${a}`,u,...h)})})}return{splide:n,root:r,index:i,length:s,go:o,sync:c}}});function pa(e,t,n,r,i,s){const o=dt("SplideTrack");return S(),re(Un(e.tag),{class:"splide",ref:"root"},{default:Ee(()=>[e.hasTrack?(S(),re(o,{key:0},{default:Ee(()=>[Xe(e.$slots,"default")]),_:3})):Xe(e.$slots,"default",{key:1})]),_:3},512)}const ma=ur(fa,[["render",pa]]),va=Ht({name:"SplideSlide"}),ga={class:"splide__slide"};function _a(e,t,n,r,i,s){return S(),C("li",ga,[Xe(e.$slots,"default")])}const ya=ur(va,[["render",_a]]);const ba={name:"manua-splider",components:{Splide:ma,SplideSlide:ya},data(){return{options:{type:"slide",rewind:!0,rewindByDrag:!0,autoplay:!1,drag:!0,arrows:!1,width:null,trimSpace:!1,gap:"4px",perPage:1}}},methods:{onActive(e){let t=e.Components.Slides.getAt(e.index).slide;t.querySelector(":scope > div").offsetHeight,t.parentElement.parentElement.style.height=null,setTimeout(()=>{t.parentElement.parentElement.style.height=t.offsetHeight+"px"},1)}}};function wa(e,t,n,r,i,s){const o=dt("SplideSlide"),c=dt("Splide");return S(),re(c,{options:i.options,class:"manual-splider","onSplide:active":s.onActive,"onSplide:resize":s.onActive},{default:Ee(()=>[Q(o,null,{default:Ee(()=>[Xe(e.$slots,"page-1",{},void 0,!0)]),_:3}),e.$slots["page-2"]?(S(),re(o,{key:0},{default:Ee(()=>[Xe(e.$slots,"page-2",{},void 0,!0)]),_:3})):X("",!0)]),_:3},8,["options","onSplide:active","onSplide:resize"])}var ka=de(ba,[["render",wa],["__scopeId","data-v-6fc7c349"]]);const Sa={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},$a=w("path",{fill:"currentColor",d:"M18 13c0 3.31-2.69 6-6 6s-6-2.69-6-6s2.69-6 6-6v4l5-5l-5-5v4c-4.42 0-8 3.58-8 8s3.58 8 8 8s8-3.58 8-8h-2z"},null,-1),Ea=w("path",{fill:"currentColor",d:"M10.06 15.38c-.29 0-.62-.17-.62-.54h-.85c0 .97.9 1.23 1.45 1.23c.87 0 1.51-.46 1.51-1.25c0-.66-.45-.9-.71-1c.11-.05.65-.32.65-.92c0-.21-.05-1.22-1.44-1.22c-.62 0-1.4.35-1.4 1.16h.85c0-.34.31-.48.57-.48c.59 0 .58.5.58.54c0 .52-.41.59-.63.59h-.46v.66h.45c.65 0 .7.42.7.64c0 .32-.21.59-.65.59zm3.79-3.7c-.14 0-1.44-.08-1.44 1.82v.74c0 1.9 1.31 1.82 1.44 1.82c.14 0 1.44.09 1.44-1.82v-.74c.01-1.91-1.3-1.82-1.44-1.82zm.6 2.67c0 .77-.21 1.03-.59 1.03s-.6-.26-.6-1.03v-.97c0-.75.22-1.01.59-1.01c.38 0 .6.26.6 1.01v.97z"},null,-1),Ca=[$a,Ea];function Pa(e,t){return S(),C("svg",Sa,Ca)}var Ra={name:"ic-baseline-forward30",render:Pa};const Aa={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Ta=w("path",{fill:"currentColor",d:"M8 19c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2s-2 .9-2 2v10c0 1.1.9 2 2 2zm6-12v10c0 1.1.9 2 2 2s2-.9 2-2V7c0-1.1-.9-2-2-2s-2 .9-2 2z"},null,-1),Oa=[Ta];function La(e,t){return S(),C("svg",Aa,Oa)}var Ia={name:"ic-round-pause",render:La};const Na={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Ma=w("path",{fill:"currentColor",d:"M8 6.82v10.36c0 .79.87 1.27 1.54.84l8.14-5.18a1 1 0 0 0 0-1.69L9.54 5.98A.998.998 0 0 0 8 6.82z"},null,-1),xa=[Ma];function Ba(e,t){return S(),C("svg",Na,xa)}var Da={name:"ic-round-play-arrow",render:Ba};const Va={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},za=w("path",{fill:"currentColor",d:"M12 5V1L7 6l5 5V7c3.31 0 6 2.69 6 6s-2.69 6-6 6s-6-2.69-6-6H4c0 4.42 3.58 8 8 8s8-3.58 8-8s-3.58-8-8-8z"},null,-1),Ha=w("path",{fill:"currentColor",d:"M9.56 13.49h.45c.21 0 .37-.05.48-.16s.16-.25.16-.43a.538.538 0 0 0-.15-.39c-.05-.05-.11-.09-.18-.11s-.16-.04-.25-.04c-.08 0-.15.01-.22.03s-.13.05-.18.1s-.09.09-.12.15s-.05.13-.05.2h-.85a1.06 1.06 0 0 1 .41-.85c.13-.1.27-.18.44-.23s.35-.08.54-.08c.21 0 .41.03.59.08s.33.13.46.23s.23.23.3.38s.11.33.11.53a.842.842 0 0 1-.17.52a1.1 1.1 0 0 1-.48.39c.24.09.42.21.54.39s.18.38.18.61c0 .2-.04.38-.12.53s-.18.29-.32.39s-.29.19-.48.24s-.38.08-.6.08c-.18 0-.36-.02-.53-.07s-.33-.12-.46-.23s-.25-.23-.33-.38s-.12-.34-.12-.55h.85c0 .08.02.15.05.22s.07.12.13.17s.12.09.2.11s.16.04.25.04c.1 0 .19-.01.27-.04s.15-.07.2-.12s.1-.11.13-.18s.04-.15.04-.24c0-.11-.02-.21-.05-.29s-.08-.15-.14-.2s-.13-.09-.22-.11s-.18-.04-.29-.04h-.47v-.65zm5.74.75c0 .32-.03.6-.1.82s-.17.42-.29.57s-.28.26-.45.33s-.37.1-.59.1s-.41-.03-.59-.1s-.33-.18-.46-.33s-.23-.34-.3-.57s-.11-.5-.11-.82v-.74c0-.32.03-.6.1-.82s.17-.42.29-.57s.28-.26.45-.33s.37-.1.59-.1s.41.03.59.1s.33.18.46.33s.23.34.3.57s.11.5.11.82v.74zm-.85-.86c0-.19-.01-.35-.04-.48s-.07-.23-.12-.31s-.11-.14-.19-.17s-.16-.05-.25-.05s-.18.02-.25.05s-.14.09-.19.17s-.09.18-.12.31s-.04.29-.04.48v.97c0 .19.01.35.04.48s.07.24.12.32s.11.14.19.17s.16.05.25.05s.18-.02.25-.05s.14-.09.19-.17s.09-.19.11-.32c.03-.13.04-.29.04-.48v-.97z"},null,-1),Ua=[za,Ha];function qa(e,t){return S(),C("svg",Va,Ua)}var Ga={name:"ic-baseline-replay30",render:qa};const Wa={name:"audioPlayerUiDesktop",mixins:[cn],data:function(){return{store:this.$store.state}}},ja={id:"audio-player"},Fa={class:"inner-wrap"},Ka=["src"],Ja={class:"player-timeline"},Ya={key:0,class:"time-display"},Xa={class:"scrubber-wrapper"},Qa=["value"],Za={class:"progress-filler"},el={class:"player-buttons"},tl={class:"play-pause"};function nl(e,t,n,r,i,s){const o=Ga,c=Da,l=Ia,u=Ra;return ve((S(),C("div",ja,[w("div",Fa,[w("img",{class:"book-cover",src:e.makeCoverUrl(e.$store.getters.audioPlayerBook.cover,500),alt:""},null,8,Ka),e.$store.getters.audioPlayerTitle?(S(),C("div",{key:0,class:"book",onClick:t[0]||(t[0]=(...a)=>e.openBook&&e.openBook(...a))},[w("span",null,Oe(e.$store.getters.audioPlayerTitle),1)])):X("",!0),w("div",Ja,[e.store.audioPlayer.timeDisplay?(S(),C("div",Ya,Oe(e.store.audioPlayer.timeDisplay),1)):X("",!0),w("div",Xa,[w("input",{class:"scrubber",type:"range",step:"0.1",min:"0",value:e.store.audioPlayer.progress,max:"100",onChange:t[1]||(t[1]=a=>e.$compEmitter.emit("audio-player-scrubbed",a))},null,40,Qa),w("div",Za,[w("div",{style:Lt({width:e.store.audioPlayer.progress?e.store.audioPlayer.progress+"%":null})},null,4)])])]),w("div",el,[w("div",{class:"back",onClick:t[2]||(t[2]=a=>e.$compEmitter.emit("audio-player-seek-back"))},[Q(o)]),w("div",tl,[e.$store.state.audioPlayer.playing?(S(),C("div",{key:1,class:"pause",onClick:t[4]||(t[4]=a=>e.$compEmitter.emit("audio-player-pause"))},[Q(l)])):(S(),C("div",{key:0,class:"play",onClick:t[3]||(t[3]=a=>e.$compEmitter.emit("audio-player-play"))},[Q(c)]))]),w("div",{class:"forward",onClick:t[5]||(t[5]=a=>e.$compEmitter.emit("audio-player-seek-forward"))},[Q(u)])])])],512)),[[ei,e.store.audioPlayer.audio]])}var rl=de(Wa,[["render",nl],["__scopeId","data-v-c0218108"]]);const il={viewBox:"0 0 512 512",width:"1.2em",height:"1.2em"},sl=w("path",{fill:"currentColor",d:"M256.455 8c66.269.119 126.437 26.233 170.859 68.685l35.715-35.715C478.149 25.851 504 36.559 504 57.941V192c0 13.255-10.745 24-24 24H345.941c-21.382 0-32.09-25.851-16.971-40.971l41.75-41.75c-30.864-28.899-70.801-44.907-113.23-45.273c-92.398-.798-170.283 73.977-169.484 169.442C88.764 348.009 162.184 424 256 424c41.127 0 79.997-14.678 110.629-41.556c4.743-4.161 11.906-3.908 16.368.553l39.662 39.662c4.872 4.872 4.631 12.815-.482 17.433C378.202 479.813 319.926 504 256 504C119.034 504 8.001 392.967 8 256.002C7.999 119.193 119.646 7.755 256.455 8z"},null,-1),ol=[sl];function al(e,t){return S(),C("svg",il,ol)}var ll={name:"fa-solid-redo-alt",render:al};const cl={viewBox:"0 0 512 512",width:"1.2em",height:"1.2em"},ul=w("path",{fill:"currentColor",d:"M255.545 8c-66.269.119-126.438 26.233-170.86 68.685L48.971 40.971C33.851 25.851 8 36.559 8 57.941V192c0 13.255 10.745 24 24 24h134.059c21.382 0 32.09-25.851 16.971-40.971l-41.75-41.75c30.864-28.899 70.801-44.907 113.23-45.273c92.398-.798 170.283 73.977 169.484 169.442C423.236 348.009 349.816 424 256 424c-41.127 0-79.997-14.678-110.63-41.556c-4.743-4.161-11.906-3.908-16.368.553L89.34 422.659c-4.872 4.872-4.631 12.815.482 17.433C133.798 479.813 192.074 504 256 504c136.966 0 247.999-111.033 248-247.998C504.001 119.193 392.354 7.755 255.545 8z"},null,-1),dl=[ul];function hl(e,t){return S(),C("svg",cl,dl)}var fl={name:"fa-solid-undo-alt",render:hl};const pl={viewBox:"0 0 352 512",width:"1.2em",height:"1.2em"},ml=w("path",{fill:"currentColor",d:"m242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28L75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256L9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},null,-1),vl=[ml];function gl(e,t){return S(),C("svg",pl,vl)}var qi={name:"fa-solid-times",render:gl};const _l={viewBox:"0 0 320 512",width:"1.2em",height:"1.2em"},yl=w("path",{fill:"currentColor",d:"M48 64C21.5 64 0 85.5 0 112v288c0 26.5 21.5 48 48 48h32c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48H48zm192 0c-26.5 0-48 21.5-48 48v288c0 26.5 21.5 48 48 48h32c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48h-32z"},null,-1),bl=[yl];function wl(e,t){return S(),C("svg",_l,bl)}var kl={name:"fa6-solid-pause",render:wl};const Sl={viewBox:"0 0 384 512",width:"1.2em",height:"1.2em"},$l=w("path",{fill:"currentColor",d:"M73 39c-14.8-9.1-33.4-9.4-48.5-.9S0 62.6 0 80v352c0 17.4 9.4 33.4 24.5 41.9S58.2 482 73 473l288-176c14.3-8.7 23-24.2 23-41s-8.7-32.2-23-41L73 39z"},null,-1),El=[$l];function Cl(e,t){return S(),C("svg",Sl,El)}var Pl={name:"fa6-solid-play",render:Cl};const Rl={name:"audioPlayerUiDesktop",mixins:[cn],data:function(){return{store:this.$store.state}}},Al={id:"audio-player"},Tl={class:"inner-wrap"},Ol={class:"player-innards"},Ll=["src","content"],Il={key:0,class:"time-display"},Nl={class:"scrubber-wrapper"},Ml=["value"],xl={class:"progress-filler"},Bl={class:"player-buttons"};function Dl(e,t,n,r,i,s){const o=Pl,c=kl,l=qi,u=fl,a=ll,h=yt("tippy");return ve((S(),C("div",Al,[w("div",Tl,[w("div",Ol,[ve(w("img",{class:"book-cover",src:e.makeCoverUrl(e.$store.getters.audioPlayerBook.cover,280),alt:"",content:(e.$store.state.audioPlayer.sample?"<strong>sample</strong> | ":"")+e.$store.getters.audioPlayerTitle},null,8,Ll),[[h,{placement:"right",flipBehavior:["right","bottom"]}]]),e.store.audioPlayer.timeDisplay?(S(),C("div",Il,Oe(e.store.audioPlayer.timeDisplay),1)):X("",!0),w("div",Nl,[w("input",{class:"scrubber",type:"range",step:"0.1",min:"0",value:e.store.audioPlayer.progress,max:"100",onChange:t[0]||(t[0]=f=>e.$compEmitter.emit("audio-player-scrubbed",f))},null,40,Ml),w("div",xl,[w("div",{style:Lt({width:e.store.audioPlayer.progress?e.store.audioPlayer.progress+"%":null})},null,4)])]),w("div",Bl,[e.$store.state.audioPlayer.playing?(S(),C("div",{key:1,class:"pause",onClick:t[2]||(t[2]=f=>e.$compEmitter.emit("audio-player-pause"))},[Q(c)])):(S(),C("div",{key:0,class:"play",onClick:t[1]||(t[1]=f=>e.$compEmitter.emit("audio-player-play"))},[Q(o)])),w("div",{class:"stop",onClick:t[3]||(t[3]=f=>e.$compEmitter.emit("audio-player-stop"))},[Q(l)]),w("div",{class:"back",onClick:t[4]||(t[4]=f=>e.$compEmitter.emit("audio-player-seek-back"))},[Q(u)]),w("div",{class:"forward",onClick:t[5]||(t[5]=f=>e.$compEmitter.emit("audio-player-seek-forward"))},[Q(a)])])])])],512)),[[ei,e.store.audioPlayer.audio]])}var Vl=de(Rl,[["render",Dl],["__scopeId","data-v-39718db0"]]);const zl={viewBox:"0 0 640 512",width:"1.2em",height:"1.2em"},Hl=w("path",{fill:"currentColor",d:"M579.8 267.7c56.5-56.5 56.5-148 0-204.5c-50-50-128.8-56.5-186.3-15.4l-1.6 1.1c-14.4 10.3-17.7 30.3-7.4 44.6s30.3 17.7 44.6 7.4l1.6-1.1c32.1-22.9 76-19.3 103.8 8.6c31.5 31.5 31.5 82.5 0 114L422.3 334.8c-31.5 31.5-82.5 31.5-114 0c-27.9-27.9-31.5-71.8-8.6-103.8l1.1-1.6c10.3-14.4 6.9-34.4-7.4-44.6s-34.4-6.9-44.6 7.4l-1.1 1.6C206.5 251.2 213 330 263 380c56.5 56.5 148 56.5 204.5 0l112.3-112.3zM60.2 244.3c-56.5 56.5-56.5 148 0 204.5c50 50 128.8 56.5 186.3 15.4l1.6-1.1c14.4-10.3 17.7-30.3 7.4-44.6s-30.3-17.7-44.6-7.4l-1.6 1.1c-32.1 22.9-76 19.3-103.8-8.6C74 372 74 321 105.5 289.5l112.2-112.3c31.5-31.5 82.5-31.5 114 0c27.9 27.9 31.5 71.8 8.6 103.9l-1.1 1.6c-10.3 14.4-6.9 34.4 7.4 44.6s34.4 6.9 44.6-7.4l1.1-1.6C433.5 260.8 427 182 377 132c-56.5-56.5-148-56.5-204.5 0L60.2 244.3z"},null,-1),Ul=[Hl];function ql(e,t){return S(),C("svg",zl,Ul)}var Gl={name:"fa6-solid-link",render:ql};const Wl={viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},jl=w("path",{fill:"currentColor",d:"M640 384v256H384V384h256zm64 0h192v256H704V384zm-64 512H384V704h256v192zm64 0V704h192v192H704zm-64-768v192H384V128h256zm64 0h192v192H704V128zM320 384v256H128V384h192zm0 512H128V704h192v192zm0-768v192H128V128h192z"},null,-1),Fl=[jl];function Kl(e,t){return S(),C("svg",Wl,Fl)}var Gi={name:"ep-grid",render:Kl};const Jl={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Yl=w("path",{fill:"currentColor",d:"M4 3h16a2 2 0 0 1 2 2v15a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2m0 4v3h4V7H4m6 0v3h4V7h-4m10 3V7h-4v3h4M4 12v3h4v-3H4m0 8h4v-3H4v3m6-8v3h4v-3h-4m0 8h4v-3h-4v3m10 0v-3h-4v3h4m0-8h-4v3h4v-3Z"},null,-1),Xl=[Yl];function Ql(e,t){return S(),C("svg",Jl,Xl)}var Zl={name:"mdi-table-large",render:Ql};const ec={name:"ViewModeSwitcher",props:["justIcon"],data:function(){return{sticky:this.$store.state.sticky,viewModes:["grid","spreadsheet"]}},methods:{changeViewMode:function(){const e=this;let t=_.findIndex(this.viewModes,function(r){return r===e.sticky.viewMode});t+1>this.viewModes.length-1?t=0:t=t+1;const n=this.viewModes[t];this.$store.commit("stickyProp",{key:"viewMode",value:n}),this.$updateQueries({y:null,view:n})}}},tc=["content"];function nc(e,t,n,r,i,s){const o=Zl,c=Gi,l=yt("tippy");return ve((S(),C("div",{class:he(["view-mode-switcher icon",{"no-style":n.justIcon}]),onClick:t[0]||(t[0]=(...u)=>s.changeViewMode&&s.changeViewMode(...u)),content:"Change to <strong>"+(e.sticky.viewMode==="grid"?"spreadsheet":"grid")+"</strong> view"},[e.sticky.viewMode==="grid"?(S(),re(o,{key:0,class:"icon"})):e.sticky.viewMode==="spreadsheet"?(S(),re(c,{key:1,class:"icon"})):X("",!0)],10,tc)),[[l,{allowHTML:!0}]])}var rc=de(ec,[["render",nc]]);const ic={props:["float"],methods:{startSearching(){this.$compEmitter.emit("ios-auto-zoom-disable"),this.$compEmitter.emit("search-focus")}}};function sc(e,t,n,r,i,s){const o=ii,c=yt("tippy");return e.$store.state.searchMounted,ve((S(),C("div",{key:0,class:he(["search-btn",{float:n.float}]),onClick:t[0]||(t[0]=(...l)=>s.startSearching&&s.startSearching(...l)),content:`
    Click to scroll up and search. <br>
    Read about advanced search operators 
    <a target="_blank" rel="noopener noreferrer" href="https://joonaspaakko.gitbook.io/audible-library-extractor/gallery/advanced-search">
      here
    </a>.`},[Q(o)],2)),[[c,{interactive:!0,allowHTML:!0}]])}var oc=de(ic,[["render",sc],["__scopeId","data-v-518fdf49"]]);const ac={viewBox:"0 0 384 512",width:"1.2em",height:"1.2em"},lc=w("path",{fill:"currentColor",d:"M223.5 32C100 32 0 132.3 0 256s100 224 223.5 224c60.6 0 115.5-24.2 155.8-63.4c5-4.9 6.3-12.5 3.1-18.7s-10.1-9.7-17-8.5c-9.8 1.7-19.8 2.6-30.1 2.6c-96.9 0-175.5-78.8-175.5-176c0-65.8 36-123.1 89.3-153.3c6.1-3.5 9.2-10.5 7.7-17.3s-7.3-11.9-14.3-12.5c-6.3-.5-12.6-.8-19-.8z"},null,-1),cc=[lc];function uc(e,t){return S(),C("svg",ac,cc)}var dc={name:"fa6-solid-moon",render:uc};const hc={viewBox:"0 0 512 512",width:"1.2em",height:"1.2em"},fc=w("path",{fill:"currentColor",d:"M361.5 1.2c5 2.1 8.6 6.6 9.6 11.9L391 121l107.9 19.8c5.3 1 9.8 4.6 11.9 9.6s1.5 10.7-1.6 15.2L446.9 256l62.3 90.3c3.1 4.5 3.7 10.2 1.6 15.2s-6.6 8.6-11.9 9.6L391 391l-19.9 107.9c-1 5.3-4.6 9.8-9.6 11.9s-10.7 1.5-15.2-1.6L256 446.9l-90.3 62.3c-4.5 3.1-10.2 3.7-15.2 1.6s-8.6-6.6-9.6-11.9L121 391L13.1 371.1c-5.3-1-9.8-4.6-11.9-9.6s-1.5-10.7 1.6-15.2L65.1 256L2.8 165.7c-3.1-4.5-3.7-10.2-1.6-15.2s6.6-8.6 11.9-9.6L121 121l19.9-107.9c1-5.3 4.6-9.8 9.6-11.9s10.7-1.5 15.2 1.6L256 65.1l90.3-62.3c4.5-3.1 10.2-3.7 15.2-1.6zM352 256c0 53-43 96-96 96s-96-43-96-96s43-96 96-96s96 43 96 96zm32 0c0-70.7-57.3-128-128-128s-128 57.3-128 128s57.3 128 128 128s128-57.3 128-128z"},null,-1),pc=[fc];function mc(e,t){return S(),C("svg",hc,pc)}var vc={name:"fa6-solid-sun",render:mc};const gc={name:"lightSwitch",data:function(){return{tippyContent:""}},created:function(){this.lightSwitchToggle(!0)},methods:{lightSwitchToggle:function(e){e?this.autoLightsOff():(this.$store.commit("stickyProp",{key:"lightSwitch",value:this.$store.state.sticky.lightSwitch?0:1}),this.$store.state.sticky.lightSwitchSetByUser||this.$store.commit("stickyProp",{key:"lightSwitchSetByUser",value:!0}));const t=document.querySelector("html");t.classList.remove("theme-light"),t.classList.remove("theme-dark"),t.classList.add(this.$store.state.sticky.lightSwitch?"theme-light":"theme-dark")},autoLightsOff:function(){window.matchMedia("(prefers-color-scheme)").media!=="not all"&&this.$store.state.sticky.lightSwitch&&!this.$store.state.sticky.lightSwitchSetByUser&&this.$store.commit("stickyProp",{key:"lightSwitch",value:0})}}},_c={class:"light-switch text-button"};function yc(e,t,n,r,i,s){const o=vc,c=dc;return S(),C("div",_c,[w("div",{class:"icon",onClick:t[0]||(t[0]=l=>s.lightSwitchToggle(!1))},[e.$store.state.sticky.lightSwitch?(S(),re(o,{key:0})):(S(),re(c,{key:1}))])])}var bc=de(gc,[["render",yc],["__scopeId","data-v-f55d5b5a"]]);const wc={name:"menuLooper",props:["routes","childRoutes","mobileMenuOpen","inRoot","desktopMenu"],data:function(){return{menuOpen:!0,copiedToClipboard:!1}},methods:{getHrefAttr(e){return e.tag==="a"?"href":"to"},itemActive(e){const t=this.$route.name;return t===e.name||_.find(e.children,{name:t})?"router-link-active":null},subItemActive(e){const t=this.$route.name;return _.find(e.childItems,function(r){return t===r.name||_.find(r.children,{name:t})})?"router-link-active":null},getRoutePath(e){return _.get(e,"path")?{name:_.get(e,"name")||_.get(e,"children[0].name"),query:{refresh:!0}}:_.get(e,"href")},getRouteName(e){if(e.altName)return e.altName(e);{const t=_.get(e,"children[0].meta.title")||_.get(e,"children[0].name")||e.name;return _.get(e,"meta.nestedGroup")==="extension-tools"?t:_.startCase(t)}},closeMenu(){this.menuOpen=!1,this.$nextTick(function(){this.menuOpen=!0})},additionalClick(e){this.mobileMenuOpen?this.$emit("update:mobileMenuOpen",!this.mobileMenuOpen):this.$emit("closeMenu")},copyToClipboard(){navigator.clipboard.writeText(window.location.href);const e=_.get(this.$refs,"copyToClipboard.$el")||_.get(this.$refs,"copyToClipboard.$el");e._tippy.show(),setTimeout(()=>{e._tippy.hide()},2e3)}}},kc={key:0},Sc={key:1,class:"mobile-menu-top-spacer"},$c=["onClick"],Ec={key:0,class:"menu-item-icon"},Cc=["innerHTML"],Pc={key:0,class:"sub-menu"},Rc={key:2,class:"menu-icon-toolbar"},Ac={key:0},Tc={key:1},Oc={key:2};function Lc(e,t,n,r,i,s){const o=dt("menuLooper"),c=bc,l=oc,u=rc,a=Gl,h=Vl,f=yt("tippy");return S(),C("div",{class:he(["menu-items",{"has-sub-menu":n.childRoutes,mobileMenu:n.mobileMenuOpen}])},[e.menuOpen?(S(),C("div",kc,[n.mobileMenuOpen?(S(),C("div",{key:0,class:"mobile-menu-top-filler",onClick:t[0]||(t[0]=m=>e.$emit("update:mobileMenuOpen",!n.mobileMenuOpen))})):X("",!0),n.mobileMenuOpen?(S(),C("div",Sc)):X("",!0),(S(!0),C(ht,null,ft(n.routes,m=>ve((S(),re(Un(m.tag||"router-link"),ds({tabindex:"0",key:m.path,[s.getHrefAttr(m)||""]:s.getRoutePath(m),target:m.href?"_blank":null,class:["menu-item",[m.meta.groupName,s.itemActive(m),s.subItemActive(m),m.disabled||(m.condition?!m.condition():null)?"disabled":""]],content:typeof m.tippy=="function"?m.tippy():m.tippy,onClick:v=>m.click?m.click(m):null}),{default:Ee(()=>[w("div",{class:"menu-item-inner",onClick:v=>s.additionalClick(m)},[m.meta.icon?(S(),C("span",Ec,[w("i",{class:he(m.meta.icon)},null,2)])):X("",!0),w("span",{class:"menu-item-text",innerHTML:s.getRouteName(m)},null,8,Cc)],8,$c),m.childItems?(S(),C("div",Pc,[Q(o,{routes:m.childItems,childRoutes:m.childItems,onCloseMenu:s.closeMenu},null,8,["routes","childRoutes","onCloseMenu"])])):X("",!0)]),_:2},1040,["target","class","content","onClick"])),[[f,{placement:"left",flipBehavior:["left","top","bottom"],maxWidth:400}]])),128)),n.inRoot?(S(),C("div",Rc,[w("div",null,[Q(c)]),n.mobileMenuOpen?X("",!0):(S(),C("div",Ac,[Q(l)])),n.mobileMenuOpen?(S(),C("div",Tc,[e.$store.state.searchMounted?(S(),re(u,{key:0,justIcon:!0})):X("",!0)])):X("",!0),n.mobileMenuOpen?(S(),C("div",Oc,[ve(Q(a,{class:"icon",onClick:t[1]||(t[1]=m=>s.copyToClipboard()),content:"Page URL copied to clipboard!",ref:"copyToClipboard"},null,512),[[f,{trigger:"manual"}]])])):X("",!0)])):X("",!0)])):X("",!0),n.inRoot&&n.desktopMenu?(S(),re(h,{key:1})):X("",!0)],2)}var Ic=de(wc,[["render",Lc],["__scopeId","data-v-524d2569"]]);const Nc={name:"modal",props:["toggled"],data:function(){return{modalOpen:!0}},created:function(){},methods:{close:function(){this.$emit("closeModal")},closeOverlay:function(e){let t=this;(e.target===this.$refs.modalGrandpa||e.target===this.$refs.modalPapa)&&t.close()}}},Mc={class:"outer-wrap",ref:"modalPapa"},xc={class:"inner-wrap"};function Bc(e,t,n,r,i,s){const o=qi,c=yt("shortkey");return S(),C("div",{id:"modal-wrapper",ref:"modalGrandpa",onClick:t[2]||(t[2]=(...l)=>s.closeOverlay&&s.closeOverlay(...l))},[w("div",Mc,[w("div",xc,[Xe(e.$slots,"default"),ve((S(),C("div",{class:"close-btn",onClick:t[0]||(t[0]=(...l)=>s.close&&s.close(...l)),onShortkey:t[1]||(t[1]=(...l)=>s.close&&s.close(...l))},[Q(o)],32)),[[c,["esc"],void 0,{once:!0}]])])],512)],512)}var wn=de(Nc,[["render",Bc]]);const Dc={viewBox:"0 0 16 16",width:"1.2em",height:"1.2em"},Vc=w("path",{fill:"currentColor","fill-rule":"evenodd",d:"M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59c.4.07.55-.17.55-.38c0-.19-.01-.82-.01-1.49c-2.01.37-2.53-.49-2.69-.94c-.09-.23-.48-.94-.82-1.13c-.28-.15-.68-.52-.01-.53c.63-.01 1.08.58 1.23.82c.72 1.21 1.87.87 2.33.66c.07-.52.28-.87.51-1.07c-1.78-.2-3.64-.89-3.64-3.95c0-.87.31-1.59.82-2.15c-.08-.2-.36-1.02.08-2.12c0 0 .67-.21 2.2.82c.64-.18 1.32-.27 2-.27c.68 0 1.36.09 2 .27c1.53-1.04 2.2-.82 2.2-.82c.44 1.1.16 1.92.08 2.12c.51.56.82 1.27.82 2.15c0 3.07-1.87 3.75-3.65 3.95c.29.25.54.73.54 1.48c0 1.07-.01 1.93-.01 2.2c0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"},null,-1),zc=[Vc];function Hc(e,t){return S(),C("svg",Dc,zc)}var Uc={name:"octicon-mark-github16",render:Hc};const qc={viewBox:"0 0 512 512",width:"1.2em",height:"1.2em"},Gc=w("path",{fill:"currentColor",d:"M288 32c0-17.7-14.3-32-32-32s-32 14.3-32 32v242.7l-73.4-73.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l128 128c12.5 12.5 32.8 12.5 45.3 0l128-128c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L288 274.7V32zM64 352c-35.3 0-64 28.7-64 64v32c0 35.3 28.7 64 64 64h384c35.3 0 64-28.7 64-64v-32c0-35.3-28.7-64-64-64H346.5l-45.3 45.3c-25 25-65.5 25-90.5 0L165.5 352H64zm368 104c-13.3 0-24-10.7-24-24s10.7-24 24-24s24 10.7 24 24s-10.7 24-24 24z"},null,-1),Wc=[Gc];function jc(e,t){return S(),C("svg",qc,Wc)}var Wi={name:"fa6-solid-download",render:jc};const Fc={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Kc=hs('<g fill="none" stroke="currentColor" stroke-linecap="round" stroke-width="2"><path stroke-dasharray="2 4" stroke-dashoffset="6" d="M12 3C16.9706 3 21 7.02944 21 12C21 16.9706 16.9706 21 12 21"><animate attributeName="stroke-dashoffset" dur="0.6s" repeatCount="indefinite" values="6;0"></animate></path><path stroke-dasharray="30" stroke-dashoffset="30" d="M12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3"><animate fill="freeze" attributeName="stroke-dashoffset" begin="0.1s" dur="0.3s" values="30;0"></animate></path><path stroke-dasharray="10" stroke-dashoffset="10" d="M12 8v7.5"><animate fill="freeze" attributeName="stroke-dashoffset" begin="0.5s" dur="0.2s" values="10;0"></animate></path><path stroke-dasharray="6" stroke-dashoffset="6" d="M12 15.5l3.5 -3.5M12 15.5l-3.5 -3.5"><animate fill="freeze" attributeName="stroke-dashoffset" begin="0.7s" dur="0.2s" values="6;0"></animate></path></g>',1),Jc=[Kc];function Yc(e,t){return S(),C("svg",Fc,Jc)}var Xc={name:"line-md-downloading-loop",render:Yc};const Qc={viewBox:"0 0 512 512",width:"1.2em",height:"1.2em"},Zc=w("path",{fill:"currentColor",d:"m173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69L432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},null,-1),eu=[Zc];function tu(e,t){return S(),C("svg",Qc,eu)}var nu={name:"fa-solid-check",render:tu};const ru={name:"saveGallery",components:{modal:wn},data:function(){return{files:[],dataSources:[{checked:!0,disabled:!1,key:"Library"},{checked:!0,disabled:!1,key:"Categories",parent:["Library","Wishlist"],subPage:!0},{checked:!0,disabled:!1,key:"Authors",parent:["Library","Wishlist"],subPage:!0},{checked:!0,disabled:!1,key:"Publishers",parent:["Library","Wishlist"],subPage:!0},{checked:!0,disabled:!1,key:"Collections",parent:"Library"},{checked:!0,disabled:!1,key:"Series",parent:["Library","Wishlist"],subPage:!0},{checked:!0,disabled:!1,key:"Narrators",parent:["Library","Wishlist"],subPage:!0},{checked:!0,disabled:!1,key:"Wishlist"},{checked:!0,disabled:!0,key:"Export archived books",extra:!0,tippy:'If unchecked, the "archive" collection and all archived books are excluded from the export and "My books in the series" will list archived books as not owned. This option is disabled if the archive is empty.'}],zip:null,cacheBuster:null,bundling:!1,saveBtnEnabled:!0,progressWidth:null,iconSize:20}},created:function(){this.files=window.chunksFilePaths;let e=this;this.$store.state.sticky.exportSettingsGallery&&_.each(this.$store.state.sticky.exportSettingsGallery,function(s){var o=_.find(e.dataSources,{key:s.key});o.checked=s.checked,o.disabled=s.disabled});let t=_.find(this.dataSources,{key:"Library"});t.disabled=!this.$store.state.library.books;let n=_.find(this.dataSources,{key:"Wishlist"});n.disabled=!this.$store.state.library.wishlist;let r=this.$store.state.library.collections,i=r?_.find(r,{id:"__ARCHIVE"}):null;if(i&&i.books.length>0){let s=_.find(this.dataSources,{key:"Export archived books"});s&&(s.disabled=!1)}},mounted:function(){let e=this;this.iconSize=this.$refs.textWrapper.offsetHeight,e.$store.getters.saveStandaloneAfter&&this.$nextTick(function(){try{let t=JSON.parse(JSON.stringify(e.$store.state.extractSettings)),n=_.find(t.extraSettings,{name:"saveStandaloneAfter"});n.deactivated=!0,this.$store.commit("prop",{key:"extractSettings",value:t}),chrome.storage.local.set({config:t}).then(function(){e.saveButtonClicked()})}catch{}})},beforeUnmount:function(){this.zip=null,this.cacheBuster=null},computed:{chunkSource:function(){return _.chunk(this.dataSources,4)}},methods:{cancelZipping:function(){window.location.reload()},divideLargerDatapoints:function(e,t){let n=this;_.each(t,function(r){let i="";r.peopleAlsoBought&&r.asin&&(i+="window.peopleAlsoBoughtJSON = "+JSON.stringify(r.peopleAlsoBought)+`; 
`,delete r.peopleAlsoBought),r.summary&&r.asin&&(i+="window.bookSummaryJSON = "+JSON.stringify(r.summary)+`; 
`,delete r.summary),i!==""&&e.file("data/split-book-data/"+r.asin+"."+n.cacheBuster+".js",i)})},saveButtonClicked:async function(){const e=this;if(!(this.bundling||this.$store.state.devMode))try{e.bundling=!0,e.$store.commit("prop",{key:"bundlingGallery",value:!0}),e.cacheBuster=this.runCachebuster(),e.zip=new JSZip;const t=e.zip;t.file(".nojekyll","");let n=this.excludeData(JSON.parse(JSON.stringify(this.$store.state.library)));n.extras.cacheID=e.cacheBuster;let r={books:!!n.books,series:!!n.series,collections:!!n.collections,wishlist:!!n.wishlist,extras:n.extras},i=`
          if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('service-worker.${e.cacheBuster}.js')
            .then(function(registration) {
              console.log('Registration successful, scope is:', registration.scope);
            })
            .catch(function(error) {
              console.log('Service worker registration failed, error:', error);
            });
          }
        `;i=!1?"<script>"+i+"<\/script>":"";const o=function(u,a){let h="^assets\\/"+u+"\\..+\\."+(a||"js")+"$";return h=new RegExp(h),_.find(e.files,f=>f.match(h))},c='<!DOCTYPE html><html lang="en" class="theme-dark standalone-gallery" style="background: #171717; min-height: 100%;"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=1"><meta http-equiv="X-UA-Compatible" content="ie=edge"><meta http-equiv="Cache-control" content="no-cache, no-store, must-revalidate"><meta http-equiv="Pragma" content="no-cache"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="mobile-web-app-capable" content="yes"><link rel="apple-touch-icon" sizes="180x180" href="favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="favicons/favicon-16x16.png"><link rel="manifest" href="app.webmanifest"><link rel="mask-icon" href="favicons/safari-pinned-tab.svg" color="#f29a33"><link rel="shortcut icon" href="favicons/favicon.ico"><meta name="msapplication-TileColor" content="#222222"><meta name="msapplication-config" content="favicons/browserconfig.xml"><meta name="theme-color" content="#f29a33"><title>My Audible Library</title>'+i+'<link id="ale-css" rel="stylesheet" href="'+o("gallery","css")+'"></head><body><div id="audible-library-extractor" data-version="'+this.$store.state.version+'" data-cache-id="'+e.cacheBuster+'"></div><script src="https://cdn.jsdelivr.net/npm/lodash@4.17.21/lodash.min.js"><\/script><script id="ale-js" src="'+o("gallery","js")+'" type="module"><\/script><noscript>This library requires javascript to work!</noscript></body></html>';t.file("index.html",c),t.file("ALE-Documentation.url",`[InternetShortcut]
URL=https://joonaspaakko.gitbook.io/audible-library-extractor/`),n.wishlist&&n.books?this.divideLargerDatapoints(t,_.unionBy(n.books,n.wishlist,"asin")):(n.wishlist&&this.divideLargerDatapoints(t,n.wishlist),n.books&&this.divideLargerDatapoints(t,n.books)),t.file("data/temp-data."+e.cacheBuster+".js","window.tempDataJSON = "+JSON.stringify(r)+";"),n.books&&t.file("data/library."+e.cacheBuster+".js","window.libraryJSON = "+JSON.stringify(n.books)+";"),n.collections&&t.file("data/collections."+e.cacheBuster+".js","window.collectionsJSON = "+JSON.stringify(n.collections)+";"),n.series&&t.file("data/series."+e.cacheBuster+".js","window.seriesJSON = "+JSON.stringify(n.series)+";"),n.wishlist&&t.file("data/wishlist."+e.cacheBuster+".js","window.wishlistJSON = "+JSON.stringify(n.wishlist)+";"),console.log(_.cloneDeep(e.files)),_.remove(e.files,function(u){const a=u.replace(/^assets\//,"");if(a==="gallery.html")return!0;const h=[!!a.match(/^gallery/),!!a.match(/^content-script-helpers/),!!a.match(/^howler/),!!a.match(/^lodash/),!!a.match(/^tippy/),!!a.match(/^jquery/),!!a.match(/^fuse.esm/),!!a.match(/^index\..*\.js$/),!!a.match(/^Roboto/i),!!a.match(/^Inconsolata/i),!!a.match(/^vue\.runtime\.esm-bundler/i),!!a.match(/^fa-.+(woff2?|ttf)/)];return!_.includes(h,!0)}),e.files=e.files.concat(["favicons/android-chrome-192x192.png","favicons/android-chrome-512x512.png","favicons/apple-touch-icon.png","favicons/browserconfig.xml","favicons/favicon-16x16.png","favicons/favicon-32x32.png","favicons/favicon.ico","favicons/mstile-150x150.png","favicons/safari-pinned-tab.svg","app.webmanifest"]),console.log(e.files);for(let u of e.files){const a=await JSZipUtils.getBinaryContent(u);t.file(u,a,{binary:!0})}const l=await t.generateAsync({type:"blob",streamFiles:!0},function(a){e.progressWidth=a.percent+"%"});saveAs(l,"ALE-gallery.zip")}finally{setTimeout(function(){e.bundling=!1,e.$store.commit("prop",{key:"bundlingGallery",value:!1}),e.progressWidth=0},1e3)}},sourceChecked:function(e,t){let n=this,r=_.filter(this.dataSources,function(s){return _.isArray(s.parent)?_.includes(s.parent,t.key):s.parent===t.key});_.each(r,function(s){if(_.isArray(s.parent)){let o=_.map(s.parent,function(l){return _.find(n.dataSources,{key:l})}),c=_.filter(o,function(l){return l.checked&&!l.disabled}).length>0;s.disabled=!e.target.checked&&!c}else s.disabled=!e.target.checked});let i=_.filter(this.dataSources,{checked:!0,disabled:!1});this.saveBtnEnabled=!!i.length,this.$store.commit("stickyProp",{key:"exportSettingsGallery",value:this.dataSources})},excludeData:function(e){return _.each(this.dataSources,function(t){var n=t.key.toLowerCase(),r=!t.checked||t.disabled;switch(t.key){case"Library":r&&(delete e.books,delete e.series,delete e.collections);break;case"Series":r&&delete e.series;break;case"Collections":r&&delete e.collections;break;case"Wishlist":r&&delete e.wishlist;break;case"Export archived books":if(r){let i=e.collections,s=i?_.find(i,{id:"__ARCHIVE"}):null;s&&s.books.length>0&&e.books&&(_.remove(e.books,"archived"),e.series&&(_.each(e.series,function(o){o.books.length>0&&_.remove(o.books,function(c){return _.includes(s.books,c)}),o.allBooks.length>0&&_.each(o.allBooks,function(c){_.includes(s.books,c.asin)&&(c.notInLibrary=!0)})}),_.remove(e.series,function(o){return o.books.length===0})),_.each(i,function(o){_.remove(o.books,function(c){return _.includes(s.books,c)})})),s&&_.remove(i,function(o){return o.id==="__ARCHIVE"||!o.books||o.books.length===0})}break}t.subPage&&(e.extras.subPageStates=e.extras.subPageStates||[],e.extras.subPageStates.push({key:n,enabled:!r}))}),e},serviceWorker:function(){return`
      importScripts('https://storage.googleapis.com/workbox-cdn/releases/6.1.5/workbox-sw.js');

      workbox.setConfig({
        debug: false,
      });

      const {registerRoute} = workbox.routing;
      const {
        NetworkFirst,
        StaleWhileRevalidate,
        CacheFirst
      } = workbox.strategies;
      const CacheableResponsePlugin = workbox.cacheableResponse.CacheableResponsePlugin;
      const ExpirationPlugin = workbox.expiration.ExpirationPlugin;

      // Cache page navigations (html) with a Network First strategy
      registerRoute(
        // Check to see if the request is a navigation to a new page
        ({ request }) => request.mode === 'navigate',
        // Use a Network First caching strategy
        new NetworkFirst({
          // Put all cached files in a cache named 'pages'
          cacheName: 'pages',
          plugins: [
            // Ensure that only requests that result in a 200 status are cached
            new CacheableResponsePlugin({
              statuses: [200],
            }),
          ],
        }),
      );

      // Cache CSS, JS, and Web Worker requests with a Stale While Revalidate strategy
      registerRoute(
        // Check to see if the request's destination is style for stylesheets, script for JavaScript, or worker for web worker
        ({ request }) =>
          request.destination === 'style' ||
          request.destination === 'script' ||
          request.destination === 'worker',
        // Use a Stale While Revalidate caching strategy
        new StaleWhileRevalidate({
          // Put all cached files in a cache named 'assets'
          cacheName: 'assets',
          plugins: [
            // Ensure that only requests that result in a 200 status are cached
            new CacheableResponsePlugin({
              statuses: [200],
            }),
          ],
        }),
      );

      // Cache images with a Cache First strategy
      registerRoute(
        // Check to see if the request's destination is style for an image
        ({ url, request }) =>
          (request.destination === 'image' && url.origin !== 'https://m.media-amazon.com') ||
          (request.destination === 'image' && url.origin === 'https://m.media-amazon.com' && !url.href.match(/_SL200_/) && !url.href.match(/_SL150_/)),
        // Use a Cache First caching strategy
        new CacheFirst({
          // Put all cached files in a cache named 'images'
          cacheName: 'images',
          plugins: [
            // Ensure that only requests that result in a 200 status are cached
            new CacheableResponsePlugin({
              statuses: [200],
            }),
            // Don't cache more than 50 items, and expire them after 30 days
            new ExpirationPlugin({
              maxEntries: 50,
              maxAgeSeconds: 60 * 60 * 24 * 30, // 30 Days
            }),
          ],
        }),
      );

      // Cache the Google Fonts stylesheets with a stale-while-revalidate strategy.
      registerRoute(
        ({url}) => url.origin === 'https://fonts.googleapis.com',
        new StaleWhileRevalidate({
          cacheName: 'google-fonts-stylesheets',
        })
      );

      // Cache the underlying font files with a cache-first strategy for 1 year.
      registerRoute(
        ({url}) => url.origin === 'https://fonts.gstatic.com',
        new CacheFirst({
          cacheName: 'google-fonts-webfonts',
          plugins: [
            new CacheableResponsePlugin({
              statuses: [0, 200],
            }),
            new ExpirationPlugin({
              maxAgeSeconds: 60 * 60 * 24 * 365,
              maxEntries: 30,
            }),
          ],
        })
      );
      `},runCachebuster:function(){return new Date().getTime()}}},Be=e=>(qn("data-v-db842522"),e=e(),Gn(),e),iu={class:"export-group"},su={class:"top-wrapper"},ou={class:"text-wrapper",ref:"textWrapper"},au=Be(()=>w("h2",null,"Stand-alone gallery",-1)),lu=Be(()=>w("div",{class:"description"}," This saves the gallery as a stand-alone web page that can be uploaded online and shared or viewed as is by unpacking the zip file and opening the index.html file in a web chrome. ",-1)),cu=[au,lu],uu=Be(()=>w("h3",null,"Include:",-1)),du={class:"options opt-groups"},hu=["data-extra","content"],fu=["disabled","onUpdate:modelValue","onChange"],pu={class:"visual-checkbox"},mu={class:"icon"},vu=Be(()=>w("h3",null,"Output:",-1)),gu=Be(()=>w("div",null,"Hosted online",-1)),_u={content:"Only use this option if you wish to view the gallery locally on your computer. Don't upload this online, unless you're really into slow load times."},yu=Ut("Local viewing"),bu=[yu],wu={class:"buttons-footer"},ku={class:"btn-wrapper"},Su={key:0,style:{color:"#999","font-weight":"bold","margin-bottom":"5px"}},$u=Ut(" Saving the standalone gallery is only possible "),Eu=Be(()=>w("br",null,null,-1)),Cu=Ut(' in "production" builds ('),Pu=Be(()=>w("code",null,"yarn vite build",-1)),Ru=Ut(") "),Au=[$u,Eu,Cu,Pu,Ru],Tu=["disabled"],Ou={key:0},Lu=Ut(" ALE-gallery.zip"),Iu={class:"github-btn",target:"_blank",rel:"noopener noreferrer",href:"https://joonaspaakko.gitbook.io/audible-library-extractor/sharing/uploading-to-github"},Nu=Be(()=>w("span",null,"Upload instructions",-1)),Mu={class:"github-btn",target:"_blank",rel:"noopener noreferrer",href:"https://joonaspaakko.gitbook.io/audible-library-extractor/sharing/uploading-to-github/updating-gallery-in-github"},xu=Be(()=>w("span",null,"Update instructions",-1));function Bu(e,t,n,r,i,s){const o=Gi,c=nu,l=Xc,u=Wi,a=Uc,h=wn,f=yt("tippy");return S(),re(h,{onCloseModal:t[2]||(t[2]=m=>e.$emit("closeComp"))},{default:Ee(()=>[w("div",iu,[w("div",su,[w("div",{class:"icon-wrapper",style:Lt({fontSize:e.iconSize/1.2+"px",lineHeight:e.iconSize/1.2+"px",paddingRight:e.iconSize/2.5+"px"})},[Q(o)],4),w("div",ou,cu,512)]),uu,w("div",du,[(S(!0),C(ht,null,ft(s.chunkSource,(m,v)=>(S(),C("div",{class:he(["opt-group",["group-"+v]]),key:v},[(S(!0),C(ht,null,ft(m,(d,p)=>ve((S(),C("label",{class:he(["item-"+p,d.disabled?"disabled":null]),"data-extra":d.extra,key:d.key,content:d.tippy},[ve(w("input",{type:"checkbox",disabled:d.disabled,"onUpdate:modelValue":g=>d.checked=g,onChange:g=>s.sourceChecked(g,d)},null,40,fu),[[fs,d.checked]]),w("div",pu,[w("span",mu,[Q(c)])]),w("span",null,Oe(d.key),1)],10,hu)),[[f]])),128))],2))),128))]),vu,gu,ve((S(),C("div",_u,bu)),[[f]]),w("div",wu,[w("div",ku,[e.$store.state.devMode?(S(),C("div",Su,Au)):X("",!0),w("button",{class:he(["save-btn save-gallery",{saving:e.bundling}]),onClick:t[1]||(t[1]=(...m)=>s.saveButtonClicked&&s.saveButtonClicked(...m)),disabled:!e.$store.state.devMode&&(e.bundling||!e.saveBtnEnabled)},[w("span",null,[e.bundling?(S(),C("strong",Ou,"Packaging:")):X("",!0),Lu]),e.bundling?(S(),re(l,{key:0})):(S(),re(u,{key:1})),e.bundling&&e.progressWidth?(S(),C("div",{key:2,class:"progress",style:Lt({width:e.progressWidth})},null,4)):X("",!0),e.bundling?(S(),C("button",{key:3,class:"cancel-packaging",onClick:t[0]||(t[0]=(...m)=>s.cancelZipping&&s.cancelZipping(...m))},"cancel")):X("",!0)],10,Tu),w("div",null,[w("a",Iu,[Nu,Q(a)]),w("a",Mu,[xu,Q(a)])])])])])]),_:1})}var Du=de(ru,[["render",Bu],["__scopeId","data-v-db842522"]]);const Vu={viewBox:"0 0 576 512",width:"1.2em",height:"1.2em"},zu=w("path",{fill:"currentColor",d:"M384 24c0-9.6 5.7-18.2 14.5-22s19-2 26 4.6l144 136c4.8 4.5 7.5 10.8 7.5 17.4s-2.7 12.9-7.5 17.4l-144 136c-7 6.6-17.2 8.4-26 4.6S384 305.5 384 296v-72h-46.5c-45 0-81.5 36.5-81.5 81.5c0 22.3 10.3 34.3 19.2 40.5c6.8 4.7 12.8 12 12.8 20.3c0 9.8-8 17.8-17.8 17.8h-2.5c-2.4 0-4.8-.4-7.1-1.4C242.8 374.8 160 333.4 160 240c0-79.5 64.5-144 144-144h80V24zM0 144c0-44.2 35.8-80 80-80h16c17.7 0 32 14.3 32 32s-14.3 32-32 32H80c-8.8 0-16 7.2-16 16v288c0 8.8 7.2 16 16 16h288c8.8 0 16-7.2 16-16v-16c0-17.7 14.3-32 32-32s32 14.3 32 32v16c0 44.2-35.8 80-80 80H80c-44.2 0-80-35.8-80-80V144z"},null,-1),Hu=[zu];function Uu(e,t){return S(),C("svg",Vu,Hu)}var qu={name:"fa6-solid-share-from-square",render:Uu};const Gu={viewBox:"0 0 512 512",width:"1.2em",height:"1.2em"},Wu=w("path",{fill:"currentColor",d:"M222.7 32.1c5 16.9-4.6 34.8-21.5 39.8C121.8 95.6 64 169.1 64 256c0 106 86 192 192 192s192-86 192-192c0-86.9-57.8-160.4-137.1-184.1c-16.9-5-26.6-22.9-21.5-39.8s22.9-26.6 39.8-21.5C434.9 42.1 512 140 512 256c0 141.4-114.6 256-256 256S0 397.4 0 256C0 140 77.1 42.1 182.9 10.6c16.9-5 34.8 4.6 39.8 21.5z"},null,-1),ju=[Wu];function Fu(e,t){return S(),C("svg",Gu,ju)}var Ku={name:"fa6-solid-circle-notch",render:Fu};const Ju={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Yu=w("path",{fill:"currentColor",d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10s10-4.47 10-10S17.53 2 12 2z"},null,-1),Xu=[Yu];function Qu(e,t){return S(),C("svg",Ju,Xu)}var Zu={name:"ic-baseline-circle",render:Qu};const ed={viewBox:"0 0 384 512",width:"1.2em",height:"1.2em"},td=w("path",{fill:"currentColor",d:"M64 0C28.7 0 0 28.7 0 64v384c0 35.3 28.7 64 64 64h256c35.3 0 64-28.7 64-64V160H256c-17.7 0-32-14.3-32-32V0H64zm192 0v128h128L256 0zM80 224h16c22.1 0 40 17.9 40 40v8c0 8.8-7.2 16-16 16s-16-7.2-16-16v-8c0-4.4-3.6-8-8-8H80c-4.4 0-8 3.6-8 8v80c0 4.4 3.6 8 8 8h16c4.4 0 8-3.6 8-8v-8c0-8.8 7.2-16 16-16s16 7.2 16 16v8c0 22.1-17.9 40-40 40H80c-22.1 0-40-17.9-40-40v-80c0-22.1 17.9-40 40-40zm72 46.4c0-25.6 20.8-46.4 46.4-46.4H216c8.8 0 16 7.2 16 16s-7.2 16-16 16h-17.6c-7.9 0-14.4 6.4-14.4 14.4c0 5.2 2.8 9.9 7.2 12.5l25.4 14.5C231 305.7 240 321 240 337.7c0 25.6-20.8 46.4-46.4 46.4H168c-8.8 0-16-7.2-16-16s7.2-16 16-16h25.6c7.9 0 14.4-6.4 14.4-14.4c0-5.2-2.8-9.9-7.2-12.5l-25.4-14.5c-14.5-8.3-23.4-23.7-23.4-40.3zM280 240v31.6c0 23 5.5 45.6 16 66c10.5-20.3 16-42.9 16-66V240c0-8.8 7.2-16 16-16s16 7.2 16 16v31.6c0 34.7-10.3 68.7-29.6 97.6l-5.1 7.7c-3 4.5-8 7.1-13.3 7.1s-10.3-2.7-13.3-7.1l-5.1-7.7c-19.3-28.9-29.6-62.9-29.6-97.6V240c0-8.8 7.2-16 16-16s16 7.2 16 16z"},null,-1),nd=[td];function rd(e,t){return S(),C("svg",ed,nd)}var id={name:"fa6-solid-file-csv",render:rd},sd={methods:{stringifyArray:function(e,t,n){return Array.isArray(e)?t?e.map(function(r){return r[t]}).join(n||", "):e.join(", "):e||""}}},od={methods:{makeFullUrl:function(e){const t=new Ln(this.$store.state.urlOrigin+e);return t.query.ipRedirectOverride=!0,t.query.overrideBaseCountry=!0,t.toString()},makeUrl:function(e,t){const n=this.$store.state.urlOrigin;let r="";switch(e){case"store":case"book":r=n+"/pd/"+encodeURIComponent(t);break;case"author":t.url?r=n+"/author/"+t.url:r=n+"/search?searchAuthor="+encodeURIComponent(t.name);break;case"narrator":t.name&&(r=n+"/search?searchNarrator="+encodeURIComponent(t.name));break;case"series":t.asin&&(r=n+"/series/"+t.asin);break;case"publisher":t.name&&(r=n+"/search?searchProvider="+encodeURIComponent(t.name));break;case"categories":case"tags":t.url&&(r=n+"/cat/"+t.url);break}if(r){let i=new Ln(r);return i.query.ipRedirectOverride=!0,i.query.overrideBaseCountry=!0,i.toString()}else return""}}},ad={methods:{prepareKeys:function(e){e=e||{};let t=e.collection||_.get(this.$store.state,this.$store.state.collectionSource),n=_.union(_.flatten(_.map(t,o=>_.keys(o))));n=n.concat(["isbn10","isbn13"]);let r=["added","title","series","bookNumbers","authors","narrators","tags","categories","length","progress","releaseDate","publishers","myRating","rating","ratings","favorite","format","language","whispersync","fromPlusCatalog","unavailable","archived","downloaded","storePageChanged","storePageMissing"];e.priorityKeys&&(r=e.priorityKeys);let i=_.remove(n,function(o){return!_.includes(r,o)});n=r.concat(i),r=null,i=null;let s=["titleShort","sample","blurb","url","summary","moreLikeThis","peopleAlsoBought","asin","cover","sample","cover","isbns"];return n=_.remove(n,function(o){return!_.includes(e.removeKeys||s,o)}),n}}},ld={methods:{slugify:function(e){const t="\xE0\xE1\xE2\xE4\xE6\xE3\xE5\u0101\u0103\u0105\xE7\u0107\u010D\u0111\u010F\xE8\xE9\xEA\xEB\u0113\u0117\u0119\u011B\u011F\u01F5\u1E27\xEE\xEF\xED\u012B\u012F\xEC\u0142\u1E3F\xF1\u0144\u01F9\u0148\xF4\xF6\xF2\xF3\u0153\xF8\u014D\xF5\u0151\u1E55\u0155\u0159\xDF\u015B\u0161\u015F\u0219\u0165\u021B\xFB\xFC\xF9\xFA\u016B\u01D8\u016F\u0171\u0173\u1E83\u1E8D\xFF\xFD\u017E\u017A\u017C\xB7/_,:;",n="aaaaaaaaaacccddeeeeeeeegghiiiiiilmnnnnoooooooooprrsssssttuuuuuuuuuwxyyzzz------",r=new RegExp(t.split("").join("|"),"g");return encodeURIComponent(e.toString().toLowerCase().replace(/\s+/g,"-").replace(r,i=>n.charAt(t.indexOf(i))).replace(/&/g,"-and-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,""))}}},cd={methods:{makeGoodReadsUrl:function(e){e=e||this.book;const t=e.authors?e.authors[0].name+" - ":e.obj&&e.obj.authors?e.obj.authors[0].name+" - ":"";let n=(t&&e.titleShort?e.titleShort:e.title)||"";const r=t+n;return e.titleShort||e.title?"https://www.goodreads.com/search?q="+encodeURIComponent(r):null}}};const ud={name:"saveCsv",mixins:[sd,cn,od,ad,ld,cd],components:{modal:wn},data:function(){return{settings:{dataSourcesChecked:"Library",dataSources:[{key:"Library",description:"Export library data as spreadsheet. Default sorting (added): new books at the top."},{key:"Wishlist",description:"Export wishlist data as spreadsheet.  Default sorting (added): new books at the top."},{key:"Current page",description:"Export contents from any page with books. Search, filtering, and sorting affect this source."}],compatibilityChecked:"Google Sheets",compatibility:[{key:"Raw data",label:"Raw data",description:"Raw data with no special formulas, so it will work in any spreadsheet application."},{key:"Google Sheets",description:`Adds Google Sheets compatible formulas that add icons and links. If you don't like the formulas, you can use "raw data" instead.`},{key:"Goodreads",description:"This spreadsheet includes Goodreads relevant columns and removes any books that don't have ISBNs since Goodreads won't import books without them. Book status determines the bookshelve: not started (to-read), started(currently-reading), finished (read). Book categories are divided into shelves as well."}]},bundling:!1,iconSize:20}},mounted:function(){this.$store.state.sticky.exportSettingsCSVdataSources&&(this.settings.dataSourcesChecked=this.$store.state.sticky.exportSettingsCSVdataSources),this.$store.state.sticky.exportSettingsCSVcompatibility&&(this.settings.compatibilityChecked=this.$store.state.sticky.exportSettingsCSVcompatibility),this.iconSize=this.$refs.textWrapper.offsetHeight},computed:{dataSourceActive(){return _.find(this.settings.dataSources,{key:this.settings.dataSourcesChecked})},compatibilityActive(){return _.find(this.settings.compatibility,{key:this.settings.compatibilityChecked})},googleSheets:function(){return this.settings.compatibilityChecked==="Google Sheets"},filename:function(){let e="";if(this.settings.dataSourcesChecked==="Library")e="library";else if(this.settings.dataSourcesChecked==="Wishlist")e="wishlist";else if(this.settings.dataSourcesChecked==="Current page"){let t=this.$store.state.pageTitle?this.slugify(this.$store.state.pageTitle):null,n=this.$route.name;e=t||n}return e!==""&&(e="-"+e),"ALE-spreadsheet"+e+".csv"},dataSource:function(){switch(this.settings.dataSourcesChecked){case"Library":return this.$store.state.library.books;case"Wishlist":return this.$store.state.library.wishlist;case"Current page":return this.$store.getters.collection}},saveBtnEnabled:function(){if(this.settings.dataSourcesChecked==="Current page"){if(this.$route.meta.gallery)return!0}else return this.settings.dataSourcesChecked==="Wishlist"&&this.settings.compatibilityChecked==="Goodreads"?!1:this.dataSource&&this.dataSource.length>0}},methods:{saveButtonClicked:function(){if(!this.bundling){const e=this;e.bundling=!0;let t=JSON.parse(JSON.stringify(this.dataSource)),n=this.prepKeys(t),r=Papa.unparse({fields:_.map(n,function(i){return i==="isbn10"&&i==="isbn13"?i.toUpperCase():_.startCase(i)}),data:this.processData(n,t),quotes:!1,quoteChar:'"',escapeChar:'"',delimiter:",",header:!0,newline:`\r
`,skipEmptyLines:!1,columns:null});saveAs(new File([r],this.filename,{type:"text/csv;charset=utf-8"})),setTimeout(function(){e.bundling=!1},1e3)}},inputChanged:function(e){this.$store.state.sticky.exportSettingsCSVdataSources!==this.settings.dataSourcesChecked&&this.$store.commit("stickyProp",{key:"exportSettingsCSVdataSources",value:this.settings.dataSourcesChecked}),this.$store.state.sticky.exportSettingsCSVcompatibility!==this.settings.compatibilityChecked&&this.$store.commit("stickyProp",{key:"exportSettingsCSVcompatibility",value:this.settings.compatibilityChecked})},processData:function(e,t){let n=this;return this.$store.state.sticky.exportSettingsCSVcompatibility==="Goodreads"?this.processDataGoodreads(e,t):_.map(t,function(r){return _.map(e,function(i){switch(i){case"authors":case"narrators":case"categories":case"publishers":case"tags":return n.stringifyArray(r[i],"name",i==="categories"?" > ":null)||"";case"series":let s=r.series;return s&&(s=_.map(s,function(d){let p=d.bookNumbers?" (book "+d.bookNumbers.join(", ")+")":"";return d.name+p}).join(", ")),s;case"bookNumbers":let o=_.filter(r.series,"bookNumbers");return o=_.map(o,"bookNumbers"),o=_.flatten(o),_.isEmpty(o)?o=null:_.isArray(o)&&(o=o.join(", ")),o=o||"\u221E",n.googleSheets&&(o="'"+o),r.series?o:"";case"isbn10":const c=_.find(r.isbns,{type:"ISBN_10"});return c?n.googleSheets?"'"+c.identifier:c.identifier:"";case"isbn13":const l=_.find(r.isbns,{type:"ISBN_13"});return l?n.googleSheets?"'"+l.identifier:l.identifier:"";case"peopleAlsoBought":return r.peopleAlsoBought?n.stringifyArray(r.peopleAlsoBought,"title"):"";case"summary":return r.summary?r.summary.replace(/(\n|\r)/g):"";case"cover":let u=r.cover?n.makeCoverUrl(r.cover):"";return r.cover&&u&&r.asin&&n.googleSheets&&(u=n.googleSheetsLinkifyImage(n.makeUrl("book",r.asin),n.makeCoverUrl(r.cover,75),0)),u;case"title":let a=r[i]||r.titleShort||"";return a&&r.asin&&n.googleSheets&&(a=n.googleSheetsLinkify(a,n.makeUrl("book",r.asin))),a;case"titleShort":let h=r[i]||r.title||"";return h&&r.asin&&n.googleSheets&&(h=n.googleSheetsLinkify(h,n.makeUrl("book",r.asin))),h;case"sample":let f=r[i]||"";return f&&n.googleSheets&&(f=n.googleSheetsLinkifyImage(f,"https://i.imgur.com/R2N6OTy.png",20)),f;case"searchInGoodreads":let m=n.makeGoodReadsUrl(r);return m&&n.googleSheets&&(m=n.googleSheetsLinkifyImage(m,"https://i.imgur.com/RPJRqNX.png",20)),m||"";case"webPlayer":let v=r.asin?"https://www.audible.com/webplayer?asin="+r.asin:"";return v&&n.googleSheets&&(v=n.googleSheetsLinkifyImage(v,"https://i.imgur.com/PdFLCdl.png",20)),v||"";case"parentCategory":return r.categories&&r.categories[0]?r.categories[0].name:"";case"childCategory":return r.categories&&r.categories[1]?r.categories[1].name:"";case"storePage":return r.asin?n.makeUrl("book",r.asin):"";case"asin":case"length":case"progress":case"myRating":case"rating":case"ratings":case"isbn":case"isbn10":case"isbn13":return n.googleSheets?"'"+(r[i]||""):r[i]||"";case"storePageUrl":return r.asin?n.makeUrl("book",r.asin):"";default:return r[i]||""}})})},googleSheetsLinkify:function(e,t){return'=HYPERLINK("'+t+'";"'+e.replace(/\"/g,'""')+'")'},googleSheetsLinkifyImage:function(e,t,n){n=n||0;let r=n?"; 4; "+n+"; "+n:"";return'=HYPERLINK("'+e+'"; IMAGE("'+t+'"'+r+"))"},googleSheetsImagefy:function(e,t){t=t||0;let n=t?"; 4; "+t+"; "+t:"";return'=IMAGE("'+e+'"'+n+")"},processDataGoodreads:function(e,t){let n=this;return t=_.filter(t,function(r){const i=_.find(r.isbns,{type:"ISBN_10"}),s=_.find(r.isbns,{type:"ISBN_13"});return i||s}),_.map(t,function(r){return _.map(e,function(i){switch(i){case"title":return r.title||r.titleShort||"";case"author":case"publisher":return r[i+"s"]&&n.stringifyArray([r[i+"s"][0]],"name")||"";case"myRating":return r.myRating||"";case"binding":return"Audible Audio";case"yearPublished":return r.releaseDate||"";case"dateAdded":let s=new Date,o=s.getTimezoneOffset();return s=new Date(s.getTime()-o*60*1e3),s.toISOString().split("T")[0];case"bookshelves":let c=[],l=!r.progress,u=!!(r.progress&&!r.progress.toLowerCase().match("finished")),a=!!(r.progress&&r.progress.toLowerCase().match("finished")),h=l?"to-read":u?"currently-reading":a?"read":"to-read";c.push(h),c.push("audible"),c.push("audiobook"),r.fromPlusCatalog&&c.push("audible-plus");let f=r.categories&&r.categories[0]?r.categories[0].name:null;f&&c.push(n.slugify(f));let m=r.categories&&r.categories[1]?r.categories[1].name:null;return m&&c.push(n.slugify(m)),c.join(" ");case"isbn":const v=_.find(r.isbns,{type:"ISBN_10"});return v?v.identifier:"";case"isbn13":const d=_.find(r.isbns,{type:"ISBN_13"});return d?d.identifier:"";default:return""}})})},prepKeys:function(e){let t=[];switch(this.settings.compatibilityChecked){case"Google Sheets":case"Raw data":let r=["added","cover","sample","webPlayer","searchInGoodreads","title","titleShort","series","bookNumbers","blurb","authors","narrators","tags","categories","parentCategory","childCategory","length","progress","releaseDate","publishers","myRating","rating","ratings","favorite","format","language","whispersync","fromPlusCatalog","unavailable","archived","downloaded","storePageChanged","storePageMissing","asin","isbn10","isbn13","summary","peopleAlsoBought"];const i=this.settings.compatibilityChecked==="Raw data";if(i&&r.push("storePageUrl"),i){var n=["sample","webPlayer","cover","searchInGoodreads"];r=_.remove(r,function(s){return!_.includes(n,s)}),r=r.concat(n)}t=this.prepareKeys({collection:e||[],removeKeys:["isbns"],priorityKeys:r});break;case"Goodreads":t=["dateRead","myReview","title","bookshelves","author","publisher","myRating","binding","yearPublished","dateAdded","isbn","isbn13"];break}return t}}},St=e=>(qn("data-v-bb384960"),e=e(),Gn(),e),dd={class:"export-group"},hd={class:"top-wrapper"},fd={class:"text-wrapper",ref:"textWrapper"},pd=St(()=>w("h2",null," CSV (Spreadsheet)",-1)),md=St(()=>w("div",{class:"description"}," CSV is a generic file format for tabular data that is supported by any proper spreadsheet application. ",-1)),vd=[pd,md],gd=St(()=>w("h3",null,"Data source:",-1)),_d={class:"options"},yd=["value"],bd={class:"visual-radiobutton"},wd={class:"icon"},kd={class:"description",style:{"margin-top":"10px"}},Sd=St(()=>w("h3",null,"Format:",-1)),$d={class:"options"},Ed=["value"],Cd={class:"visual-radiobutton"},Pd={class:"icon"},Rd={class:"description",style:{"margin-top":"10px"}},Ad={class:"buttons-footer"},Td={class:"btn-wrapper"},Od=["disabled"],Ld={class:"github-btn",target:"_blank",rel:"noopener noreferrer",href:"https://joonaspaakko.gitbook.io/audible-library-extractor/gallery/csv-export/google-sheets-import"},Id=St(()=>w("span",null,"Google Sheets import",-1)),Nd={class:"github-btn",target:"_blank",rel:"noopener noreferrer",href:"https://joonaspaakko.gitbook.io/audible-library-extractor/gallery/csv-export/goodreads-import"},Md=St(()=>w("span",null,"Goodreads import",-1));function xd(e,t,n,r,i,s){const o=id,c=Zu,l=Ku,u=Wi,a=qu,h=wn;return S(),re(h,{onCloseModal:t[5]||(t[5]=f=>e.$emit("closeComp"))},{default:Ee(()=>[w("div",dd,[w("div",hd,[w("div",{class:"icon-wrapper",style:Lt({fontSize:e.iconSize/1.2+"px",lineHeight:e.iconSize/1.2+"px",paddingRight:e.iconSize/2.5+"px"})},[Q(o)],4),w("div",fd,vd,512)]),gd,w("div",_d,[(S(!0),C(ht,null,ft(e.settings.dataSources,f=>(S(),C("label",{key:f.key},[ve(w("input",{type:"radio",name:"dataSources","onUpdate:modelValue":t[0]||(t[0]=m=>e.settings.dataSourcesChecked=m),value:f.key,onChange:t[1]||(t[1]=(...m)=>s.inputChanged&&s.inputChanged(...m))},null,40,yd),[[pr,e.settings.dataSourcesChecked]]),w("div",bd,[w("div",wd,[Q(c)])]),w("span",null,Oe(f.key),1)]))),128))]),w("div",kd,Oe(s.dataSourceActive.description),1),Sd,w("div",$d,[(S(!0),C(ht,null,ft(e.settings.compatibility,f=>(S(),C("label",{key:f.key},[ve(w("input",{type:"radio",name:"compatibility","onUpdate:modelValue":t[2]||(t[2]=m=>e.settings.compatibilityChecked=m),value:f.key,onChange:t[3]||(t[3]=(...m)=>s.inputChanged&&s.inputChanged(...m))},null,40,Ed),[[pr,e.settings.compatibilityChecked]]),w("div",Cd,[w("div",Pd,[Q(c)])]),w("span",null,Oe(f.label||f.key),1)]))),128))]),w("div",Rd,Oe(s.compatibilityActive.description),1),w("div",Ad,[w("div",Td,[w("button",{class:he(["save-btn save-csv",{saving:e.bundling}]),onClick:t[4]||(t[4]=(...f)=>s.saveButtonClicked&&s.saveButtonClicked(...f)),disabled:e.bundling||!s.saveBtnEnabled},[w("span",null,Oe(s.filename),1),e.bundling?(S(),re(l,{key:0,spin:""})):(S(),re(u,{key:1}))],10,Od),w("div",null,[w("a",Ld,[Id,Q(a)]),w("a",Nd,[Md,Q(a)])])])])])]),_:1})}var Bd=de(ud,[["render",xd],["__scopeId","data-v-bb384960"]]);const Dd={name:"aleMenuActions",data:function(){return{store:this.$store.state,mobileMenuOpen:!1,sampleData:null,mobileWidth:630,subMenuActive:null,routeAvailable:{},loading:!0,routes:null,clickedRoute:null}},computed:{clickedRouteComp(){const e=_.get(this.clickedRoute,"meta.component");if(e)return{...e}},mobileThreshold(){return this.$store.state.windowWidth<this.mobileWidth}},watch:{"$store.state.playingAudio":function(){this.globalTopNavHeight(this.mobileSize)},mobileThreshold(e){this.mobileMenuOpen=!1,this.routes=this.getRoutes(),this.globalTopNavHeight(e)},mobileMenuOpen(e){this.$store.commit("prop",{key:"blockScrolling",value:e}),this.routes=this.getRoutes()},clickedRouteComp(e){this.$store.commit("prop",{key:"blockScrolling",value:e})}},created(){this.routes=this.getRoutes()},mounted:function(){this.loading=!1,this.globalTopNavHeight(this.mobileSize)},beforeUnmount:function(){},methods:{startSearching(){this.$compEmitter.emit("ios-auto-zoom-disable"),this.$compEmitter.emit("search-focus")},getRoutes(){let e=_.filter(this.$router.options.routes,"meta.icon");return e=JSON.parse(JSON.stringify(e)),this.mobileThreshold||(this.getExtraItems(e),this.getNestedGroups(e)),e},getNestedGroups(e){const t=this,n=this.getNestedIndexes(e);let r=_.remove(e,function(i){return _.get(i,"meta.nestedGroup")});r=_.groupBy(r,"meta.nestedGroup"),_.each(r,function(i,s){const o=_.find(n,{key:s});o&&e.splice(o.index,0,t.getSubPageSettings(i,s))})},getSubPageSettings(e,t){const n=this,r={name:t,meta:{groupName:e[0].meta.nestedGroup,icon:"fa-solid fa-chevron-down"},tag:"div",childItems:e};switch(e[0].meta.nestedGroup){case"subPages":r.altName=function(s){const o=_.get(n.$route,"meta.title"),c="children.0.meta.title",l=_.find(e,[c,o]);if(l){const u=n.$route.query.subPageSource||n.$store.state.sticky.subPageSource;return _.startCase(u)+": "+_.get(l,c)}else return _.startCase(t)};break}return r},getNestedIndexes(e){e=_.clone(e);const t=[];return _.remove(e,function(n){const r=_.get(n,"meta.nestedGroup"),i=!_.includes(t,r);if(r)if(i)t.push(r);else return!0}),_.each(t,function(n,r){const i=_.findIndex(e,{meta:{nestedGroup:n}});t[r]={key:n,index:i}}),t},getExtraItems(e){const t=this;let n=[];if(!this.$store.state.standalone){const r=[{tag:"a",href:"https://joonaspaakko.gitbook.io/audible-library-extractor/",name:"Extension documentation",disabled:!1,meta:{icon:"fa-solid fa-graduation-cap",nestedGroup:"extension-tools"}},{tag:"div",name:"Save gallery locally",disabled:!1,click:this.routeClick,meta:{icon:"fa-solid fa-floppy-disk",nestedGroup:"extension-tools",component:Du}},{tag:"div",name:"CSV export&nbsp;<small>(spreadsheet)</small>",disabled:!1,click:this.routeClick,meta:{icon:"fa-solid fa-file-csv",nestedGroup:"extension-tools",component:Bd}},{tag:"div",name:"Wallpaper creator",disabled:!1,click:function(i){if(!!i.condition())try{let s=_.filter(t.$store.getters.collection,"asin");s=JSON.parse(JSON.stringify(s)),s=_.chunk(s,50);let o={imageEditorChunks:s,imageEditorChunksLength:s.length,imageEditorTimeCode:new Date().getTime()};t.$store.state.pageTitle&&(o.imageEditorPageTitle=t.$store.state.pageTitle),t.$store.state.pageSubTitle&&(o.imageEditorPageSubTitle=t.$store.state.pageSubTitle),chrome.storage.local.set(o).then(()=>{chrome.runtime.sendMessage({action:"openImageEditor"})})}catch{}},condition:function(){return t.$route.meta.gallery&&t.$store.getters.collection&&t.$store.getters.collection.length},tippy:function(){let i="When you open wallpaper creator, books are imported from the current page with the active sorting. Search and filters also affect what gets imported.";const s=!(t.$route.meta.gallery&&t.$store.getters.collection&&t.$store.getters.collection.length),o=_.filter(t.$store.getters.collection,"cover");return s?i+="<br><br> <strong style='color: #db7e00; font-size: 19px;'>Can't be opened on pages that don't have any books.</strong>":i+="<br><br> <strong style='color: #db7e00;'>Current selection of books "+t.$store.getters.collection.length+" / "+t.$store.getters.collectionTotal+". <br> Importable book covers: <span style='color: #50a900;'>"+o.length+"</span></strong>",i},meta:{icon:"fa-solid fa-table-cells-large",nestedGroup:"extension-tools"}},{tag:"div",name:"Set as gallery landing page",tippy:"Click here and any links leading to the extension gallery (in browser context menu or extraction settings) will open this exact page. The url will be saved as is, so all url parameters will be saved as well. This includes: searches, filters, sorting, and some other things. <br><br>For example, open the library page, filter out finished books, click this menu item, and now you don't have to do that every time you open the gallery, if that is what you prefer...",disabled:!1,click:function(i){try{const s=window.location.pathname,o="."+s+window.location.href.split(s)[1];chrome.runtime.sendMessage({action:"changeGalleryUrl",url:o}).then(()=>{chrome.storage.local.get(["extras"]).then(c=>{c.extras.galleryUrl=o,chrome.storage.local.set({extras:c.extras}).then(()=>{})})})}catch{}},meta:{icon:"fa-solid fa-crosshairs",nestedGroup:"extension-tools"}},{tag:"div",name:"Reset gallery landing page",disabled:!1,click:function(i){try{chrome.runtime.sendMessage({action:"changeGalleryUrl",url:null}).then(()=>{chrome.storage.local.get(["extras"]).then(o=>{o.extras.galleryUrl=null,chrome.storage.local.set({extras:o.extras}).then(()=>{})})})}catch{}},meta:{icon:"fa-solid fa-house",nestedGroup:"extension-tools"}}];n=n.concat(r)}n.length&&_.each(n,function(r){e.push(r)})},routeClick(e){this.clickedRoute=e},globalTopNavHeight(e){this.$nextTick(function(){let t=0;if(!e){const n=this.$refs.navigation;n&&(t=Math.floor(n.getBoundingClientRect().height))}this.$store.commit("prop",{key:"topNavOffset",value:t})})}}},Vd={id:"ale-navigation",ref:"navigation"},zd={key:2,class:"floater-components"};function Hd(e,t,n,r,i,s){const o=Ic,c=rl,l=ka,u=eo,a=ri;return e.loading?X("",!0):(S(),C("div",{key:0,id:"nav-outer-wrapper",class:he({regular:!s.mobileThreshold,"mobile-nav":s.mobileThreshold,"mobile-nav-open":e.mobileMenuOpen})},[w("div",Vd,[e.mobileMenuOpen?e.mobileMenuOpen?(S(),re(l,{key:1},ps({"page-1":Ee(()=>[Q(o,{routes:e.routes,mobileMenuOpen:e.mobileMenuOpen,"onUpdate:mobileMenuOpen":t[1]||(t[1]=h=>e.mobileMenuOpen=h),inRoot:!0},null,8,["routes","mobileMenuOpen"])]),_:2},[e.store.audioPlayer.audio?{name:"page-2",fn:Ee(()=>[Q(c)]),key:"0"}:void 0]),1024)):X("",!0):(S(),re(o,{key:0,routes:e.routes,mobileMenuOpen:e.mobileMenuOpen,"onUpdate:mobileMenuOpen":t[0]||(t[0]=h=>e.mobileMenuOpen=h),inRoot:!0,desktopMenu:!0},null,8,["routes","mobileMenuOpen"])),s.mobileThreshold?X("",!0):(S(),C("div",zd,[s.clickedRouteComp?(S(),re(Un(s.clickedRouteComp),{key:0,onCloseComp:t[2]||(t[2]=h=>e.clickedRoute=null)},null,32)):X("",!0)]))],512),s.mobileThreshold?(S(),re(u,{key:0,mobileMenuOpen:e.mobileMenuOpen,"onUpdate:mobileMenuOpen":t[3]||(t[3]=h=>e.mobileMenuOpen=h),onStartSearching:s.startSearching},null,8,["mobileMenuOpen","onStartSearching"])):X("",!0),e.$store.state.displayMode&&!s.mobileThreshold?(S(),re(a,{key:1,viewportFloat:!0})):X("",!0)],2))}var Ud=de(Dd,[["render",Hd]]);const qd={name:"aleBackground",mixins:[cn],data:function(){return{coverSource:null,books:null,booksLength:null,windowWidth:null,timer1:null,timer2:null}},mounted:function(){this.windowWidth=window.innerWidth,this.books=this.getBooks(),this.flipAnimationRandomizer(),this.$compEmitter.on("afterWindowResize",this.onWindowResize)},beforeUnmounted:function(){this.$compEmitter.off("afterWindowResize",this.onWindowResize),clearInterval(this.timer1),clearInterval(this.timer2)},methods:{bgGridSize:function(){let e=t(15);this.windowWidth<530?e=t(5):this.windowWidth<760?e=t(6):this.windowWidth<1e3?e=t(8):this.windowWidth<1300&&(e=t(12));function t(n){return 6*n}return e},getBooks:function(){const e=this.bgGridSize();this.coverSource=this.$store.state.library.books?this.$store.state.library.books:this.$store.state.library.wishlist;let t=function(n){const r=n.length;if(r<=e){const i=Math.floor(e/r),s=e-r*i,o=i;let c=[];for(let l=0;l<o;l++)c=c.concat(n);return s>0&&(c=c.concat(n.splice(-1,s))),c}else return _.sampleSize(n,e)}(_.filter(this.coverSource,"cover"));return t=_.map(t,function(n){let r=_.pick(n,["cover"]);return r.flipOut=!1,r}),this.booksLength=t.length,t},flipAnimationRandomizer:function(){const e=this;clearInterval(e.timer1),clearInterval(e.timer2),e.timer1=setInterval(function(){e.coverSwitcheroo()},e.randomNumber(1500,3e3)),e.timer2=setInterval(function(){e.coverSwitcheroo()},e.randomNumber(3500,5e3))},coverSwitcheroo:function(){const e=this,t=this.randomNumber(0,this.booksLength-1),n=this.books[t];n.flipOut=!0,setTimeout(function(){const r=_.filter(e.coverSource,"cover"),i=e.randomNumber(0,r.length-1),s=r[i];n.cover=s.cover,n.flipOut=!1},850)},randomNumber:function(e,t){return Math.floor(Math.random()*(t-e+1)+e)},onWindowResize:function(e){e.widthChanged&&(this.windowWidth=e.width,this.books=this.getBooks())}}},Gd=e=>(qn("data-v-b8b56ef4"),e=e(),Gn(),e),Wd={key:0,id:"ale-background"},jd=["src"],Fd=Gd(()=>w("div",{class:"dimmer-overlay"},null,-1));function Kd(e,t,n,r,i,s){return e.books?(S(),C("div",Wd,[(S(!0),C(ht,null,ft(e.books,(o,c)=>(S(),C("div",{key:o.cover+c,class:he(["image-wrapper",{"flip-out":o.flipOut}])},[w("img",{crossorigin:"anonymous",src:e.makeCoverUrl(o.cover,200),alt:""},null,8,jd)],2))),128)),Fd])):X("",!0)}var Jd=de(qd,[["render",Kd],["__scopeId","data-v-b8b56ef4"]]),Yd={name:"audioPlayerGlobal",data:function(){return{store:this.$store.state,howler:null}},watch:{"store.audioPlayer.audio"(e){e?this.initPlayer():this.destroyHowler()}},computed:{audio:{get(){return this.store.audioPlayer.audio},set(e){this.$store.commit("prop",{key:"audioPlayer.audio",value:e})}},timeDisplay:{get(){return this.store.audioPlayer.timeDisplay},set(e){this.$store.commit("prop",{key:"audioPlayer.timeDisplay",value:e})}},progress:{get(){return this.store.audioPlayer.progress},set(e){this.$store.commit("prop",{key:"audioPlayer.progress",value:e})}},sample:{get(){return this.store.audioPlayer.sample},set(e){this.$store.commit("prop",{key:"audioPlayer.sample",value:e})}},audioSource(){const e=Ke.get(this.$store.getters.audioPlayerBook,"sample");var t=new Ln(e);return window.location.protocol==="http:"&&(t.protocol="http"),t.toString()},route(){return Ke.get(this.audio,"route",{})},progressFillerStyle(){const e={};return this.progress&&(e.width=this.progress+"%"),e}},mounted(){this.$compEmitter.on("audio-player-scubber-pause",this.scrubberPause),this.$compEmitter.on("audio-player-clear-pause",this.clearPause),this.$compEmitter.on("audio-player-scrubbed",this.userScrubbed),this.$compEmitter.on("audio-player-play",this.play),this.$compEmitter.on("audio-player-pause",this.pause),this.$compEmitter.on("audio-player-stop",this.stop),this.$compEmitter.on("audio-player-seek-back",this.seekBack),this.$compEmitter.on("audio-player-seek-forward",this.seekForward)},beforeUnmount(){this.$compEmitter.off("audio-player-scubber-pause",this.scrubberPause),this.$compEmitter.off("audio-player-clear-pause",this.clearPause),this.$compEmitter.off("audio-player-scrubbed",this.userScrubbed),this.$compEmitter.off("audio-player-play",this.play),this.$compEmitter.off("audio-player-pause",this.pause),this.$compEmitter.off("audio-stop-pause",this.stop),this.$compEmitter.off("audio-stop-seek-back",this.seekBack),this.$compEmitter.off("audio-stop-seek-forward",this.seekForward),this.destroyHowler()},methods:{openBook(){const e=this.book.asin,t=this.$route.query.book;this.route&&this.route.fullPath!==this.$route.fullPath&&this.$router.push(this.route.fullPath),(!t||e&&t!==e)&&this.$nextTick(function(){this.$compEmitter.emit("book-clicked",this.book.asin)})},initPlayer:function(){let e=this;this.destroyHowler("keepAudioData"),this.$store.commit("prop",{key:"playingAudio",value:!0}),this.howler=new ys.Howl({src:this.audioSource,autoplay:!0,loop:!1,volume:1,onplayerror:function(){e.howler.once("unlock",function(){e.howler.play()}),e.$store.commit("prop",{key:"audioPlayer.playing",value:e.howler.playing()})},onplay(t,n){e.$store.commit("prop",{key:"audioPlayer.playing",value:e.howler.playing()})},onend(t){e.$store.commit("prop",{key:"audioPlayer.playing",value:e.howler.playing()})},onpause(t){e.$store.commit("prop",{key:"audioPlayer.playing",value:e.howler.playing()})},onstop(t){e.$store.commit("prop",{key:"audioPlayer.playing",value:e.howler.playing()})}}),this.seekToCachedPosition(),this.howler.customSeek=function(t){t=t||{},t.value=t.value||30;const n=e.howler.duration(),r={going:{forward:t.direction==="forward",backward:t.direction==="backward"},at:{end:!1,start:!1},value:null},i=r.going.forward?"add":"subtract";r.value=Ke[i](e.howler.current.time,t.value),r.at.end=r.value>=n,r.at.start=r.value<=n,r.value=r.going.forward?r.at.end?n:r.value:r.at.start?0:r.value,e.howler.seek(r.value),r.at.start||r.at.end?e.updateCurrent():e.howler.playing()||e.howler.play()},this.howler.current={timer:null,time:null,timeDisplay:null,percentage:null},this.howler.current.timer=setInterval(function(){e.howler.playing()&&(e.updateCurrent(),document.activeElement&&document.activeElement.blur()),e.updateBookProgress()},500)},formatTime(e){const t=[],n=function(o){t.push((o<10?"0":"")+o)};let r=Math.floor(e/3600);n(r);let i=Math.floor(e/60)||0;n(i);let s=e-i*60||0;return n(s),t.shift(),t.join(":")},updateCurrent(){var e=this.howler.seek()||0;this.howler.current.time=e,this.howler.current.timeDisplay=this.formatTime(Math.round(e)),this.howler.current.percentage=e/this.howler.duration()*100||0,this.timeDisplay=this.howler.current.timeDisplay,this.progress=this.howler.current.percentage.toFixed(1)},play:function(e){this.howler&&!this.howler.playing()&&this.howler.play()},pause:function(e){this.howler&&this.howler.playing()&&this.howler.pause()},scrubberPause:function(e){let t=this;this.howler&&this.howler.playing()&&(this.howler.pause(),this.clearPause(),this.howler.pauseTimer=setTimeout(function(){t.howler.play()},500))},clearPause:function(){this.howler&&clearTimeout(this.howler.pauseTimer)},stop:function(){this.destroyHowler()},seekBack:function(){this.howler&&this.howler.customSeek({direction:"backward"})},seekForward:function(){this.howler&&this.howler.customSeek({direction:"forward"})},userScrubbed:function(e){if(this.howler){var t=e.target.value/100*this.howler.duration();this.progress=e.target.value,this.howler.seek(t),this.howler.playing()||this.howler.play()}},destroyHowler(e){this.howler&&(this.clearPause(),Ke.get(this.howler,"current.timer")&&clearInterval(this.howler.current.timer),Ke.get(this.howler,"unload")&&this.howler.unload(),this.howler=null),e||(this.audio=null),this.$store.commit("prop",{key:"playingAudio",value:!1})},updateBookProgress:Ke.throttle(function(){this.sample||this.$store.commit("updatePlayerProgress",{asin:this.$store.getters.audioPlayerBook.asin,progress:this.howler.current.time})},3e3,{leading:!1,trailing:!0}),seekToCachedPosition(){const e=Ke.find(this.$store.state.sticky.player.books,{asin:this.$store.getters.audioPlayerBook.asin});e&&this.howler.seek(e.progress)}}};const Xd={mixins:[Yd],data:function(){return{general:{route:null,standalone:null,categories:null,tippyTheme:"dark"},window:{width:window.innerWidth,height:window.innerHeight}}},created:function(){if(!this.$store.state.sticky.lightSwitchSetByUser){const t=document.querySelector("html");t.classList.remove("theme-dark"),t.classList.add("theme-light")}let e=this;this.checkIf_iOS()&&document.querySelector("body").classList.add("is-ios"),this.$compEmitter.on("refresh-page",this.refreshPage),this.$store.commit("prop",{key:"siteOnline",value:navigator.onLine}),window.addEventListener("offline",function(){e.$store.commit("prop",{key:"siteOnline",value:!1})},{passive:!0}),window.addEventListener("online",function(){e.$store.commit("prop",{key:"siteOnline",value:!0})},{passive:!0})},mounted:function(){const e=this;window.addEventListener("resize",e.onWindowResize,{passive:!0}),this.showTheBackgroundGrid()},beforeUnmount:function(){this.$compEmitter.off("refresh-page",this.refreshPage)},methods:{refreshPage:function(e){this.$store.state.showRoute&&this.$store.commit("prop",{key:"showRoute",value:!1}),this.$nextTick(function(){setTimeout(()=>{this.$store.commit("prop",{key:"showRoute",value:!0}),this.$nextTick(function(){typeof e=="function"&&e(this)})},10)})},checkIf_iOS:function(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document},showTheBackgroundGrid:function(){if(!this.$store.state.showBackground){const e=this;this.$nextTick(function(){setTimeout(function(){e.$store.commit("prop",{key:"showBackground",value:!0})},1200)})}},onWindowResize:_.debounce(function(){const e=window.innerWidth,t=window.innerHeight,n=this.window.width!==e,r=this.window.height!==t;(n||r)&&(this.window.width=e,this.window.height=t,n&&this.$store.commit("prop",{key:"windowWidth",value:e}),this.$compEmitter.emit("afterWindowResize",{from:"app",width:e,widthChanged:n,height:t,heightChanged:r}))},320,{leading:!0,trailing:!0})},watch:{$route:function(e,t){let n=e.params?_.map(e.params,function(r,i){return i+":"+r}).join(","):null;this.$store.commit("prop",[{key:"route",value:e},{key:"routeParams",value:n}]),this.$nextTick(function(){this.$store.state.pageTitle&&(this.$route.meta.title||this.$route.meta.title==="")?document.title="ALE \u2022 "+(this.$route.meta.title===this.$store.state.pageTitle?this.$store.state.pageTitle:this.$route.meta.title+": "+this.$store.state.pageTitle):e.meta.title&&(document.title="ALE \u2022 "+(e.meta.title||"My Audible Library"))})},"$store.state.showRoute"(e){e||this.refreshPage()}}},Qd=["data-version","data-block-scrolling"],Zd={key:1},eh={key:2,id:"nothing-here-404"},th={key:0},nh={key:1};function rh(e,t,n,r,i,s){const o=Jd,c=Ud,l=dt("router-view");return S(),C("div",{"data-version":e.$store.state.version,class:he({"mobile-threshold":e.$store.state.windowWidth<630}),"data-block-scrolling":e.$store.state.blockScrolling},[e.$store.state.showBackground&&!(e.$store.state.standalone&&!e.$store.state.siteOnline)?(S(),re(o,{key:0})):X("",!0),Q(c),e.$route.name!=="404"&&e.$store.state.showRoute?(S(),C("div",Zd,[(S(),re(l,{key:e.$route.name+"-"+e.$store.state.routeParams+"-"+e.$store.state.refreshViewTimeStamp}))])):e.$store.state.showRoute?(S(),C("div",eh,[e.$store.getters.searchIsActive&&!e.$store.state.searchCollection.length?(S(),C("h3",th,"Search: no results")):(S(),C("h3",nh,"404: There's nothing here"))])):X("",!0)],10,Qd)}var ih=de(Xd,[["render",rh]]);/*!
  * vue-router v4.1.5
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const ot=typeof window!="undefined";function sh(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const ee=Object.assign;function Pn(e,t){const n={};for(const r in t){const i=t[r];n[r]=Se(i)?i.map(e):e(i)}return n}const Tt=()=>{},Se=Array.isArray,oh=/\/$/,ah=e=>e.replace(oh,"");function Rn(e,t,n="/"){let r,i={},s="",o="";const c=t.indexOf("#");let l=t.indexOf("?");return c<l&&c>=0&&(l=-1),l>-1&&(r=t.slice(0,l),s=t.slice(l+1,c>-1?c:t.length),i=e(s)),c>-1&&(r=r||t.slice(0,c),o=t.slice(c,t.length)),r=dh(r!=null?r:t,n),{fullPath:r+(s&&"?")+s+o,path:r,query:i,hash:o}}function lh(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function Lr(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function ch(e,t,n){const r=t.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&gt(t.matched[r],n.matched[i])&&ji(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function gt(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function ji(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!uh(e[n],t[n]))return!1;return!0}function uh(e,t){return Se(e)?Ir(e,t):Se(t)?Ir(t,e):e===t}function Ir(e,t){return Se(t)?e.length===t.length&&e.every((n,r)=>n===t[r]):e.length===1&&e[0]===t}function dh(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/");let i=n.length-1,s,o;for(s=0;s<r.length;s++)if(o=r[s],o!==".")if(o==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+r.slice(s-(s===r.length?1:0)).join("/")}var zt;(function(e){e.pop="pop",e.push="push"})(zt||(zt={}));var Ot;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Ot||(Ot={}));function hh(e){if(!e)if(ot){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),ah(e)}const fh=/^[^#]+#/;function ph(e,t){return e.replace(fh,"#")+t}function mh(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}const kn=()=>({left:window.pageXOffset,top:window.pageYOffset});function vh(e){let t;if("el"in e){const n=e.el,r=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;t=mh(i,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function Nr(e,t){return(history.state?history.state.position-t:-1)+e}const Vn=new Map;function gh(e,t){Vn.set(e,t)}function _h(e){const t=Vn.get(e);return Vn.delete(e),t}let yh=()=>location.protocol+"//"+location.host;function Fi(e,t){const{pathname:n,search:r,hash:i}=t,s=e.indexOf("#");if(s>-1){let c=i.includes(e.slice(s))?e.slice(s).length:1,l=i.slice(c);return l[0]!=="/"&&(l="/"+l),Lr(l,"")}return Lr(n,e)+r+i}function bh(e,t,n,r){let i=[],s=[],o=null;const c=({state:f})=>{const m=Fi(e,location),v=n.value,d=t.value;let p=0;if(f){if(n.value=m,t.value=f,o&&o===v){o=null;return}p=d?f.position-d.position:0}else r(m);i.forEach(g=>{g(n.value,v,{delta:p,type:zt.pop,direction:p?p>0?Ot.forward:Ot.back:Ot.unknown})})};function l(){o=n.value}function u(f){i.push(f);const m=()=>{const v=i.indexOf(f);v>-1&&i.splice(v,1)};return s.push(m),m}function a(){const{history:f}=window;!f.state||f.replaceState(ee({},f.state,{scroll:kn()}),"")}function h(){for(const f of s)f();s=[],window.removeEventListener("popstate",c),window.removeEventListener("beforeunload",a)}return window.addEventListener("popstate",c),window.addEventListener("beforeunload",a),{pauseListeners:l,listen:u,destroy:h}}function Mr(e,t,n,r=!1,i=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:i?kn():null}}function wh(e){const{history:t,location:n}=window,r={value:Fi(e,n)},i={value:t.state};i.value||s(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function s(l,u,a){const h=e.indexOf("#"),f=h>-1?(n.host&&document.querySelector("base")?e:e.slice(h))+l:yh()+e+l;try{t[a?"replaceState":"pushState"](u,"",f),i.value=u}catch(m){console.error(m),n[a?"replace":"assign"](f)}}function o(l,u){const a=ee({},t.state,Mr(i.value.back,l,i.value.forward,!0),u,{position:i.value.position});s(l,a,!0),r.value=l}function c(l,u){const a=ee({},i.value,t.state,{forward:l,scroll:kn()});s(a.current,a,!0);const h=ee({},Mr(r.value,l,null),{position:a.position+1},u);s(l,h,!1),r.value=l}return{location:r,state:i,push:c,replace:o}}function kh(e){e=hh(e);const t=wh(e),n=bh(e,t.state,t.location,t.replace);function r(s,o=!0){o||n.pauseListeners(),history.go(s)}const i=ee({location:"",base:e,go:r,createHref:ph.bind(null,e)},t,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>t.state.value}),i}function Sh(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),kh(e)}function $h(e){return typeof e=="string"||e&&typeof e=="object"}function Ki(e){return typeof e=="string"||typeof e=="symbol"}const De={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Ji=Symbol("");var xr;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(xr||(xr={}));function _t(e,t){return ee(new Error,{type:e,[Ji]:!0},t)}function Ae(e,t){return e instanceof Error&&Ji in e&&(t==null||!!(e.type&t))}const Br="[^/]+?",Eh={sensitive:!1,strict:!1,start:!0,end:!0},Ch=/[.+*?^${}()[\]/\\]/g;function Ph(e,t){const n=ee({},Eh,t),r=[];let i=n.start?"^":"";const s=[];for(const u of e){const a=u.length?[]:[90];n.strict&&!u.length&&(i+="/");for(let h=0;h<u.length;h++){const f=u[h];let m=40+(n.sensitive?.25:0);if(f.type===0)h||(i+="/"),i+=f.value.replace(Ch,"\\$&"),m+=40;else if(f.type===1){const{value:v,repeatable:d,optional:p,regexp:g}=f;s.push({name:v,repeatable:d,optional:p});const b=g||Br;if(b!==Br){m+=10;try{new RegExp(`(${b})`)}catch(O){throw new Error(`Invalid custom RegExp for param "${v}" (${b}): `+O.message)}}let $=d?`((?:${b})(?:/(?:${b}))*)`:`(${b})`;h||($=p&&u.length<2?`(?:/${$})`:"/"+$),p&&($+="?"),i+=$,m+=20,p&&(m+=-8),d&&(m+=-20),b===".*"&&(m+=-50)}a.push(m)}r.push(a)}if(n.strict&&n.end){const u=r.length-1;r[u][r[u].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&(i+="(?:/|$)");const o=new RegExp(i,n.sensitive?"":"i");function c(u){const a=u.match(o),h={};if(!a)return null;for(let f=1;f<a.length;f++){const m=a[f]||"",v=s[f-1];h[v.name]=m&&v.repeatable?m.split("/"):m}return h}function l(u){let a="",h=!1;for(const f of e){(!h||!a.endsWith("/"))&&(a+="/"),h=!1;for(const m of f)if(m.type===0)a+=m.value;else if(m.type===1){const{value:v,repeatable:d,optional:p}=m,g=v in u?u[v]:"";if(Se(g)&&!d)throw new Error(`Provided param "${v}" is an array but it is not repeatable (* or + modifiers)`);const b=Se(g)?g.join("/"):g;if(!b)if(p)f.length<2&&(a.endsWith("/")?a=a.slice(0,-1):h=!0);else throw new Error(`Missing required param "${v}"`);a+=b}}return a||"/"}return{re:o,score:r,keys:s,parse:c,stringify:l}}function Rh(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function Ah(e,t){let n=0;const r=e.score,i=t.score;for(;n<r.length&&n<i.length;){const s=Rh(r[n],i[n]);if(s)return s;n++}if(Math.abs(i.length-r.length)===1){if(Dr(r))return 1;if(Dr(i))return-1}return i.length-r.length}function Dr(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const Th={type:0,value:""},Oh=/[a-zA-Z0-9_]/;function Lh(e){if(!e)return[[]];if(e==="/")return[[Th]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(m){throw new Error(`ERR (${n})/"${u}": ${m}`)}let n=0,r=n;const i=[];let s;function o(){s&&i.push(s),s=[]}let c=0,l,u="",a="";function h(){!u||(n===0?s.push({type:0,value:u}):n===1||n===2||n===3?(s.length>1&&(l==="*"||l==="+")&&t(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:u,regexp:a,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),u="")}function f(){u+=l}for(;c<e.length;){if(l=e[c++],l==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:l==="/"?(u&&h(),o()):l===":"?(h(),n=1):f();break;case 4:f(),n=r;break;case 1:l==="("?n=2:Oh.test(l)?f():(h(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&c--);break;case 2:l===")"?a[a.length-1]=="\\"?a=a.slice(0,-1)+l:n=3:a+=l;break;case 3:h(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&c--,a="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${u}"`),h(),o(),i}function Ih(e,t,n){const r=Ph(Lh(e.path),n),i=ee(r,{record:e,parent:t,children:[],alias:[]});return t&&!i.record.aliasOf==!t.record.aliasOf&&t.children.push(i),i}function Nh(e,t){const n=[],r=new Map;t=Hr({strict:!1,end:!0,sensitive:!1},t);function i(a){return r.get(a)}function s(a,h,f){const m=!f,v=Mh(a);v.aliasOf=f&&f.record;const d=Hr(t,a),p=[v];if("alias"in a){const $=typeof a.alias=="string"?[a.alias]:a.alias;for(const O of $)p.push(ee({},v,{components:f?f.record.components:v.components,path:O,aliasOf:f?f.record:v}))}let g,b;for(const $ of p){const{path:O}=$;if(h&&O[0]!=="/"){const A=h.record.path,L=A[A.length-1]==="/"?"":"/";$.path=h.record.path+(O&&L+O)}if(g=Ih($,h,d),f?f.alias.push(g):(b=b||g,b!==g&&b.alias.push(g),m&&a.name&&!zr(g)&&o(a.name)),v.children){const A=v.children;for(let L=0;L<A.length;L++)s(A[L],g,f&&f.children[L])}f=f||g,l(g)}return b?()=>{o(b)}:Tt}function o(a){if(Ki(a)){const h=r.get(a);h&&(r.delete(a),n.splice(n.indexOf(h),1),h.children.forEach(o),h.alias.forEach(o))}else{const h=n.indexOf(a);h>-1&&(n.splice(h,1),a.record.name&&r.delete(a.record.name),a.children.forEach(o),a.alias.forEach(o))}}function c(){return n}function l(a){let h=0;for(;h<n.length&&Ah(a,n[h])>=0&&(a.record.path!==n[h].record.path||!Yi(a,n[h]));)h++;n.splice(h,0,a),a.record.name&&!zr(a)&&r.set(a.record.name,a)}function u(a,h){let f,m={},v,d;if("name"in a&&a.name){if(f=r.get(a.name),!f)throw _t(1,{location:a});d=f.record.name,m=ee(Vr(h.params,f.keys.filter(b=>!b.optional).map(b=>b.name)),a.params&&Vr(a.params,f.keys.map(b=>b.name))),v=f.stringify(m)}else if("path"in a)v=a.path,f=n.find(b=>b.re.test(v)),f&&(m=f.parse(v),d=f.record.name);else{if(f=h.name?r.get(h.name):n.find(b=>b.re.test(h.path)),!f)throw _t(1,{location:a,currentLocation:h});d=f.record.name,m=ee({},h.params,a.params),v=f.stringify(m)}const p=[];let g=f;for(;g;)p.unshift(g.record),g=g.parent;return{name:d,path:v,params:m,matched:p,meta:Bh(p)}}return e.forEach(a=>s(a)),{addRoute:s,resolve:u,removeRoute:o,getRoutes:c,getRecordMatcher:i}}function Vr(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function Mh(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:xh(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function xh(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]=typeof n=="boolean"?n:n[r];return t}function zr(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function Bh(e){return e.reduce((t,n)=>ee(t,n.meta),{})}function Hr(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}function Yi(e,t){return t.children.some(n=>n===e||Yi(e,n))}const Xi=/#/g,Dh=/&/g,Vh=/\//g,zh=/=/g,Hh=/\?/g,Qi=/\+/g,Uh=/%5B/g,qh=/%5D/g,Zi=/%5E/g,Gh=/%60/g,es=/%7B/g,Wh=/%7C/g,ts=/%7D/g,jh=/%20/g;function dr(e){return encodeURI(""+e).replace(Wh,"|").replace(Uh,"[").replace(qh,"]")}function Fh(e){return dr(e).replace(es,"{").replace(ts,"}").replace(Zi,"^")}function zn(e){return dr(e).replace(Qi,"%2B").replace(jh,"+").replace(Xi,"%23").replace(Dh,"%26").replace(Gh,"`").replace(es,"{").replace(ts,"}").replace(Zi,"^")}function Kh(e){return zn(e).replace(zh,"%3D")}function Jh(e){return dr(e).replace(Xi,"%23").replace(Hh,"%3F")}function Yh(e){return e==null?"":Jh(e).replace(Vh,"%2F")}function ln(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function Xh(e){const t={};if(e===""||e==="?")return t;const r=(e[0]==="?"?e.slice(1):e).split("&");for(let i=0;i<r.length;++i){const s=r[i].replace(Qi," "),o=s.indexOf("="),c=ln(o<0?s:s.slice(0,o)),l=o<0?null:ln(s.slice(o+1));if(c in t){let u=t[c];Se(u)||(u=t[c]=[u]),u.push(l)}else t[c]=l}return t}function Ur(e){let t="";for(let n in e){const r=e[n];if(n=Kh(n),r==null){r!==void 0&&(t+=(t.length?"&":"")+n);continue}(Se(r)?r.map(s=>s&&zn(s)):[r&&zn(r)]).forEach(s=>{s!==void 0&&(t+=(t.length?"&":"")+n,s!=null&&(t+="="+s))})}return t}function Qh(e){const t={};for(const n in e){const r=e[n];r!==void 0&&(t[n]=Se(r)?r.map(i=>i==null?null:""+i):r==null?r:""+r)}return t}const Zh=Symbol(""),qr=Symbol(""),hr=Symbol(""),ns=Symbol(""),Hn=Symbol("");function Et(){let e=[];function t(r){return e.push(r),()=>{const i=e.indexOf(r);i>-1&&e.splice(i,1)}}function n(){e=[]}return{add:t,list:()=>e,reset:n}}function He(e,t,n,r,i){const s=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise((o,c)=>{const l=h=>{h===!1?c(_t(4,{from:n,to:t})):h instanceof Error?c(h):$h(h)?c(_t(2,{from:t,to:h})):(s&&r.enterCallbacks[i]===s&&typeof h=="function"&&s.push(h),o())},u=e.call(r&&r.instances[i],t,n,l);let a=Promise.resolve(u);e.length<3&&(a=a.then(l)),a.catch(h=>c(h))})}function An(e,t,n,r){const i=[];for(const s of e)for(const o in s.components){let c=s.components[o];if(!(t!=="beforeRouteEnter"&&!s.instances[o]))if(ef(c)){const u=(c.__vccOpts||c)[t];u&&i.push(He(u,n,r,s,o))}else{let l=c();i.push(()=>l.then(u=>{if(!u)return Promise.reject(new Error(`Couldn't resolve component "${o}" at "${s.path}"`));const a=sh(u)?u.default:u;s.components[o]=a;const f=(a.__vccOpts||a)[t];return f&&He(f,n,r,s,o)()}))}}return i}function ef(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function Gr(e){const t=ut(hr),n=ut(ns),r=me(()=>t.resolve(Pt(e.to))),i=me(()=>{const{matched:l}=r.value,{length:u}=l,a=l[u-1],h=n.matched;if(!a||!h.length)return-1;const f=h.findIndex(gt.bind(null,a));if(f>-1)return f;const m=Wr(l[u-2]);return u>1&&Wr(a)===m&&h[h.length-1].path!==m?h.findIndex(gt.bind(null,l[u-2])):f}),s=me(()=>i.value>-1&&sf(n.params,r.value.params)),o=me(()=>i.value>-1&&i.value===n.matched.length-1&&ji(n.params,r.value.params));function c(l={}){return rf(l)?t[Pt(e.replace)?"replace":"push"](Pt(e.to)).catch(Tt):Promise.resolve()}return{route:r,href:me(()=>r.value.href),isActive:s,isExactActive:o,navigate:c}}const tf=Ht({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Gr,setup(e,{slots:t}){const n=ti(Gr(e)),{options:r}=ut(hr),i=me(()=>({[jr(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[jr(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const s=t.default&&t.default(n);return e.custom?s:ni("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},s)}}}),nf=tf;function rf(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function sf(e,t){for(const n in t){const r=t[n],i=e[n];if(typeof r=="string"){if(r!==i)return!1}else if(!Se(i)||i.length!==r.length||r.some((s,o)=>s!==i[o]))return!1}return!0}function Wr(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const jr=(e,t,n)=>e!=null?e:t!=null?t:n,of=Ht({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const r=ut(Hn),i=me(()=>e.route||r.value),s=ut(qr,0),o=me(()=>{let u=Pt(s);const{matched:a}=i.value;let h;for(;(h=a[u])&&!h.components;)u++;return u}),c=me(()=>i.value.matched[o.value]);Qt(qr,me(()=>o.value+1)),Qt(Zh,c),Qt(Hn,i);const l=On();return Zr(()=>[l.value,c.value,e.name],([u,a,h],[f,m,v])=>{a&&(a.instances[h]=u,m&&m!==a&&u&&u===f&&(a.leaveGuards.size||(a.leaveGuards=m.leaveGuards),a.updateGuards.size||(a.updateGuards=m.updateGuards))),u&&a&&(!m||!gt(a,m)||!f)&&(a.enterCallbacks[h]||[]).forEach(d=>d(u))},{flush:"post"}),()=>{const u=i.value,a=e.name,h=c.value,f=h&&h.components[a];if(!f)return Fr(n.default,{Component:f,route:u});const m=h.props[a],v=m?m===!0?u.params:typeof m=="function"?m(u):m:null,p=ni(f,ee({},v,t,{onVnodeUnmounted:g=>{g.component.isUnmounted&&(h.instances[a]=null)},ref:l}));return Fr(n.default,{Component:p,route:u})||p}}});function Fr(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const af=of;function lf(e){const t=Nh(e.routes,e),n=e.parseQuery||Xh,r=e.stringifyQuery||Ur,i=e.history,s=Et(),o=Et(),c=Et(),l=ms(De);let u=De;ot&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const a=Pn.bind(null,k=>""+k),h=Pn.bind(null,Yh),f=Pn.bind(null,ln);function m(k,y){let E,M;return Ki(k)?(E=t.getRecordMatcher(k),M=y):M=k,t.addRoute(M,E)}function v(k){const y=t.getRecordMatcher(k);y&&t.removeRoute(y)}function d(){return t.getRoutes().map(k=>k.record)}function p(k){return!!t.getRecordMatcher(k)}function g(k,y){if(y=ee({},y||l.value),typeof k=="string"){const W=Rn(n,k,y.path),R=t.resolve({path:W.path},y),Z=i.createHref(W.fullPath);return ee(W,R,{params:f(R.params),hash:ln(W.hash),redirectedFrom:void 0,href:Z})}let E;if("path"in k)E=ee({},k,{path:Rn(n,k.path,y.path).path});else{const W=ee({},k.params);for(const R in W)W[R]==null&&delete W[R];E=ee({},k,{params:h(k.params)}),y.params=h(y.params)}const M=t.resolve(E,y),H=k.hash||"";M.params=a(f(M.params));const Y=lh(r,ee({},k,{hash:Fh(H),path:M.path})),K=i.createHref(Y);return ee({fullPath:Y,hash:H,query:r===Ur?Qh(k.query):k.query||{}},M,{redirectedFrom:void 0,href:K})}function b(k){return typeof k=="string"?Rn(n,k,l.value.path):ee({},k)}function $(k,y){if(u!==k)return _t(8,{from:y,to:k})}function O(k){return P(k)}function A(k){return O(ee(b(k),{replace:!0}))}function L(k){const y=k.matched[k.matched.length-1];if(y&&y.redirect){const{redirect:E}=y;let M=typeof E=="function"?E(k):E;return typeof M=="string"&&(M=M.includes("?")||M.includes("#")?M=b(M):{path:M},M.params={}),ee({query:k.query,hash:k.hash,params:"path"in M?{}:k.params},M)}}function P(k,y){const E=u=g(k),M=l.value,H=k.state,Y=k.force,K=k.replace===!0,W=L(E);if(W)return P(ee(b(W),{state:typeof W=="object"?ee({},H,W.state):H,force:Y,replace:K}),y||E);const R=E;R.redirectedFrom=y;let Z;return!Y&&ch(r,M,E)&&(Z=_t(16,{to:R,from:M}),T(M,M,!0,!1)),(Z?Promise.resolve(Z):F(R,M)).catch(oe=>Ae(oe)?Ae(oe,2)?oe:V(oe):te(oe,R,M)).then(oe=>{if(oe){if(Ae(oe,2))return P(ee({replace:K},b(oe.to),{state:typeof oe.to=="object"?ee({},H,oe.to.state):H,force:Y}),y||R)}else oe=I(R,M,!0,K,H);return z(R,M,oe),oe})}function D(k,y){const E=$(k,y);return E?Promise.reject(E):Promise.resolve()}function F(k,y){let E;const[M,H,Y]=cf(k,y);E=An(M.reverse(),"beforeRouteLeave",k,y);for(const W of M)W.leaveGuards.forEach(R=>{E.push(He(R,k,y))});const K=D.bind(null,k,y);return E.push(K),nt(E).then(()=>{E=[];for(const W of s.list())E.push(He(W,k,y));return E.push(K),nt(E)}).then(()=>{E=An(H,"beforeRouteUpdate",k,y);for(const W of H)W.updateGuards.forEach(R=>{E.push(He(R,k,y))});return E.push(K),nt(E)}).then(()=>{E=[];for(const W of k.matched)if(W.beforeEnter&&!y.matched.includes(W))if(Se(W.beforeEnter))for(const R of W.beforeEnter)E.push(He(R,k,y));else E.push(He(W.beforeEnter,k,y));return E.push(K),nt(E)}).then(()=>(k.matched.forEach(W=>W.enterCallbacks={}),E=An(Y,"beforeRouteEnter",k,y),E.push(K),nt(E))).then(()=>{E=[];for(const W of o.list())E.push(He(W,k,y));return E.push(K),nt(E)}).catch(W=>Ae(W,8)?W:Promise.reject(W))}function z(k,y,E){for(const M of c.list())M(k,y,E)}function I(k,y,E,M,H){const Y=$(k,y);if(Y)return Y;const K=y===De,W=ot?history.state:{};E&&(M||K?i.replace(k.fullPath,ee({scroll:K&&W&&W.scroll},H)):i.push(k.fullPath,H)),l.value=k,T(k,y,E,K),V()}let N;function x(){N||(N=i.listen((k,y,E)=>{if(!le.listening)return;const M=g(k),H=L(M);if(H){P(ee(H,{replace:!0}),M).catch(Tt);return}u=M;const Y=l.value;ot&&gh(Nr(Y.fullPath,E.delta),kn()),F(M,Y).catch(K=>Ae(K,12)?K:Ae(K,2)?(P(K.to,M).then(W=>{Ae(W,20)&&!E.delta&&E.type===zt.pop&&i.go(-1,!1)}).catch(Tt),Promise.reject()):(E.delta&&i.go(-E.delta,!1),te(K,M,Y))).then(K=>{K=K||I(M,Y,!1),K&&(E.delta&&!Ae(K,8)?i.go(-E.delta,!1):E.type===zt.pop&&Ae(K,20)&&i.go(-1,!1)),z(M,Y,K)}).catch(Tt)}))}let U=Et(),G=Et(),ne;function te(k,y,E){V(k);const M=G.list();return M.length?M.forEach(H=>H(k,y,E)):console.error(k),Promise.reject(k)}function q(){return ne&&l.value!==De?Promise.resolve():new Promise((k,y)=>{U.add([k,y])})}function V(k){return ne||(ne=!k,x(),U.list().forEach(([y,E])=>k?E(k):y()),U.reset()),k}function T(k,y,E,M){const{scrollBehavior:H}=e;if(!ot||!H)return Promise.resolve();const Y=!E&&_h(Nr(k.fullPath,0))||(M||!E)&&history.state&&history.state.scroll||null;return vs().then(()=>H(k,y,Y)).then(K=>K&&vh(K)).catch(K=>te(K,k,y))}const B=k=>i.go(k);let J;const ae=new Set,le={currentRoute:l,listening:!0,addRoute:m,removeRoute:v,hasRoute:p,getRoutes:d,resolve:g,options:e,push:O,replace:A,go:B,back:()=>B(-1),forward:()=>B(1),beforeEach:s.add,beforeResolve:o.add,afterEach:c.add,onError:G.add,isReady:q,install(k){const y=this;k.component("RouterLink",nf),k.component("RouterView",af),k.config.globalProperties.$router=y,Object.defineProperty(k.config.globalProperties,"$route",{enumerable:!0,get:()=>Pt(l)}),ot&&!J&&l.value===De&&(J=!0,O(i.location).catch(H=>{}));const E={};for(const H in De)E[H]=me(()=>l.value[H]);k.provide(hr,y),k.provide(ns,ti(E)),k.provide(Hn,l);const M=k.unmount;ae.add(k),k.unmount=function(){ae.delete(k),ae.size<1&&(u=De,N&&N(),N=null,l.value=De,J=!1,ne=!1),M()}}};return le}function nt(e){return e.reduce((t,n)=>t.then(()=>n()),Promise.resolve())}function cf(e,t){const n=[],r=[],i=[],s=Math.max(t.matched.length,e.matched.length);for(let o=0;o<s;o++){const c=t.matched[o];c&&(e.matched.find(u=>gt(u,c))?r.push(c):n.push(c));const l=e.matched[o];l&&(t.matched.find(u=>gt(u,l))||i.push(l))}return[n,r,i]}var uf={sticky:{lightSwitch:1,lightSwitchSetByUser:!1,viewMode:"grid",chunkLocation:0,booksInSeriesToggle:!1,collectionsDrawerToggle:!0,exportSettingsGallery:null,exportSettingsCSVdataSources:null,exportSettingsCSVcompatibility:null,booksInSeriesAll:!0,booksInSeriesFinished:!0,booksInSeriesOpenInApp:!0,subPageSource:"library",bookDetailsCollapsedCover:!1,bookDetailsCollapsedDetails:!1,contextMenuReminder:!0,bookDetailSettings:{minHeight:null,titleShort:!0,sidebar:{show:!0,iconToolbar:!0,seriesList:!0,collectionsList:!0},carousel:!0,playButton:!0,cloudPlayer:!1,blurb:!0,statusIndicators:!0,whispersync:!0,plusCatalog:!0,favorite:!0,finished:!0,reverseDirection:!1,hideFirstSection:!1},collectionsHidePremade:!1,player:{books:[]}},bookDetailSettingsOpen:!1,searchMounted:!1,searchCollection:[],mutatingCollection:[],collectionSource:null,pageCollection:null,route:null,routeParams:null,library:null,urlOrigin:null,searchQuery:"",standalone:null,displayMode:null,listRenderingOpts:null,windowWidth:window.innerWidth,showBackground:!1,chunkCollection:[],chunkDistance:40,refreshViewTimeStamp:new Date().getTime(),showRoute:!0,pageTitle:null,pageSubTitle:null,version:"0.2.9",extractSettings:null,siteOnline:!0,searchOptCloseGuard:!1,bundlingGallery:!1,bookDetails:{book:null,index:-1},searchOptOpenHeight:null,devMode:!1,lazyScroll:!0,navHistory:{btnNavigation:!1,forward:[],back:[]},modal:{saveLocally:!1},blockScrolling:!1,playingAudio:!1,topNavOffset:0,bookClicked:!1,audioPlayer:{audio:null,timeDisplay:"00:00",progress:0,sample:!0,playing:!1}},df={fromLocalStorage:function(e){const t=JSON.parse(localStorage.getItem("aleSettings"));t&&_.merge(e.sticky,t)},prop(e,t){let n=function(r){if(r=r||{},r.key){let i=r.freeze?Object.freeze(r.value):r.value;_.set(e,r.key,i)}};_.isArray(t)?_.each(t,function(r){n(r)}):n(t)},buildStandaloneData:function(e,t){e.library=e.library||{},_.each(t,function(n){n.key&&_.set(e,"library."+n.key,Object.freeze(n.value))})},stickyProp:function(e,t){e.sticky[t.key]=t.value},addListRenderingOpts:function(e,t){if(t.sortValues!==void 0){let n=_.find(e.listRenderingOpts.sort,{key:"sortValues"});n&&(n.active=t.sortValues)}if(t.splice?e.listRenderingOpts[t.listName].splice(t.splice,0,t.option):t.unshift?e.listRenderingOpts[t.listName].unshift(t.option):e.listRenderingOpts[t.listName].push(t.option),t.activate)if(t.listName==="sort"){const n=_.find(e.listRenderingOpts[t.listName],"current");n&&(n.current=!1),t.option.current=!0}else{const n=_.find(e.listRenderingOpts[t.listName],"active");n.active=!1,t.option.active=!0}},updateListRenderingOpts:function(e,t){let n=e.listRenderingOpts[t.listName],r=n[t.index===0||t.index?t.index:_.findIndex(n,{key:t.key})];if(t.sortValues!==void 0){let i=_.find(e.listRenderingOpts.sort,{key:"sortValues"});i&&(i.active=t.sortValues)}if((t.active===!1||t.active===!0)&&(r.active=t.active),r.type==="filterExtras"&&(t.range&&(r.range=t.range),t.value&&(r.value=t.value)),t.listName==="sort"&&r.type==="sort"){const i=_.find(n,"current");i.current=!1,r.current=!0}},resetFilters:function(e,t){_.each(e.listRenderingOpts.filter,function(n){n.active=n.type==="filter"})},chunkCollectionReset:function(e){e.chunkDistance=e.sticky.viewMode==="grid"?52:80,e.sticky.chunkLocation=0,e.chunkCollection=[]},chunkCollectionAdd:function(e,t){t=t||{};const r=e.searchQuery.trim()!==""?e.searchCollection:e.mutatingCollection;if(r.length>0){const i=t.chunkDistance?t.chunkDistance:parseFloat(e.sticky.chunkLocation);let s=t.chunkDistance?r.slice(0,i):r.slice(i,i+e.chunkDistance);s.length>0&&(t.chunkDistance?e.chunkCollection=s:e.chunkCollection=e.chunkCollection.concat(s),e.sticky.chunkLocation=i+e.chunkDistance)}},navHistory:function(e,t){const n=t.pushOnly?t.key:t.key==="back"?"forward":"back";e.navHistory[n].push(t.value),t.pushOnly||(e.navHistory[t.key].pop,e.navHistory.btnNavigation=!0)},updatePlayerProgress:function(e,t){const n=_.findIndex(e.sticky.player.books,{asin:t.asin});n>-1?_.set(e.sticky.player,"books["+n+"].progress",t.progress):e.sticky.player.books.push(t)}},hf={sortValues:function(e){return _.find(e.listRenderingOpts.sort,{key:"sortValues"}).active},sortBy:function(e){return _.find(e.listRenderingOpts.sort,"current").key},regularFilters:function(e){return _.filter(e.listRenderingOpts.filter,{type:"filter"}).length>0},filterKeys:function(e){return _.map(_.filter(e.listRenderingOpts.filter,{type:"filter",active:!0}),function(t){return t.key}).join(",")},filterKeysLength:function(e){return _.filter(e.listRenderingOpts.filter,{type:"filter"}).length},filterExtrasKeys:function(e){return _.map(_.filter(e.listRenderingOpts.filter,{type:"filterExtras",active:!0}),function(t){return t.key}).join(",")},scopeKeys:function(e){return _.map(_.filter(e.listRenderingOpts.scope,"active"),function(t){return t.key}).join(",")},searchIsActive:function(e){return e.searchQuery.trim()!==""},collectionSource:function(e){return e.searchQuery.trim()!==""?e.searchCollection:_.get(e,e.collectionSource)},collectionTotal:function(e){return _.get(e,e.collectionSource,[]).length},collection:function(e){return e.searchQuery.trim()!==""?e.searchCollection:e.mutatingCollection},saveStandaloneAfter:function(e){let t=_.get(e,"extractSettings.extraSettings");if(t&&_.find(t,{name:"saveStandaloneAfter",value:!0,deactivated:!1}))return!0},audioPlayerBook(e,t){return _.get(e.audioPlayer.audio,"book",{})},audioPlayerTitle(e,t){const n=_.get(t,"audioPlayerBook",{});return n.title||n.titleShort}},ue=ws({state:uf,mutations:df,getters:hf});const ff="modulepreload",Kr={},pf="",tt=function(t,n){return!n||n.length===0?t():Promise.all(n.map(r=>{if(r=`${pf}${r}`,r in Kr)return;Kr[r]=!0;const i=r.endsWith(".css"),s=i?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${r}"]${s}`))return;const o=document.createElement("link");if(o.rel=i?"stylesheet":ff,i||(o.as="script",o.crossOrigin=""),o.href=r,document.head.appendChild(o),i)return new Promise((c,l)=>{o.addEventListener("load",c),o.addEventListener("error",()=>l(new Error(`Unable to preload CSS for ${r}`)))})})).then(()=>t())},mf={name:"aleLibraryView",mounted(){}},vf={key:0},gf={key:1,id:"nothing-here-404"},_f={key:0},yf={key:1};function bf(e,t,n,r,i,s){const o=dt("router-view");return e.$store.state.showRoute?(S(),C("div",vf,[e.$route.name!=="404"?(S(),re(o,{key:e.$route.name+"-"+e.$store.state.routeParams+"-"+e.$store.state.refreshViewTimeStamp})):(S(),C("div",gf,[e.$store.getters.searchIsActive&&!e.$store.state.searchCollection.length?(S(),C("h3",_f,"Search: no results")):(S(),C("h3",yf,"404: There's nothing here"))]))])):X("",!0)}var Ve=de(mf,[["render",bf]]);const ze=()=>tt(()=>import("./gallery-root.4408a9ab.js"),["assets/gallery-root.4408a9ab.js","assets/gallery-root.c67d103d.css","assets/gallery-lazy.9dfaee33.js","assets/lodash.9f572fca.js","assets/jquery.050764e9.js","assets/gallery-makeCoverUrl.8378190f.js","assets/gallery-timeStringToSeconds.9aa0cb6a.js","assets/gallery-secondsToTimeString.0a6fc9ec.js","assets/gallery-search.ea8b5a73.js","assets/gallery-search.dd5e84ca.css","assets/vue.runtime.esm-bundler.ee4f3819.js","assets/gallery-findSubPageSource.ad373b19.js","assets/gallery-findSubPageSource.9caea48c.css","assets/gallery-page-title.5db93fd4.js","assets/gallery-page-title.d16b2dce.css","assets/content-script-helpers.e49fc91b.js","assets/howler.22814ddb.js","assets/index.abab9d81.js","assets/tippy.9fe8ff20.js","assets/tippy.c4165dec.css"]),wf=()=>tt(()=>import("./gallery-collections.e696300c.js"),["assets/gallery-collections.e696300c.js","assets/gallery-collections.ec2b6005.css","assets/gallery-lazy.9dfaee33.js","assets/lodash.9f572fca.js","assets/jquery.050764e9.js","assets/gallery-page-title.5db93fd4.js","assets/gallery-page-title.d16b2dce.css","assets/content-script-helpers.e49fc91b.js","assets/gallery-makeCoverUrl.8378190f.js","assets/howler.22814ddb.js","assets/index.abab9d81.js","assets/tippy.9fe8ff20.js","assets/tippy.c4165dec.css"]),kf=()=>tt(()=>import("./gallery-categories.2dbbaeda.js"),["assets/gallery-categories.2dbbaeda.js","assets/gallery-categories.75a71719.css","assets/gallery-findSubPageSource.ad373b19.js","assets/gallery-findSubPageSource.9caea48c.css","assets/lodash.9f572fca.js","assets/jquery.050764e9.js","assets/gallery-page-title.5db93fd4.js","assets/gallery-page-title.d16b2dce.css","assets/content-script-helpers.e49fc91b.js","assets/gallery-makeCoverUrl.8378190f.js","assets/howler.22814ddb.js","assets/index.abab9d81.js","assets/tippy.9fe8ff20.js","assets/tippy.c4165dec.css"]),Sf=()=>tt(()=>import("./gallery-series.c195b321.js"),["assets/gallery-series.c195b321.js","assets/gallery-series.eae4fe5b.css","assets/gallery-lazy.9dfaee33.js","assets/lodash.9f572fca.js","assets/jquery.050764e9.js","assets/gallery-search.ea8b5a73.js","assets/gallery-search.dd5e84ca.css","assets/vue.runtime.esm-bundler.ee4f3819.js","assets/gallery-findSubPageSource.ad373b19.js","assets/gallery-findSubPageSource.9caea48c.css","assets/gallery-page-title.5db93fd4.js","assets/gallery-page-title.d16b2dce.css","assets/content-script-helpers.e49fc91b.js","assets/gallery-timeStringToSeconds.9aa0cb6a.js","assets/gallery-makeCoverUrl.8378190f.js","assets/howler.22814ddb.js","assets/index.abab9d81.js","assets/tippy.9fe8ff20.js","assets/tippy.c4165dec.css"]),$f=()=>tt(()=>import("./gallery-authors.db74e819.js"),["assets/gallery-authors.db74e819.js","assets/gallery-authors.a5ca8b56.css","assets/gallery-lazy.9dfaee33.js","assets/lodash.9f572fca.js","assets/jquery.050764e9.js","assets/gallery-search.ea8b5a73.js","assets/gallery-search.dd5e84ca.css","assets/vue.runtime.esm-bundler.ee4f3819.js","assets/gallery-findSubPageSource.ad373b19.js","assets/gallery-findSubPageSource.9caea48c.css","assets/gallery-page-title.5db93fd4.js","assets/gallery-page-title.d16b2dce.css","assets/content-script-helpers.e49fc91b.js","assets/gallery-timeStringToSeconds.9aa0cb6a.js","assets/gallery-makeCoverUrl.8378190f.js","assets/howler.22814ddb.js","assets/index.abab9d81.js","assets/tippy.9fe8ff20.js","assets/tippy.c4165dec.css"]),Ef=()=>tt(()=>import("./gallery-narrators.d13694c6.js"),["assets/gallery-narrators.d13694c6.js","assets/gallery-narrators.c3d48860.css","assets/gallery-lazy.9dfaee33.js","assets/lodash.9f572fca.js","assets/jquery.050764e9.js","assets/gallery-search.ea8b5a73.js","assets/gallery-search.dd5e84ca.css","assets/vue.runtime.esm-bundler.ee4f3819.js","assets/gallery-findSubPageSource.ad373b19.js","assets/gallery-findSubPageSource.9caea48c.css","assets/gallery-page-title.5db93fd4.js","assets/gallery-page-title.d16b2dce.css","assets/content-script-helpers.e49fc91b.js","assets/gallery-timeStringToSeconds.9aa0cb6a.js","assets/gallery-makeCoverUrl.8378190f.js","assets/howler.22814ddb.js","assets/index.abab9d81.js","assets/tippy.9fe8ff20.js","assets/tippy.c4165dec.css"]),Cf=()=>tt(()=>import("./gallery-publishers.b3a2edea.js"),["assets/gallery-publishers.b3a2edea.js","assets/gallery-publishers.961201d0.css","assets/gallery-lazy.9dfaee33.js","assets/lodash.9f572fca.js","assets/jquery.050764e9.js","assets/gallery-search.ea8b5a73.js","assets/gallery-search.dd5e84ca.css","assets/vue.runtime.esm-bundler.ee4f3819.js","assets/gallery-findSubPageSource.ad373b19.js","assets/gallery-findSubPageSource.9caea48c.css","assets/gallery-page-title.5db93fd4.js","assets/gallery-page-title.d16b2dce.css","assets/content-script-helpers.e49fc91b.js","assets/gallery-timeStringToSeconds.9aa0cb6a.js","assets/gallery-makeCoverUrl.8378190f.js","assets/howler.22814ddb.js","assets/index.abab9d81.js","assets/tippy.9fe8ff20.js","assets/tippy.c4165dec.css"]);var rt={library:{name:"library",path:"/library",component:ze,meta:{gallery:!0,title:"Library",icon:"fa-solid fa-book"}},collections:{path:"/collections",component:Ve,meta:{icon:"fa-regular fa-folder-open"},children:[{name:"collections",path:"",component:wf,meta:{title:"Collections"}},{name:"collection",path:":collection",component:ze,meta:{gallery:!0,title:"Collections"}}]},wishlist:{path:"/wishlist",component:Ve,meta:{icon:"fa-solid fa-bookmark"},children:[{name:"wishlist",path:"",component:ze,meta:{gallery:!0,title:"Wishlist"}}]},subPages:{categories:{path:"/categories",meta:{icon:"fa-solid fa-indent",nestedGroup:"subPages"},component:Ve,children:[{name:"categories",path:"",component:kf,meta:{subPage:!0,title:"Categories"}},{name:"category",path:":parent/:child?",component:ze,meta:{gallery:!0,subPage:!0,title:"Categories"}}]},series:{path:"/series",component:Ve,meta:{icon:"fa-solid fa-list-ol",nestedGroup:"subPages"},children:[{name:"all-series",path:"",component:Sf,meta:{subPage:!0,title:"Series"}},{name:"series",path:":series",component:ze,meta:{gallery:!0,subPage:!0,title:"Series"}}]},authors:{path:"/authors",component:Ve,meta:{icon:"fa-solid fa-user-group",nestedGroup:"subPages"},children:[{name:"authors",path:"",component:$f,meta:{subPage:!0,title:"Authors"}},{name:"author",path:":author",component:ze,meta:{gallery:!0,subPage:!0,title:"Authors"}}]},narrators:{path:"/narrators",component:Ve,meta:{icon:"fa-solid fa-users",nestedGroup:"subPages"},children:[{name:"narrators",path:"",component:Ef,meta:{subPage:!0,title:"Narrators"}},{name:"narrator",path:":narrator",component:ze,meta:{gallery:!0,subPage:!0,title:"Narrators"}}]},publishers:{path:"/publishers",component:Ve,meta:{icon:"fa-solid fa-book",nestedGroup:"subPages"},children:[{name:"publishers",path:"",component:Cf,meta:{subPage:!0,title:"Publishers"}},{name:"publisher",path:":publisher",component:ze,meta:{gallery:!0,subPage:!0,title:"Publishers"}}]}},fallback:{path:"/:pathMatch(.*)*",name:"404",component:Ve,meta:{}}};function Pf(e){if(e){let n=[];e.books?n.push({path:"/",redirect:"/library"}):e.wishlist&&n.push({path:"/",redirect:"/wishlist"}),e.books&&n.push(rt.library),!e.books&&e.wishlist&&n.push(rt.wishlist);var t=rt.subPages;let r=_.get(e,"extras.subPageStates");r?_.each(r,function(o){o.enabled&&n.push(t[o.key])}):(e.books||e.wishlist)&&_.each(t,function(o){n.push(o)}),e.collections&&n.push(rt.collections),e.books&&e.wishlist&&n.push(rt.wishlist),n.push(rt.fallback);const i=lf({history:Sh(""),routes:n,scrollBehavior(o,c,l){return l||(c&&o.name===c.name&&_.isEqual(o.params,c.params)?void 0:{x:0,y:0})}});if(document.querySelector("html.standalone-gallery")){let o=function(l){return new Promise(function(u,a){let h=document.createElement("script");h.src=(l.prefix||"data/")+l.name+"."+e.extras.cacheID+".js",h.type="text/javascript",h.onload=function(){u(l),h=null},h.onerror=function(){a(l),h=null},document.body.appendChild(h)})},c=function(l,u,a,h,f){h=_.filter(h,function(v){return window[v.name+"JSON"]!==!0});let m=[];h.forEach(function(v){m.push(o(v))}),Promise.all(m).catch(function(){f||setTimeout(function(){c(l,u,a,h,"afterError")},1e3)}).finally(function(){let v=_.map(h,function(d){return{key:d.keyOverride||d.name,value:window[d.name+"JSON"]}});ue.commit("buildStandaloneData",v),_.each(h,function(d){window[d.name+"JSON"]=!0}),Tn(l,u,a)})};i.beforeEach((l,u,a)=>{if(l.name&&(u.name!==l.name||_.get(u,"query.book")!==_.get(l,"query.book")||u.query.subPageSource!==l.query.subPageSource)){const h=[],f=l.name==="wishlist"||l.query.subPageSource==="wishlist"||l.meta.subPage&&!l.query.subPageSource&&ue.state.sticky.subPageSource==="wishlist";e.wishlist&&f?h.push({name:"wishlist"}):e.books&&h.push({name:"library",keyOverride:"books"}),e.series&&h.push({name:"series"}),e.collections&&h.push({name:"collections"}),c(l,u,a,h)}else Tn(l,u,a)})}else i.beforeEach((o,c,l)=>{Tn(o,c,l)});return i.afterEach((o,c,l)=>{if(c.name!==o.name){const u=ue.state.navHistory.forward,a=ue.state.navHistory.back;c.name&&c.name!==u[u.length-1]&&c.name!==a[a.length-1]&&ue.commit("navHistory",{key:"back",value:c.name,pushOnly:!0}),ue.state.navHistory.btnNavigation||ue.commit("prop",{key:"navHistory.forward",value:[]}),ue.commit("prop",{key:"navHistory.btnNavigation",value:!1})}}),i}}function Tn(e,t,n){e.query.refresh?(delete e.query.refresh,ue.commit("prop",[{key:"showRoute",value:!1},{key:"refreshViewTimeStamp",value:new Date().getTime()}]),n(e)):n()}const rs={};rs.install=function(e,t){e.config.globalProperties.$updateQuery=function(n){n=n||{};let r=n.query,i=n.value,s=n.history,o=n.queries||this.$route.query,c=JSON.parse(JSON.stringify(o));i===void 0?c[r]?delete c[r]:c[r]=!0:i?c[r]=i:delete c[r],console.log(r,c),s?this.$router.push({query:c}).catch(()=>{}):this.$router.replace({query:c}).catch(()=>{})},e.config.globalProperties.$updateQueries=function(n,r){r=r||{};let i=r.history,s=JSON.parse(JSON.stringify(r.queries||this.$route.query));_.merge(s,n),_.each(s,function(o,c){_.isNil(o)&&delete s[c]}),i?this.$router.push({query:s}).catch(()=>{}):this.$router.replace({query:s}).catch(()=>{})}};let is=null,Ct=null,Jr=function(){const e=is;e&&e.state.isVisible&&(e.hide(),e.reference.blur())};var Rf={directive:"tippy",component:"tippy",componentSingleton:"tippy-singleton",defaultProps:{placement:"top",flipBehavior:["top","bottom","left","right"],allowHTML:!0,arrow:!0,theme:"dark",maxWidth:650,delay:[500,0],a11y:!1,onShow:e=>{is=e,Ct=document.querySelector(".list-view-inner-wrap")||window,Ct.addEventListener("scroll",Jr,{passive:!0});let t=e.props.content;return(!t||t==="false")&&(t=!1),t},onHide:e=>{Ct||(Ct=document.querySelector(".list-view-inner-wrap")||window),Ct.addEventListener("scroll",Jr,{passive:!0})},boundary:"viewport",flipDuration:0}};const Af=700;var Tf={created:function(e,{value:t},n){if(typeof t!="function"){console.warn(`Expect a function, got ${t}`);return}let r=null;const i=o=>{o.type==="touchstart"&&o.preventDefault(),!(o.type==="click"&&o.button!==0)&&r===null&&(r=setTimeout(()=>t(o),Af))},s=()=>{r!==null&&(clearTimeout(r),r=null)};["mousedown","touchstart"].forEach(o=>e.addEventListener(o,i,{passive:!0})),["click","mouseout","touchend","touchcancel"].forEach(o=>e.addEventListener(o,s,{passive:!0}))},unmounted:function(e,t){["mousedown","touchstart"].forEach(n=>e.removeEventListener(n,start,{passive:!0})),["click","mouseout","touchend","touchcancel"].forEach(n=>e.removeEventListener(n,cancel,{passive:!0}))}};function Yr(e){return e.type.indexOf("mouse")!==-1?e.clientX:e.touches[0].clientX}function Xr(e){return e.type.indexOf("mouse")!==-1?e.clientY:e.touches[0].clientY}var Of=function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("test",null,t)}catch{}return e}(),Lf={install:function(e,t){var n=Object.assign({},{disableClick:!1,tapTolerance:10,swipeTolerance:30,touchHoldTolerance:400,longTapTimeInterval:400,touchClass:"",dragFrequency:100,rollOverFrequency:100},t);function r(d){var p=this.$$touchObj,g=d.type.indexOf("touch")>=0,b=d.type.indexOf("mouse")>=0,$=this;g&&(p.lastTouchStartTime=d.timeStamp),!(b&&p.lastTouchStartTime&&d.timeStamp-p.lastTouchStartTime<350)&&(p.touchStarted||(h(this),p.touchStarted=!0,p.touchMoved=!1,p.swipeOutBounded=!1,p.startX=Yr(d),p.startY=Xr(d),p.currentX=0,p.currentY=0,p.touchStartTime=d.timeStamp,p.hasSwipe=u(this,"swipe")||u(this,"swipe.left")||u(this,"swipe.right")||u(this,"swipe.top")||u(this,"swipe.bottom"),u(this,"hold")&&(p.touchHoldTimer=setTimeout(function(){p.touchHoldTimer=null,a(d,$,"hold")},p.options.touchHoldTolerance)),a(d,this,"press")))}function i(d){var p=this.$$touchObj,g=Yr(d),b=Xr(d),$=p.currentX!=g||p.currentY!=b;if(p.currentX=g,p.currentY=b,p.touchMoved){if(p.hasSwipe&&!p.swipeOutBounded){var A=p.options.swipeTolerance;p.swipeOutBounded=Math.abs(p.startX-p.currentX)>A&&Math.abs(p.startY-p.currentY)>A}}else{var O=p.options.tapTolerance;p.touchMoved=Math.abs(p.startX-p.currentX)>O||Math.abs(p.startY-p.currentY)>O,p.touchMoved&&(m(p),a(d,this,"drag.once"))}if(u(this,"rollover")&&$){var L=d.timeStamp,P=p.options.rollOverFrequency;(p.touchRollTime==null||L>p.touchRollTime+P)&&(p.touchRollTime=L,a(d,this,"rollover"))}if(u(this,"drag")&&p.touchStarted&&p.touchMoved&&$){var L=d.timeStamp,P=p.options.dragFrequency;(p.touchDragTime==null||L>p.touchDragTime+P)&&(p.touchDragTime=L,a(d,this,"drag"))}}function s(){var d=this.$$touchObj;m(d),f(this),d.touchStarted=d.touchMoved=!1,d.startX=d.startY=0}function o(d){var p=this.$$touchObj,g=d.type.indexOf("touch")>=0,b=d.type.indexOf("mouse")>=0;g&&(p.lastTouchEndTime=d.timeStamp);var $=g&&!p.touchHoldTimer;if(m(p),p.touchStarted=!1,f(this),!(b&&p.lastTouchEndTime&&d.timeStamp-p.lastTouchEndTime<350))if(a(d,this,"release"),p.touchMoved){if(p.hasSwipe&&!p.swipeOutBounded){var O=p.options.swipeTolerance,A,L=Math.abs(p.startY-p.currentY),P=Math.abs(p.startX-p.currentX);(L>O||P>O)&&(L>O?A=p.startY>p.currentY?"top":"bottom":A=p.startX>p.currentX?"left":"right",u(this,"swipe."+A)?a(d,this,"swipe."+A,A):a(d,this,"swipe",A))}}else if(u(this,"longtap")&&d.timeStamp-p.touchStartTime>p.options.longTapTimeInterval)d.cancelable&&d.preventDefault(),a(d,this,"longtap");else if(u(this,"hold")&&$){d.cancelable&&d.preventDefault();return}else a(d,this,"tap")}function c(){h(this)}function l(){f(this)}function u(d,p){var g=d.$$touchObj.callbacks[p];return g!=null&&g.length>0}function a(d,p,g,b){var $=p.$$touchObj,O=$.callbacks[g];if(O==null||O.length===0)return null;for(var A=0;A<O.length;A++){var L=O[A];L.modifiers.stop&&d.stopPropagation(),L.modifiers.prevent&&d.preventDefault(),!(L.modifiers.self&&d.target!==d.currentTarget)&&typeof L.value=="function"&&(b?L.value(b,d):L.value(d))}}function h(d){var p=d.$$touchObj.options.touchClass;p&&d.classList.add(p)}function f(d){var p=d.$$touchObj.options.touchClass;p&&d.classList.remove(p)}function m(d){d.touchHoldTimer&&(clearTimeout(d.touchHoldTimer),d.touchHoldTimer=null)}function v(d,p){var g=d.$$touchObj||{callbacks:{},hasBindTouchEvents:!1,options:n};return p&&(g.options=Object.assign({},g.options,p)),d.$$touchObj=g,d.$$touchObj}e.directive("touch",{beforeMount:function(d,p){var g=v(d),b=Of?{passive:!0}:!1,$=p.arg||"tap";switch($){case"swipe":var O=p.modifiers;if(O.left||O.right||O.top||O.bottom){for(var A in p.modifiers)if(["left","right","top","bottom"].indexOf(A)>=0){var L="swipe."+A;g.callbacks[L]=g.callbacks[L]||[],g.callbacks[L].push(p)}}else g.callbacks.swipe=g.callbacks.swipe||[],g.callbacks.swipe.push(p);break;case"press":case"drag":p.modifiers.disablePassive&&(b=!1);default:g.callbacks[$]=g.callbacks[$]||[],g.callbacks[$].push(p)}g.hasBindTouchEvents||(d.addEventListener("touchstart",r,b),d.addEventListener("touchmove",i,b),d.addEventListener("touchcancel",s),d.addEventListener("touchend",o),g.options.disableClick||(d.addEventListener("mousedown",r),d.addEventListener("mousemove",i),d.addEventListener("mouseup",o),d.addEventListener("mouseenter",c),d.addEventListener("mouseleave",l)),g.hasBindTouchEvents=!0)},unmounted:function(d){d.removeEventListener("touchstart",r),d.removeEventListener("touchmove",i),d.removeEventListener("touchcancel",s),d.removeEventListener("touchend",o),d.$$touchObj&&!d.$$touchObj.options.disableClick&&(d.removeEventListener("mousedown",r),d.removeEventListener("mousemove",i),d.removeEventListener("mouseup",o),d.removeEventListener("mouseenter",c),d.removeEventListener("mouseleave",l)),delete d.$$touchObj}}),e.directive("touch-class",{beforeMount:function(d,p){v(d,{touchClass:p.value})}}),e.directive("touch-options",{beforeMount:function(d,p){v(d,p.value)}})}};const ss={};ss.install=function(e,t){e.config.globalProperties.$setListRenderingOpts=function(n){if(this.$route.query.sortValues){const r=_.findIndex(n.sort,{key:"sortValues"});n.sort[r].active=this.$route.query.sortValues}if(this.$route.query.sort){let r=_.find(n.sort,{current:!0});r.current=!1;const i=_.findIndex(n.sort,{key:this.$route.query.sort});i>-1&&(n.sort[i].current=!0,n.sort[i].active=this.$route.query.sortDir==="desc")}if(this.$route.query.filter){let r=decodeURIComponent(this.$route.query.filter).split(",");_.each(_.filter(n.filter,{type:"filter"}),function(i){i.active=!1,_.each(r,function(s){i.key===s&&(i.active=!0)})})}if(this.$route.query.filterExtras){let r=this.$route.query.filterExtras.split(",");r=_.map(r,function(i){return decodeURIComponent(i)}),_.each(r,function(i){let s=i.split(":"),o=s[0],c=_.find(n.filter,{type:"filterExtras",key:o});if(console.log(c),c&&(c.active=!0,s.length>1)){if(c.dropdownOpts)c.value=s[1].split("|"),console.log(c.value);else if(c.range){let l=s[1].split("-"),u=parseFloat(l[0]),a=parseFloat(l[1]);c.range=[u,a]}}})}if(this.$route.query.scope){let r=decodeURIComponent(this.$route.query.scope).split(",");_.each(n.scope,function(i){i.active=!1,_.each(r,function(s){i.key===s&&(i.active=!0)})})}this.$store.commit("prop",{key:"listRenderingOpts",value:n})}};function If(e){ue.commit("fromLocalStorage"),ue.subscribe(function(n,r){n.type==="stickyProp"||n.type==="updatePlayerProgress"?localStorage.setItem("aleSettings",JSON.stringify(r.sticky)):n.type==="prop"&&_.each(_.isArray(n.payload)?n.payload:[n.payload],function(i){const s=_.get(i,"key","");(_.get(s,"0")==="sticky"||!!s.match(/^sticky\./i))&&localStorage.setItem("aleSettings",JSON.stringify(r.sticky))})});const t=document.querySelector("html.standalone-gallery");ue.commit("prop",[{key:"library",value:e,freeze:!t},{key:"standalone",value:!!t},{key:"displayMode",value:window.matchMedia("(display-mode: standalone)").matches},{key:"urlOrigin",value:"https://audible"+e.extras["domain-extension"]},{key:"extractSettings",value:e.config}]),e.extras.pages.wishlist?e.extras.pages.books||ue.commit("stickyProp",{key:"subPageSource",value:"wishlist"}):ue.commit("stickyProp",{key:"subPageSource",value:"library"}),!e.books&&e.wishlist&&ue.commit("stickyProp",{key:"subPageSource",value:"wishlist"})}const os=document.querySelector("html.standalone-gallery"),be=gs(ih);be.config.devtools=!1;be.config.productionTip=!1;be.use(bs);be.use(rs);be.config.globalProperties.$compEmitter=new ks;be.use(ue);be.use(Ss,Rf);be.directive("longpress",Tf);be.use(Lf);be.use(ss);if(os){let e=function(t){let n=document.createElement("script"),r=document.querySelector("#audible-library-extractor").getAttribute("data-cache-id");n.src="data/temp-data."+r+".js",n.type="text/javascript",n.onload=function(){let i=window.tempDataJSON;window.bookSummaryJSON=!0,n=null,Qr(i)},n.onerror=function(){n=null,setTimeout(function(){t||e("afterError")},1e3)},document.head.appendChild(n)};e()}else try{chrome.storage.local.get(null).then(e=>{!_.isEmpty(e)&&e.chunks?(_s.methods.glueFriesBackTogether(e),Qr(e)):alert("No existing data found: extract your library again.")})}catch{}function Qr(e){let t;if(e.extras.pages=e.extras.pages||{},os){t=JSON.parse(JSON.stringify(e));var n=["books","series","collections","wishlist"];_.each(n,function(i){_.get(e,i)===!0&&(delete e[i],_.set(e,"extras.pages.books",!0),e.extras.pages.books=!0)})}If(e);let r=Pf(t||e);be.use(r),be.mount("#audible-library-extractor")}export{ma as S,Rs as _,ya as a,cd as b,Pl as c,ld as d,qi as e,nu as f,ll as g,tt as h,rc as i,od as m,ad as p,sd as s};
