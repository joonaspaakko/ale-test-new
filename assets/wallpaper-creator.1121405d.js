import{m as Ke}from"./makeCoverUrl.f6649fcf.js";import{_ as V,Y as Xe,j as k,o as s,c as l,b as r,g as T,a as n,d as v,Z as G,a0 as te,a1 as oe,a2 as ce,a3 as ue,a4 as ne,a5 as ve,a6 as Je,a7 as he,a8 as se,a9 as ae,aa as Qe,e as h,l as u,r as Y,k as U,n as A,i as S,F as j,s as g,u as ie,x as re,ab as et,ac as tt,H as ot,ad as nt,ae as st,af as at,ag as it,ah as me,ai as rt,aj as lt,ak as dt,al as J,G as X,t as w,p as K,am as ct,an as ut,ao as vt,ap as ht,q as mt,aq as pe,ar as pt,as as ge,at as gt,au as ft,av as _t,aw as yt,z as bt,C as wt,D as kt,ax as zt,V as $t,ay as Ct,E as St}from"./vendor.e7714c30.js";import{A as xt}from"./animated-wallpaper-app.30778df1.js";/* empty css              */const At={name:"ColorPicker",props:{size:{type:Number,default:27},storeKey:{type:String,default:""},defaultValue:{type:String,default:""}},components:{NColorPicker:Xe},data:function(){return{store:this.$store.state}},computed:{value(){return this.defaultValue||_.get(this.store,this.storeKey)}},methods:{colorChanged(e){if(this.defaultValue)this.$emit("input",e);else{const t=this.storeKey;console.log(t,e),this.$store.commit("update",{key:t,value:e})}}}},Tt={class:"color-picker-placeholder"};function Mt(e,t,o,d,c,a){const m=k("n-color-picker");return s(),l("div",Tt,[r(m,{size:"small","default-value":a.value,swatches:e.store.colorPicker_swatches,"onUpdate:value":a.colorChanged,style:T({width:o.size+"px",height:o.size+"px"})},null,8,["default-value","swatches","onUpdate:value","style"])])}var fe=V(At,[["render",Mt]]);const Et={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Pt=n("g",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-miterlimit":"5.759","stroke-width":"2"},[n("path",{d:"M21 22H3"}),n("path",{"stroke-linejoin":"round",d:"M6 18V2h4v16H6Zm8 0V8h4v10h-4Z"})],-1),Rt=[Pt];function Lt(e,t){return s(),l("svg",Et,Rt)}var _e={name:"akar-icons-align-bottom",render:Lt};const Ot={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Ft=n("g",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-miterlimit":"5.759","stroke-width":"2"},[n("path",{d:"M21 12H3"}),n("path",{"stroke-linejoin":"round",d:"M6 16v4h4v-4m4 0v2h4v-2m-4-8V6h4v2m-8 0V4H6v4"})],-1),Ht=[Ft];function Vt(e,t){return s(),l("svg",Ot,Ht)}var ye={name:"akar-icons-align-vertical-center",render:Vt};const It={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Bt=n("g",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-miterlimit":"5.759","stroke-width":"2"},[n("path",{d:"M21 2H3"}),n("path",{"stroke-linejoin":"round",d:"M6 22V6h4v16H6Zm8-6V6h4v10h-4Z"})],-1),qt=[Bt];function Wt(e,t){return s(),l("svg",It,qt)}var be={name:"akar-icons-align-top",render:Wt};const Ut={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},jt=n("g",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-miterlimit":"5.759","stroke-width":"2"},[n("path",{d:"M22 3v18"}),n("path",{"stroke-linejoin":"round",d:"M2 6h16v4H2zm6 8h10v4H8z"})],-1),Dt=[jt];function Zt(e,t){return s(),l("svg",Ut,Dt)}var we={name:"akar-icons-align-right",render:Zt};const Nt={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Gt=n("g",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-miterlimit":"5.759","stroke-width":"2"},[n("path",{d:"M12 3v18"}),n("path",{"stroke-linejoin":"round",d:"M16 6h4v4h-4m-8 0H4V6h4m8 8h2v4h-2m-8-4H6v4h2"})],-1),Yt=[Gt];function Kt(e,t){return s(),l("svg",Nt,Yt)}var ke={name:"akar-icons-align-horizontal-center",render:Kt};const Xt={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Jt=n("g",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-miterlimit":"5.759","stroke-width":"2"},[n("path",{d:"M2 3v18"}),n("path",{"stroke-linejoin":"round",d:"M6 6h16v4H6zm0 8h10v4H6z"})],-1),Qt=[Jt];function eo(e,t){return s(),l("svg",Xt,Qt)}var ze={name:"akar-icons-align-left",render:eo};const to={viewBox:"0 0 512 512",width:"1.2em",height:"1.2em"},oo=n("path",{fill:"currentColor",d:"M256 8C119 8 8 119 8 256s111 248 248 248s248-111 248-248S393 8 256 8zm0 448c-110.5 0-200-89.5-200-200S145.5 56 256 56s200 89.5 200 200s-89.5 200-200 200zm101.8-262.2L295.6 256l62.2 62.2c4.7 4.7 4.7 12.3 0 17l-22.6 22.6c-4.7 4.7-12.3 4.7-17 0L256 295.6l-62.2 62.2c-4.7 4.7-12.3 4.7-17 0l-22.6-22.6c-4.7-4.7-4.7-12.3 0-17l62.2-62.2l-62.2-62.2c-4.7-4.7-4.7-12.3 0-17l22.6-22.6c4.7-4.7 12.3-4.7 17 0l62.2 62.2l62.2-62.2c4.7-4.7 12.3-4.7 17 0l22.6 22.6c4.7 4.7 4.7 12.3 0 17z"},null,-1),no=[oo];function so(e,t){return s(),l("svg",to,no)}var ao={name:"fa-regular-times-circle",render:so};const io={viewBox:"0 0 20 20",width:"1.2em",height:"1.2em"},ro=n("path",{fill:"currentColor",d:"M3 3.75A.75.75 0 0 1 3.75 3h10a.75.75 0 0 1 .75.75v1.5a.75.75 0 0 1-1.5 0V4.5H9.5v7.706A5.48 5.48 0 0 0 9 14.5c0 .9.216 1.75.6 2.5H6.75a.75.75 0 0 1 0-1.5H8v-11H4.5v.75a.75.75 0 0 1-1.5 0v-1.5ZM19 14.5a4.5 4.5 0 1 1-9 0a4.5 4.5 0 0 1 9 0Zm-4-2a.5.5 0 0 0-1 0V14h-1.5a.5.5 0 0 0 0 1H14v1.5a.5.5 0 0 0 1 0V15h1.5a.5.5 0 0 0 0-1H15v-1.5Z"},null,-1),lo=[ro];function co(e,t){return s(),l("svg",io,lo)}var uo={name:"fluent-text-add20-filled",render:co};const vo={name:"spacer",props:["size","line","color"],data:function(){return{}},computed:{spacerStyle:function(){let e=5;return this.size=="mini"&&(e=2),this.size=="small"?e=5:this.size=="default"||this.size=="normal"?e=10:this.size=="medium"?e=15:this.size=="large"?e=20:(this.size=="largest"||this.size=="huge")&&(e=25),{paddingTop:e+"px",paddingBottom:e+"px"}},lineStyle:function(){return{background:this.color||"#323d4f"}}}};function ho(e,t,o,d,c,a){return s(),l("div",{class:"spacer",style:T(a.spacerStyle)},[o.line?(s(),l("div",{key:0,class:"line",style:T(a.lineStyle)},null,4)):v("",!0)],4)}var $e=V(vo,[["render",ho],["__scopeId","data-v-7276c8e0"]]);const mo={name:"textElements",props:["spaceGapSize"],components:{spacer:$e,NConfigProvider:G,NButton:te,NSwitch:oe,NDivider:ce,NSelect:ue,NAlert:ne,NInputNumber:ve,NInput:Je,NSlider:he,NSpace:se,NCheckbox:ae},data:function(){return{store:this.$store.state,textTextCounter:0}},methods:{makeTextElement:function(){let e=document.querySelectorAll(".moveable-control-box");e.length&&e.forEach(function(o,d){o.style.display="none"});let t="Lorem ipsum dolor sit amet";this.textTextCounter===0||this.textTextCounter===1&&this.store.gallery.pageTitle?t=this.store.gallery.pageTitle||t:this.textTextCounter===1&&(t=this.store.gallery.pageSubTitle||t),this.$store.commit("addText",{text:t,rotation:0,floater:!1,fullWidth:!0,fontSize:30,bold:!1,allCaps:!1,active:!0,color:"#3a3a3a",alignment:"center",verticalAlignment:"center",fontFamily:"'Work Sans', sans-serif"}),this.textTextCounter===1?this.textTextCounter=0:++this.textTextCounter},textColorChanged:_.debounce(function(e,t){this.$store.commit("changeText",{index:t,key:"color",value:e})},250,{leading:!1,trailing:!0}),changeTextElement:_.debounce(function(e,t,o,d,c){let a=e;c&&(a=_.get(c,"target.value")||a),this.$store.commit("changeText",{index:t,key:d,value:a}),this.$nextTick(function(){this.$emitter.emit("update-moveable-handles")})},250,{leading:!1,trailing:!0}),textElementClicked:function(e,t){let o=e;this.$store.commit("activateText",o);let d=document.querySelectorAll(".moveable-control-box");d.length&&d.forEach(function(c,a){c.style.display=o===a?"block":"none"})},renderFontOption(e){return Qe("div",{style:{fontFamily:e.value}},e.label)}}},le=e=>(ie("data-v-0a0f2731"),e=e(),re(),e),po=le(()=>n("span",null,"Text elements",-1)),go=g(" \xA0 ADD TEXT "),fo=g(" You can make room for text by adjusting canvas padding. "),_o=["onMousedown"],yo={class:"label-row"},bo=le(()=>n("span",{style:{display:"inline-block",width:"37px"}},"Font:",-1)),wo={class:"label-row"},ko={style:{display:"inline-block",width:"37px"},content:"Alternatively double click text on the canvas to edit it directly"},zo=g("Text: "),$o=[zo],Co={class:"label-row"},So=le(()=>n("span",{style:{display:"inline-block",width:"37px"}},"Size:",-1)),xo={class:"label-row"},Ao={style:{display:"flex","flex-direction":"row"}},To={class:"align-text",style:{"padding-left":"0px"},content:"<strong>Horizontal alignment.</strong> Text is aligned inside its own bounding box."},Mo={class:"align-text",style:{"padding-left":"30px"},content:"<strong>Vertical alignment.</strong> Text is aligned inside its own bounding box."},Eo={class:"label-row"},Po={style:{display:"flex","justify-content":"center","align-items":"center",flex:"0","align-self":"flex-end"}},Ro=g(" Bold "),Lo=g(" All caps ");function Oo(e,t,o,d,c,a){const m=uo,b=k("n-button"),f=k("n-alert"),x=ao,p=k("n-select"),C=k("n-input"),F=k("n-slider"),q=k("n-input-number"),R=ze,I=ke,B=we,Z=be,D=ye,z=_e,N=fe,H=k("n-checkbox"),L=k("n-space"),P=Y("tippy");return s(),h(L,{vertical:"",size:o.spaceGapSize},{default:u(()=>[n("h6",null,[po,r(b,{type:"warning",onClick:a.makeTextElement},{default:u(()=>[r(m),go]),_:1},8,["onClick"])]),e.store.textElements.length?(s(),h(f,{key:0,type:"info"},{default:u(()=>[fo]),_:1})):v("",!0),e.store.textElements.length?(s(!0),l(j,{key:1},U(e.store.textElements,($,O)=>(s(),l("div",{class:A(["text-elements",{active:$.active}]),key:$.id,onMousedown:M=>a.textElementClicked(O,$)},[r(L,{vertical:"",size:"medium",class:"text-elements-inner-wrap",style:T({zIndex:e.store.textElements.length-O})},{default:u(()=>[r(x,{class:"remove-text",style:{"font-size":"18px"},onClick:M=>e.$store.commit("removeText",O)},null,8,["onClick"]),n("div",yo,[bo,r(p,{size:"small",style:{flex:"1","margin-left":"10px"},"default-value":$.fontFamily,options:e.store.textElFonts,"onUpdate:value":M=>a.changeTextElement(M,O,$,"fontFamily"),"render-label":a.renderFontOption},null,8,["default-value","options","onUpdate:value","render-label"])]),n("div",wo,[S((s(),l("span",ko,$o)),[[P]]),r(C,{size:"small",style:{flex:"1","margin-left":"10px"},"default-value":$.text,min:1,step:1,"onUpdate:value":M=>a.changeTextElement(M,O,$,"text")},null,8,["default-value","onUpdate:value"])]),n("div",Co,[So,r(F,{"onUpdate:value":M=>a.changeTextElement(M,O,$,"fontSize"),value:$.fontSize,min:1,max:200,step:1,tooltip:!1},null,8,["onUpdate:value","value"]),r(q,{size:"tiny",style:{flex:"1","margin-left":"10px"},value:$.fontSize,min:1,step:1,"onUpdate:value":M=>a.changeTextElement(M,O,$,"fontSize")},null,8,["value","onUpdate:value"])]),n("div",xo,[n("div",Ao,[S((s(),l("div",To,[r(R,{class:A({active:$.alignment==="left"}),style:{"font-size":"14px"},name:"format_align_left",onClick:M=>{e.$store.commit("changeText",{index:O,key:"alignment",value:"left"})}},null,8,["class","onClick"]),r(I,{class:A({active:$.alignment==="center"}),style:{"font-size":"14px"},name:"format_align_center",onClick:M=>{e.$store.commit("changeText",{index:O,key:"alignment",value:"center"})}},null,8,["class","onClick"]),r(B,{class:A({active:$.alignment==="right"}),style:{"font-size":"14px"},name:"format_align_right",onClick:M=>{e.$store.commit("changeText",{index:O,key:"alignment",value:"right"})}},null,8,["class","onClick"])])),[[P]]),S((s(),l("div",Mo,[r(Z,{class:A({active:$.verticalAlignment==="left"}),style:{"font-size":"14px"},name:"vertical_align_top",onClick:M=>{e.$store.commit("changeText",{index:O,key:"verticalAlignment",value:"left"})}},null,8,["class","onClick"]),r(D,{class:A({active:$.verticalAlignment==="center"}),style:{"font-size":"14px"},name:"vertical_align_center",onClick:M=>{e.$store.commit("changeText",{index:O,key:"verticalAlignment",value:"center"})}},null,8,["class","onClick"]),r(z,{class:A({active:$.verticalAlignment==="right"}),style:{"font-size":"14px"},name:"vertical_align_bottom",onClick:M=>{e.$store.commit("changeText",{index:O,key:"verticalAlignment",value:"right"})}},null,8,["class","onClick"])])),[[P]])])]),n("div",Eo,[n("div",Po,[r(N,{"default-value":$.color,onInput:M=>e.$store.commit("changeText",{index:O,key:"color",value:M})},null,8,["default-value","onInput"])]),r(H,{checked:$.bold,"onUpdate:checked":M=>a.changeTextElement(M,O,$,"bold"),style:{"padding-left":"15px"}},{default:u(()=>[Ro]),_:2},1032,["checked","onUpdate:checked"]),r(H,{checked:$.allCaps,"onUpdate:checked":M=>a.changeTextElement(M,O,$,"allCaps"),style:{"padding-left":"4px","white-space":"nowrap"}},{default:u(()=>[Lo]),_:2},1032,["checked","onUpdate:checked"])])]),_:2},1032,["style"])],42,_o))),128)):v("",!0)]),_:1},8,["size"])}var Ce=V(mo,[["render",Oo],["__scopeId","data-v-0a0f2731"]]);const Fo={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Ho=n("path",{fill:"currentColor",d:"M4 21v-2h16v2Zm8-4l-5-5l1.4-1.4l2.6 2.6V3h2v10.2l2.6-2.6L17 12Z"},null,-1),Vo=[Ho];function Io(e,t){return s(),l("svg",Fo,Vo)}var Bo={name:"material-symbols-vertical-align-bottom",render:Io};const qo={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Wo=n("path",{fill:"currentColor",d:"M11 22v-4.2l-1.6 1.6L8 18l4-4l4 4l-1.4 1.4l-1.6-1.6V22Zm-7-9v-2h16v2Zm8-3L8 6l1.4-1.4L11 6.2V2h2v4.2l1.6-1.6L16 6Z"},null,-1),Uo=[Wo];function jo(e,t){return s(),l("svg",qo,Uo)}var Do={name:"material-symbols-vertical-align-center",render:jo};const Zo={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},No=n("path",{fill:"currentColor",d:"M11 21V10.8l-2.6 2.6L7 12l5-5l5 5l-1.4 1.4l-2.6-2.6V21ZM4 5V3h16v2Z"},null,-1),Go=[No];function Yo(e,t){return s(),l("svg",Zo,Go)}var Ko={name:"material-symbols-vertical-align-top",render:Yo};const Xo={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Jo=n("path",{fill:"currentColor",d:"M7 17V1H5v4H1v2h4v10a2 2 0 0 0 2 2h10v4h2v-4h4v-2m-6-2h2V7a2 2 0 0 0-2-2H9v2h8v8Z"},null,-1),Qo=[Jo];function en(e,t){return s(),l("svg",Xo,Qo)}var tn={name:"mdi-crop",render:en};const on={viewBox:"0 0 16 16",width:"1.2em",height:"1.2em"},nn=n("g",{fill:"currentColor"},[n("path",{d:"M7.5 1.906v.938h1v-.938h-1zm0 1.875v.938h1V3.78h-1zm0 1.875v.938h1v-.938h-1zM1.906 8.5h.938v-1h-.938v1zm1.875 0h.938v-1H3.78v1zm1.875 0h.938v-1h-.938v1zm2.813 0v-.031H8.5V7.53h-.031V7.5H7.53v.031H7.5v.938h.031V8.5h.938zm.937 0h.938v-1h-.938v1zm1.875 0h.938v-1h-.938v1zm1.875 0h.938v-1h-.938v1zM7.5 9.406v.938h1v-.938h-1zm0 1.875v.938h1v-.938h-1zm0 1.875v.938h1v-.938h-1z"}),n("path",{d:"M0 0v16h16V0H0zm1 1h14v14H1V1z"})],-1),sn=[nn];function an(e,t){return s(),l("svg",on,sn)}var rn={name:"bi-border-outer",render:an};const ln={viewBox:"0 0 15 15",width:"1.2em",height:"1.2em"},dn=n("path",{fill:"none",stroke:"currentColor",d:"M1 1.5h1m5 0h1m2 0h1m2 0h1m-1 3h1m-7 0h1m5 3h1m-4 0h1m-4 0h1m5 3h1m-7 0h1m-7 0h1m-1-3h1m2 0h1m-4-3h1m2-3h1m-4 12h13"},null,-1),cn=[dn];function un(e,t){return s(),l("svg",ln,cn)}var vn={name:"teenyicons-border-bottom-outline",render:un};const hn={viewBox:"0 0 16 16",width:"1.2em",height:"1.2em"},mn=n("path",{fill:"currentColor",d:"M12 11h-1.586l-2.5-2.5l2.5-2.5H12v2.5L15.5 5L12 1.5V4h-2a.997.997 0 0 0-.707.293L6.5 7.086L3.707 4.293A1 1 0 0 0 3 4H0v2h2.586l2.5 2.5l-2.5 2.5H0v2h3c.265 0 .52-.105.707-.293L6.5 9.914l2.793 2.793A1 1 0 0 0 10 13h2v2.5l3.5-3.5L12 8.5V11z"},null,-1),pn=[mn];function gn(e,t){return s(),l("svg",hn,pn)}var fn={name:"icomoon-free-shuffle",render:gn};const _n={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},yn=n("path",{fill:"currentColor",d:"M12 2c5.523 0 10 4.477 10 10s-4.477 10-10 10S2 17.523 2 12S6.477 2 12 2Zm0 1.5a8.5 8.5 0 1 0 0 17a8.5 8.5 0 0 0 0-17Zm-1.25 9.94l4.47-4.47a.75.75 0 0 1 1.133.976l-.073.084l-5 5a.75.75 0 0 1-.976.073l-.084-.073l-2.5-2.5a.75.75 0 0 1 .976-1.133l.084.073l1.97 1.97l4.47-4.47l-4.47 4.47Z"},null,-1),bn=[yn];function wn(e,t){return s(),l("svg",_n,bn)}var kn={name:"fluent-checkmark-circle24-regular",render:wn};const zn={viewBox:"0 0 15 15",width:"1.2em",height:"1.2em"},$n=n("path",{fill:"currentColor","fill-rule":"evenodd",d:"M7.5.877a6.623 6.623 0 1 0 0 13.246A6.623 6.623 0 0 0 7.5.877ZM1.827 7.5a5.673 5.673 0 1 1 11.346 0a5.673 5.673 0 0 1-11.346 0Zm6.423-3a.75.75 0 1 1-1.5 0a.75.75 0 0 1 1.5 0ZM6 6h1.5a.5.5 0 0 1 .5.5V10h1v1H6v-1h1V7H6V6Z","clip-rule":"evenodd"},null,-1),Cn=[$n];function Sn(e,t){return s(),l("svg",zn,Cn)}var xn={name:"radix-icons-info-circled",render:Sn};const An={viewBox:"0 0 1408 1536",width:"1.2em",height:"1.2em"},Tn=n("path",{fill:"currentColor",d:"M512 608v576q0 14-9 23t-23 9h-64q-14 0-23-9t-9-23V608q0-14 9-23t23-9h64q14 0 23 9t9 23zm256 0v576q0 14-9 23t-23 9h-64q-14 0-23-9t-9-23V608q0-14 9-23t23-9h64q14 0 23 9t9 23zm256 0v576q0 14-9 23t-23 9h-64q-14 0-23-9t-9-23V608q0-14 9-23t23-9h64q14 0 23 9t9 23zm128 724V384H256v948q0 22 7 40.5t14.5 27t10.5 8.5h832q3 0 10.5-8.5t14.5-27t7-40.5zM480 256h448l-48-117q-7-9-17-11H546q-10 2-17 11zm928 32v64q0 14-9 23t-23 9h-96v948q0 83-47 143.5t-113 60.5H288q-66 0-113-58.5T128 1336V384H32q-14 0-23-9t-9-23v-64q0-14 9-23t23-9h309l70-167q15-37 54-63t79-26h320q40 0 79 26t54 63l70 167h309q14 0 23 9t9 23z"},null,-1),Mn=[Tn];function En(e,t){return s(),l("svg",An,Mn)}var Pn={name:"fa-trash-o",render:En};const Rn={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Ln=n("path",{fill:"currentColor",d:"M11.189 13.157L12.57 21H4a1 1 0 0 1-1-1v-5.398l8.189-1.445zM20 3a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1h-5.398L11.428 3H20zM9.397 3l1.444 8.188L3 12.57V4a1 1 0 0 1 1-1h5.397z"},null,-1),On=[Ln];function Fn(e,t){return s(),l("svg",Rn,On)}var Hn={name:"ri-collage-fill",render:Fn};const Vn={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},In=n("path",{d:"M16.939 10.939L12 15.879l-4.939-4.94l-2.122 2.122L12 20.121l7.061-7.06z",fill:"currentColor"},null,-1),Bn=n("path",{d:"M16.939 3.939L12 8.879l-4.939-4.94l-2.122 2.122L12 13.121l7.061-7.06z",fill:"currentColor"},null,-1),qn=[In,Bn];function Wn(e,t){return s(),l("svg",Vn,qn)}var Un={name:"bx-bxs-chevrons-down",render:Wn};const jn={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Dn=n("path",{d:"M12 3.879l-7.061 7.06l2.122 2.122L12 8.121l4.939 4.94l2.122-2.122z",fill:"currentColor"},null,-1),Zn=n("path",{d:"M4.939 17.939l2.122 2.122L12 15.121l4.939 4.94l2.122-2.122L12 10.879z",fill:"currentColor"},null,-1),Nn=[Dn,Zn];function Gn(e,t){return s(),l("svg",jn,Nn)}var Yn={name:"bx-bxs-chevrons-up",render:Gn};const Kn={viewBox:"0 0 20 20",width:"1.2em",height:"1.2em"},Xn=n("path",{fill:"currentColor",d:"M4 2a.5.5 0 0 0 0 1h11a.5.5 0 0 0 0-1H4Zm0 15a.5.5 0 0 0 0 1h11a.5.5 0 0 0 0-1H4ZM9.146 5.146a.5.5 0 0 1 .708 0l2 2a.5.5 0 0 1-.708.708L10 6.707v6.586l1.146-1.147a.5.5 0 0 1 .708.708l-2 2a.5.5 0 0 1-.708 0l-2-2a.5.5 0 0 1 .708-.708L9 13.293V6.707L7.854 7.854a.5.5 0 1 1-.708-.708l2-2Z"},null,-1),Jn=[Xn];function Qn(e,t){return s(),l("svg",Kn,Jn)}var es={name:"fluent-auto-fit-height20-regular",render:Qn};const ts={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},os=n("path",{fill:"currentColor",d:"M7.669 14.923a1 1 0 0 1 1.414 1.414l-2.668 2.667H8a1 1 0 0 1 .993.884l.007.116a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1v-4a1 1 0 1 1 2 0v1.587l2.669-2.668Zm8.336 6.081a1 1 0 1 1 0-2h1.583l-2.665-2.667a1 1 0 0 1-.083-1.32l.083-.094a1 1 0 0 1 1.414 0l2.668 2.67v-1.589a1 1 0 0 1 .883-.993l.117-.007a1 1 0 0 1 1 1v4a1 1 0 0 1-1 1h-4ZM8 3a1 1 0 0 1 0 2H6.417l2.665 2.668a1 1 0 0 1 .083 1.32l-.083.094a1 1 0 0 1-1.414 0L5 6.412V8a1 1 0 0 1-.883.993L4 9a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h4Zm12.005 0a1 1 0 0 1 1 1v4a1 1 0 1 1-2 0V6.412l-2.668 2.67a1 1 0 0 1-1.32.083l-.094-.083a1 1 0 0 1 0-1.414L17.589 5h-1.584a1 1 0 0 1-.993-.883L15.005 4a1 1 0 0 1 1-1h4Z"},null,-1),ns=[os];function ss(e,t){return s(),l("svg",ts,ns)}var as={name:"fluent-arrow-expand24-filled",render:ss};const is={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},rs=n("path",{fill:"currentColor",d:"M11 2v2.07A8.002 8.002 0 0 0 4.07 11H2v2h2.07A8.002 8.002 0 0 0 11 19.93V22h2v-2.07A8.002 8.002 0 0 0 19.93 13H22v-2h-2.07A8.002 8.002 0 0 0 13 4.07V2m-2 4.08V8h2V6.09c2.5.41 4.5 2.41 4.92 4.91H16v2h1.91c-.41 2.5-2.41 4.5-4.91 4.92V16h-2v1.91C8.5 17.5 6.5 15.5 6.08 13H8v-2H6.09C6.5 8.5 8.5 6.5 11 6.08M12 11a1 1 0 0 0-1 1a1 1 0 0 0 1 1a1 1 0 0 0 1-1a1 1 0 0 0-1-1Z"},null,-1),ls=[rs];function ds(e,t){return s(),l("svg",is,ls)}var cs={name:"mdi-target",render:ds};const us={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},vs=n("circle",{cx:"12",cy:"12",r:"3.2",fill:"currentColor"},null,-1),hs=n("path",{fill:"currentColor",d:"M9 2L7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-3.17L15 2H9zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5s5 2.24 5 5s-2.24 5-5 5z"},null,-1),ms=[vs,hs];function ps(e,t){return s(),l("svg",us,ms)}var gs={name:"ic-baseline-camera-alt",render:ps};const fs={viewBox:"0 0 256 256",width:"1.2em",height:"1.2em"},_s=n("path",{fill:"currentColor",d:"M168 120a11.9 11.9 0 0 1-5.1 9.8l-40 28a11.8 11.8 0 0 1-6.9 2.2a10.7 10.7 0 0 1-5.5-1.4A11.8 11.8 0 0 1 104 148V92a12 12 0 0 1 18.9-9.8l40 28a11.9 11.9 0 0 1 5.1 9.8Zm68-56v112a28.1 28.1 0 0 1-28 28H48a28.1 28.1 0 0 1-28-28V64a28.1 28.1 0 0 1 28-28h160a28.1 28.1 0 0 1 28 28Zm-24 0a4 4 0 0 0-4-4H48a4 4 0 0 0-4 4v112a4 4 0 0 0 4 4h160a4 4 0 0 0 4-4Zm-52 152H96a12 12 0 0 0 0 24h64a12 12 0 0 0 0-24Z"},null,-1),ys=[_s];function bs(e,t){return s(),l("svg",fs,ys)}var ws={name:"ph-monitor-play-bold",render:bs},Se={methods:{calculateCoverSize:function(e){return e=e||{},(parseFloat(e.canvasWidth||this.store.canvas.width)-parseFloat(e.paddingLeft||this.store.canvas.padding.left)-parseFloat(e.paddingRight||this.store.canvas.padding.right))/(e.coversPerRow||this.store.coversPerRow)-parseFloat(e.paddingSize||this.store.paddingSize)*2}}},ks={data:function(){return{saveProgressWidth:-1}},methods:{makeWallpaper:function(e){let t=this;t.store.saving||(t.saveProgressWidth=0,t.$store.commit("update",{key:"saving",value:!0}),t.$nextTick(function(){var o=new et,d=o.folder("covers");let c=this.coversArray();console.log(c),o.file("options.js",`window.wallpaperOptions = ${JSON.stringify(this.editorOptions(c.covers))};`);var a=[];a=a.concat(c.fetchCovers),_.get(window,"chunksFilePaths",[]);var m=["single-file-animated-wallpaper.html"];a=a.concat(m);let b=0;_.each(a,function(f){let x=_.get(f,"cover"),p=x||f;tt.getBinaryContent(p,function(C,F){if(C)throw C;if(F&&!x){var q=f,R=q.substring(q.lastIndexOf("/")+1);o.file(R,F,{binary:!0})}else F&&d.file(f.asin+".jpg",F,{binary:!0});b++,b==a.length&&o.generateAsync({type:"blob",streamFiles:!0},function(B){t.saveProgressWidth=B.percent}).then(function(I){let B=t.store.gallery.pageTitle?"-"+_.kebabCase(t.store.gallery.pageTitle):"";ot.exports.saveAs(I,"ale-animated-wallpaper"+B+".zip"),setTimeout(function(){t.$store.commit("update",{key:"saving",value:!1}),t.saveProgressWidth=-1,t.$nextTick(function(){})},1e3)}).catch(function(I){setTimeout(function(){t.$store.commit("update",{key:"saving",value:!1}),t.saveProgressWidth=-1,t.$nextTick(function(){})},1e3)})})})}))},coversArray:function(){let e=this.store.covers;return this.store.excludeArchived&&(e=_.filter(e,function(t){return!t.inArchive})),{fetchCovers:e,covers:_.map(e,function(t){return"covers/"+t.asin+".jpg"})}},editorOptions:function(e){let t={};return t.covers={},t.covers.all=e,t.covers.size=this.store.coverSize>0?parseFloat(this.store.coverSize):0,t.covers.perRow=this.store.coversPerRow>-1?parseFloat(this.store.coversPerRow):0,t.covers.padding=this.store.paddingSize>-1?parseFloat(this.store.paddingSize):0,t.covers.dropOverflowingRow=this.store.awpDropOverflowingRow,t.canvas={},t.canvas.width=this.store.canvas.width>-1?parseFloat(this.store.canvas.width):0,t.canvas.height=this.store.canvas.height>-1?parseFloat(this.store.canvas.height):0,t.canvas.overlayColor=this.store.awpOverlayColorEnabled?this.store.awpOverlayColor:null,t.canvas.overlayBlendmode=this.store.awpOverlayColorEnabled?this.store.awpBlendModes:null,t.canvas.grayscale=this.store.awpGrayscale,t.canvas.grayscaleContrast=this.store.awpGrayscaleContrast,t.canvas.background=this.store.canvas.background,t.canvas.padding={},t.canvas.padding.left=this.store.canvas.padding.left>-1?parseFloat(this.store.canvas.padding.left):0,t.canvas.padding.top=this.store.canvas.padding.top>-1?parseFloat(this.store.canvas.padding.top):0,t.canvas.padding.right=this.store.canvas.padding.right>-1?parseFloat(this.store.canvas.padding.right):0,t.canvas.padding.bottom=this.store.canvas.padding.bottom>-1?parseFloat(this.store.canvas.padding.bottom):0,t.canvas.alignmentVertical=this.store.canvas.alignmentVertical,t.prioritizeCoversPerRow=this.store.prioritizeCoversPerRow,t.awpOverlayColorEnabled=this.store.awpOverlayColorEnabled,t.awpBlendMode=this.store.awpBlendMode,t.awpOverlayColor=this.store.awpOverlayColor,this.$emitter.emit("get-animation"),t.animation=this.store.animation,t},makeIndexHTML:function(e){const t=this.store.awpBlendMode!=="normal"?"mix-blend-mode: "+this.store.awpBlendMode+";":"",o=this.store.awpOverlayColorEnabled?`
      #color-overlay { 
        will-change: transform;
        background: ${this.store.awpOverlayColor}; 
        ${t}
        position: fixed;
        z-index: 99999;
        top: 0;
        right: 0;
        bottom: 0;
        left: 0;
        width: 100%;
        height: 100%;
        -webkit-touch-callout: none; 
        -webkit-user-select: none; 
        -khtml-user-select: none; 
        -moz-user-select: none; 
        -ms-user-select: none; 
        user-select: none; 
      }
      `:"";return`
      <!DOCTYPE html>
      <html lang="en">
      <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="ie=edge">
        <title>ALE \u2022 Animated Wallpaper</title>
        <style>
        html, body, #awp {
          overscroll-behavior: none;
          background-color: ${this.store.canvas.background};
        }
        ${o}
        </style>
        
        <link rel="stylesheet" href="animated-wallpaper.css">
        <script id="optionsData" type="application/json">
          ${JSON.stringify(this.editorOptions(e))}
        <\/script>
      </head>
      <body>
        
        ${this.store.awpOverlayColorEnabled?'<div id="color-overlay"></div>':""}
        <div id="animated-wallpaper"></div>
        <script type="module" src="./assets/animated-wallpaper.js"><\/script>
        
      </body>
      </html>      
      `}}},zs={data:function(){return{}},methods:{makeImage:function(){var e=this;e.store.saving||(this.setCoverLimitToVisible(),e.$emitter.emit("hide-moveable-controls"),e.$store.commit("update",{key:"saving",value:!0}),e.$nextTick(function(){let t=this,o=t.store.compressImage?"toJpeg":"toPng",d=t.store.compressImage?parseFloat(t.store.compressQuality):null;t.store.compressImage;let c=t.store.compressImage?".jpg":".png",a=t.store.canvas.zoomOutputs?t.store.canvas.outputScale:1,m=document.querySelector(".editor-canvas"),b="ALE image"+c;nt[o](m,{quality:d,pixelRatio:a}).then(function(f){st(f,b),setTimeout(function(){t.$store.commit("update",{key:"saving",value:!1}),t.$nextTick(function(){})},500)})}))},setCoverLimitToVisible:function(){let e=parseFloat(this.store.coverSize)+parseFloat(this.store.paddingSize)*2,t=document.querySelector("#editor-canvas-left .canvas-bounds"),o={padding:{left:parseFloat(this.store.canvas.padding.left),top:parseFloat(this.store.canvas.padding.top),right:parseFloat(this.store.canvas.padding.right),bottom:parseFloat(this.store.canvas.padding.bottom)}};o.width=t.offsetWidth-o.padding.left-o.padding.right,o.height=t.offsetHeight-o.padding.top-o.padding.bottom;let d=parseFloat(this.store.coverAmount),c=o.height>e?Math.ceil(o.height/e):1,a=o.width>e?Math.floor(o.width/e):1;d<a&&(a=d);let f=a*c;this.store.usedCovers.length>f&&this.$store.commit("update",[{key:"usedCovers",value:this.store.covers.slice(0,f)},{key:"coverAmount",value:f}])}}};const $s={name:"toolbar",components:{ToolbarTextElements:Ce,spacer:$e,Multiselect:at,NConfigProvider:G,NButton:te,NButtonGroup:it,NSwitch:oe,NDivider:ce,NSelect:ue,NAlert:ne,NInputNumber:ve,NSlider:he,NSpace:se,NCheckbox:ae,NCard:me,NTabs:rt,NTabPane:lt,NProgress:dt},mixins:[Se,ks,zs],data:function(){return{store:this.$store.state,slidingTimer:null,saveProgressWidth:-1,darkTheme:J,spaceGapSize:20}},computed:{outputWidthZoomSize:function(){if(this.store.canvas.scaled.width&&!this.store.canvas.scaled.height)return"Estimated width: "+this.store.canvas.scaled.width+"px";if(this.store.canvas.scaled.width&&this.store.canvas.scaled.height)return"Estimated size: "+this.store.canvas.scaled.width+"x"+this.store.canvas.scaled.height+"px"},canvasWidth:{get:function(){return this.store.canvas.width},set:_.throttle(function(e){this.$store.commit("update",{key:"canvas.width",value:e})},200,{leading:!1,trailing:!0})},canvasWidth:{get:function(){return this.store.canvas.height},set:_.throttle(function(e){this.$store.commit("update",{key:"canvas.height",value:e})},200,{leading:!1,trailing:!0})},coverSize:{get:function(){return this.store.coverSize},set:_.throttle(function(e){this.$store.commit("update",{key:"coverSize",value:e})},200,{leading:!1,trailing:!0})},coversPerRow:{get:function(){return this.store.coversPerRow},set:_.throttle(function(e){this.$store.commit("update",{key:"coversPerRow",value:e})},200,{leading:!1,trailing:!0})},canvasPadding:{get:function(){var e=[parseFloat(this.store.canvas.padding.left),parseFloat(this.store.canvas.padding.top),parseFloat(this.store.canvas.padding.right),parseFloat(this.store.canvas.padding.bottom)];return _.maxBy(e)},set:_.throttle(function(e){this.$store.commit("update",[{key:"canvas.padding.left",value:e},{key:"canvas.padding.top",value:e},{key:"canvas.padding.right",value:e},{key:"canvas.padding.bottom",value:e}])},50,{leading:!0,trailing:!0})},prioritizeCoversPerRow:{get:function(){return this.store.prioritizeCoversPerRow},set:function(e){this.$store.commit("update",{key:"prioritizeCoversPerRow",value:e})}},zoomPercentage:function(){var e=this.store.canvas.zoom==0?1:this.store.canvas.zoom;return Math.floor(e*100)},qualityPercentage:function(){let e=parseFloat(this.store.compressQuality);return Math.floor(e*100)},scalePercentage:function(){let e=parseFloat(this.store.canvas.outputScale);return Math.floor(e*100)}},watch:{"store.coversPerRow":function(e){let t=this.calculateCoverSize({coversPerRow:e});this.$store.commit("update",{key:"coverSize",value:t})},"store.canvas.width":function(e){let t=this.calculateCoverSize({canvasWidth:e});this.$store.commit("update",{key:"coverSize",value:t})},"store.canvas.padding.left":function(e){let t=this.calculateCoverSize({paddingLeft:e});this.$store.commit("update",{key:"coverSize",value:t}),this.store.slidingAround||this.$store.commit("update",{key:"slidingAround",value:"left"})},"store.canvas.padding.right":function(e){let t=this.calculateCoverSize({paddingRight:e});this.$store.commit("update",{key:"coverSize",value:t}),this.store.slidingAround||this.$store.commit("update",{key:"slidingAround",value:"right"})},"store.canvas.padding.top":function(e){this.store.slidingAround||this.$store.commit("update",{key:"slidingAround",value:"top"})},"store.canvas.padding.bottom":function(e){this.store.slidingAround||this.$store.commit("update",{key:"slidingAround",value:"bottom"})},"store.paddingSize":function(e){this.store.slidingAround||this.$store.commit("update",{key:"slidingAround",value:"paddingSize"});let t=this.calculateCoverSize({paddingSize:e});this.$store.commit("update",{key:"coverSize",value:t})},"store.slidingAround":_.debounce(function(e){console.log("sliding",e),e&&this.$store.commit("update",{key:"slidingAround",value:null})},1500,{leading:!1,trailing:!0})},methods:{randomizeCovers:function(){let e=_.shuffle(this.store.covers);this.$store.commit("update",[{key:"covers",value:e},{key:"usedCovers",value:e.slice(0,this.$store.state.coverAmount)}])},toMS:function(e){return e*1e3},toSec:function(e){return e/1e3},excludeArchivedChanged:function(e){this.$store.commit("update",{key:"excludeArchived",value:e});let t=e?_.filter(this.store.covers,function(o){return!o.inArchive}):this.store.covers;t=t.slice(0,this.store.coverAmount||1),this.$store.commit("update",[{key:"usedCovers",value:t}])},inputFocused:function(){this.$store.commit("update",[{key:"events.textNudge",value:!1},{key:"events.textRemove",value:!1},{key:"events.canvasPanning",value:!1}])},inputBlurred:function(){this.$store.commit("update",[{key:"events.textNudge",value:!0},{key:"events.textRemove",value:!0},{key:"events.canvasPanning",value:!0}])},fitCanvasToContent:function(){let e=[{key:"canvas.height",value:0}];this.store.usedCovers.length<this.store.coversPerRow&&e.push({key:"coversPerRow",value:this.store.usedCovers.length}),this.$store.commit("update",e)},slidingAround:_.throttle(function(e,t){this.$store.commit("update",{key:"slidingAround",value:e})},250,{leading:!0,trailing:!0}),inputChanged:function(e,t){if(clearTimeout(this.slidingTimer),e.match("canvas.padding.")||e==="paddingSize"){this.slidingAround(e,t);let d=this;d.slidingTimer=setTimeout(function(){d.$store.commit("update",{key:"slidingAround",value:null})},1e3)}const o=t===""?t:parseFloat(t);this.$store.commit("update",{key:e,value:o}),e==="coverAmount"&&(this.$store.commit("update",{key:"usedCovers",value:this.store.covers.slice(0,this.store.coverAmount)}),this.$nextTick(function(){}))},coverPlaceholders:function(e){this.$store.commit("updateCoverPlaceholders",e)},canvasFitChanged:function(){var e=this.store.canvas.width,t=this.store.canvas.height;this.$store.commit("update",[{key:"canvas.width",value:null},{key:"canvas.height",value:null}]),this.$nextTick(function(){this.$store.commit("update",[{key:"canvas.width",value:e},{key:"canvas.height",value:t}])})},openLink(e){window.open(e,"_blank")},listify(e){return _.map(e,t=>({value:t,label:t}))}}},y=e=>(ie("data-v-737ee4c7"),e=e(),re(),e),Cs={class:"button-container"},Ss=["disabled"],xs=["disabled","content"],As={class:"zoom-container"},Ts=["value"],Ms={key:0,class:"mode-switcher"},Es=g(" \xA0 Change preset "),Ps={key:0,style:{"text-align":"center"}},Rs=g(" Wallpaper installation instructions "),Ls=y(()=>n("h6",null,"Animation settings",-1)),Os={class:"animation-names-container"},Fs=g(" \xA0 Clear all animations "),Hs={style:{height:"22px",cursor:"help"}},Vs=["content"],Is={class:"covers-this-cycle"},Bs={class:"progress-bar"},qs=y(()=>n("div",{class:"fill-overlay"},null,-1)),Ws=g(" .fill-overlay { display: inline-block !important; left: 0 !important; } "),Us={class:"label-row"},js=y(()=>n("span",null,"Animate immediately on load",-1)),Ds={class:"label-row"},Zs=y(()=>n("span",null,"Animation Cycle (sec) ",-1)),Ns={class:"label-row",content:"A percentage of the animation cycle where covers are animated. Settings this to 0 animates covers immediately at the beginning of the cycle."},Gs=y(()=>n("span",null,"Animation Zone (%) ",-1)),Ys={class:"label-row"},Ks=y(()=>n("span",null,"Covers per cycle",-1)),Xs={class:"label-row",content:'Cover amount is randomized for every cycle. The setting above "Covers per cycle" defines the maximum amount.'},Js=g("Randomize covers "),Qs={key:0},ea={class:"label-row",content:"<strong>Enabled:</strong> covers animate randomly within the animation zone. <br><strong>Disabled:</strong> cover animations are spread evenly across the animation zone."},ta=y(()=>n("span",null,"Randomize cover delay",-1)),oa={class:"label-row",content:"<strong>Enabled:</strong> covers animate in order starting from top left. <br><strong>Disabled:</strong> animated covers are picked randomly."},na=y(()=>n("span",null,"Sequential animation",-1)),sa=y(()=>n("h6",null,"Covers per row (columns)",-1)),aa=g(" The more you upsize the more quality loss there will be. You can choose to ignore this, or you can try lowering canvas width or increasing covers per row. "),ia=g(" visible covers have been duplicated in order for the animated wallpaper to function. "),ra=y(()=>n("br",null,null,-1)),la=y(()=>n("br",null,null,-1)),da=g(` This basically means that you should already see duplicate covers on load and it's not going to get any better when the covers start to animate. If you don't like what you see, try lowering the "Covers per row" setting or consider using another source for the cover images if possible. `),ca=y(()=>n("br",null,null,-1)),ua=y(()=>n("br",null,null,-1)),va=g(" Ideally the total number of covers would be visible covers x3 or more. "),ha=g(" Prioritize covers per row "),ma=g(" Excess covers are removed from the tail end. "),pa=g(" Randomize covers "),ga=g(" \xA0 shuffle "),fa=y(()=>n("h6",null,"Canvas size",-1)),_a={class:"label-row",style:{"padding-left":"58px"}},ya={class:"label-row",content:"Width is always required"},ba=y(()=>n("span",{style:{width:"50px"}},"Width:",-1)),wa={class:"label-row",style:{"padding-left":"58px"}},ka={class:"label-row",content:"Set the height to 0 when you don't need to limit it to a certain height."},za=y(()=>n("span",{style:{width:"50px"}},"Height:",-1)),$a=g(" \xA0 Covers Fit "),Ca=g(" \xA0 Covers Fill "),Sa=g(" \xA0 Fit canvas size to covers "),xa=g(' In this "animated wallpaper" mode the canvas size is for preview purposes only, as the animated wallpaper will fit itself to any screen size. '),Aa=g(" The more you upsize the more quality loss there will be. You can choose to ignore this, or you can try lowering canvas width or increasing covers per row. "),Ta={key:5,content:"You might want to use this when adding padding around the canvas"},Ma=y(()=>n("span",null,"Remove overflowing row",-1)),Ea={key:6},Pa=y(()=>n("span",null,"Covers alignment",-1)),Ra={class:"align-canvas label-row no-padding",style:{"padding-left":"0px",width:"85px",flex:"unset"}},La={content:"Horizontal alignment aligns the last row if it's not full. If you want to offset horizontally, you can change left or right canvas padding. <br><br>Vertical alignment aligns the covers as a group, but only if the canvas height is set."},Oa=y(()=>n("span",null,"Covers alignment",-1)),Fa=[Oa],Ha={class:"align-canvas label-row no-padding",style:{"padding-left":"0px",width:"100%",flex:"unset"}},Va=y(()=>n("span",null,"Canvas background color",-1)),Ia={content:"Overlay is recommended if you're making a desktop wallpaper and plan to have icons on top of it."},Ba={class:"label-row",content:"You can adjust the strength of the effect by lowering the overlay color opacity. Opacity is controlled by the second slider in the color picker."},qa=y(()=>n("span",null,"Blend mode",-1)),Wa=y(()=>n("span",null,"Grayscale",-1)),Ua=y(()=>n("h6",null,"Canvas padding",-1)),ja={class:"label-row"},Da=y(()=>n("span",{class:"gb-field-message__message",style:{display:"inline-block",width:"55px"}},"left",-1)),Za={class:"label-row"},Na=y(()=>n("span",{class:"gb-field-message__message",style:{display:"inline-block",width:"55px"}},"top",-1)),Ga={class:"label-row"},Ya=y(()=>n("span",{class:"gb-field-message__message",style:{display:"inline-block",width:"55px"}},"right",-1)),Ka={class:"label-row"},Xa=y(()=>n("span",{class:"gb-field-message__message",style:{display:"inline-block",width:"55px"}},"bottom",-1)),Ja=y(()=>n("h6",null,"Cover padding",-1)),Qa={class:"label-row no-padding"},ei=y(()=>n("h6",null,"Border radius",-1)),ti={class:"label-row no-padding"},oi=y(()=>n("span",null,"Re-read label (relisten) ",-1)),ni=y(()=>n("h4",{style:{margin:"0 !important"}},"Offset:",-1)),si={class:"label-row"},ai=y(()=>n("span",{style:{width:"45px"}},"Right",-1)),ii={class:"label-row"},ri=y(()=>n("span",{style:{width:"45px"}},"Bottom",-1)),li=g(" No books marked re-read! Click a cover and use the button that appears on the top right. "),di=y(()=>n("span",null,"Show My Rating",-1)),ci=y(()=>n("span",null,"Show Favorites",-1)),ui=y(()=>n("span",null,"Show author & title",-1)),vi={key:0,class:"label-row"},hi=y(()=>n("span",null,"Author & title color",-1)),mi={key:1,class:"label-row"},pi=y(()=>n("span",null,"Author & title size",-1)),gi={key:12},fi=y(()=>n("h6",null,"Reduce file size",-1)),_i=g(" Compressed image is saved as a "),yi=g(", which doesn't support transparency. "),bi=y(()=>n("br",null,null,-1)),wi=y(()=>n("br",null,null,-1)),ki=g(" Disable compression in order to save the image as a "),zi=g(" that does support a transparent background color. "),$i={class:"label-row"},Ci=y(()=>n("span",null,"Compress image",-1)),Si={style:{display:"flex","justify-content":"flex-end"}},xi={key:0,class:"label-row"},Ai={class:"compress-quality-text"},Ti=g(" Make sure to pay extra attention to the saved image quality when setting the quality below 80%. "),Mi=y(()=>n("span",null,"Scaled output",-1)),Ei={class:"label-row"},Pi={class:"compress-quality-text"},Ri={style:{display:"flex","justify-content":"center","align-items":"center"}},Li=g(" .5x "),Oi=g(" .75x "),Fi=g(" 1x "),Hi=g(" 1.5x "),Vi=g(" 2x "),Ii=g(" 3x "),Bi=y(()=>n("br",null,null,-1)),qi={key:1,class:"saving-container"},Wi=y(()=>n("div",{class:"saving-spnr",style:{width:"60px",height:"60px","background-size":"60px"}},null,-1)),Ui={key:1,class:"saving-spnr"};function ji(e,t,o,d,c,a){const m=ws,b=gs,f=cs,x=as,p=es,C=Yn,F=Un,q=Hn,R=k("n-button"),I=k("n-select"),B=k("n-tab-pane"),Z=Pn,D=k("n-tabs"),z=k("n-space"),N=xn,H=k("n-switch"),L=k("n-input-number"),P=k("n-slider"),$=k("n-alert"),O=k("n-checkbox"),M=kn,Re=fn,Le=vn,Oe=rn,Fe=tn,He=Ko,Ve=Do,Ie=Bo,Be=ze,qe=ke,We=we,Ue=be,je=ye,De=_e,ee=fe,Ze=Ce,Ne=k("n-button-group"),Ge=k("n-progress"),Ye=k("n-config-provider"),E=Y("tippy");return s(),h(Ye,{theme:e.darkTheme,class:A(["right toolbar",{"toolbar-collapsed":e.store.toolbarCollapsed}])},{default:u(()=>[n("div",Cs,[e.store.animatedWallpaperMode?S((s(),l("button",{key:0,class:"save-btn",disabled:e.store.saving,onClick:t[0]||(t[0]=(...i)=>e.makeWallpaper&&e.makeWallpaper(...i)),content:"<strong>Save animated wallpaper as a .zip file.</strong> <br>You need to then unpack the zip and point the animated wallpaper application to the index.html file inside the folder."},[r(m)],8,Ss)),[[E,{allowHTML:!0}]]):S((s(),l("button",{key:1,class:"save-btn",disabled:e.store.saving,onClick:t[1]||(t[1]=(...i)=>e.makeImage&&e.makeImage(...i)),content:"Save image as a"+(e.store.compressImage?".jpg":".png file.")},[r(b)],8,xs)),[[E]])]),S(n("div",As,[n("input",{class:"zoom-zoom",type:"range",min:"0.1",max:"3",value:e.store.canvas.zoom,onInput:t[2]||(t[2]=i=>e.$emitter.emit("canvas-zoom",i.target.value)),step:".01",onDblclick:t[3]||(t[3]=i=>e.$emitter.emit("canvas-reset-zoom"))},null,40,Ts),S((s(),l("div",{content:"Click to reset to 100% zoom",class:A(["zoom-text",{highlight:e.store.canvas.zoom!=1}]),onClick:t[4]||(t[4]=i=>e.$emitter.emit("canvas-reset-zoom"))},[g(w(a.zoomPercentage)+"% ",1)],2)),[[E]]),S((s(),l("div",{class:"center-canvas",onClick:t[5]||(t[5]=i=>e.$emitter.emit("canvas-center")),content:"Center canvas to the viewport"},[r(f)])),[[E]]),S((s(),l("div",{class:"zoom-to-fit",onClick:t[6]||(t[6]=i=>e.$emitter.emit("canvas-fit")),content:"Fit canvas inside the viewport"},[r(x)])),[[E]]),S((s(),l("div",{class:"zoom-to-fit-width",onClick:t[7]||(t[7]=i=>e.$emitter.emit("canvas-fit","width")),content:"Fit canvas width inside the viewport"},[r(p)])),[[E]]),n("div",{class:"collapse-toolbar",onClick:t[8]||(t[8]=i=>e.$store.commit("update",{key:"toolbarCollapsed",value:!e.store.toolbarCollapsed}))},[e.store.toolbarCollapsed?(s(),h(F,{key:1})):(s(),h(C,{key:0}))])],512),[[X,!e.store.saving]]),e.store.saving?v("",!0):(s(),l("div",Ms,[r(R,{type:"success",style:{"border-radius":"999px"},onClick:t[9]||(t[9]=i=>{e.$store.commit("update",{key:"presetModalOpen",value:!0})})},{default:u(()=>[r(q),Es]),_:1})])),n("div",{class:A(["toolbar-inner",{saving:e.store.saving,"hide-hints":!e.store.showHints}])},[e.store.saving?(s(),l("div",qi,[e.saveProgressWidth>-1?(s(),h(Ge,{key:0,type:"circle",percentage:Math.round(e.saveProgressWidth)},{default:u(()=>[Wi]),_:1},8,["percentage"])):(s(),l("div",Ui))])):(s(),h(z,{key:0,vertical:"",size:e.spaceGapSize},{default:u(()=>[e.store.animatedWallpaperMode?(s(),l("div",Ps,[r(R,{type:"error",style:{"border-radius":"999px"},onClick:t[10]||(t[10]=i=>a.openLink("https://joonaspaakko.gitbook.io/audible-library-extractor/wallpaper-creator/general-info/animated-wallpapers"))},{default:u(()=>[Rs]),_:1})])):v("",!0),e.store.animatedWallpaperMode&&e.store.animationPresets?(s(),h(z,{key:1,vertical:"",size:e.spaceGapSize,style:{position:"relative","z-index":"10"}},{default:u(()=>[Ls,r(D,{type:"line",animated:""},{default:u(()=>[r(B,{name:"presets",tab:"Presets"},{default:u(()=>[r(I,{value:e.store.animationPreset,"onUpdate:value":t[11]||(t[11]=i=>e.store.animationPreset=i),options:e.store.animationPresets},null,8,["value","options"])]),_:1}),r(B,{name:"animations",tab:"Individual animations"},{default:u(()=>[n("div",Os,[r(I,{value:e.store.awpAnimation,"onUpdate:value":t[12]||(t[12]=i=>e.store.awpAnimation=i),options:a.listify(e.store.awpAnimations),multiple:"","show-arrow":!1,placeholder:"Pick animations"},null,8,["value","options"])]),e.store.awpAnimation&&e.store.awpAnimation.length?(s(),h(R,{key:0,strong:"",secondary:"",round:"",type:"warning",style:{"margin-top":"10px"},onClick:t[13]||(t[13]=i=>e.$store.commit("update",{key:"awpAnimation",value:[]}))},{default:u(()=>[r(Z),Fs]),_:1})):v("",!0)]),_:1})]),_:1})]),_:1},8,["size"])):v("",!0),e.store.animatedWallpaperMode?(s(),h(z,{key:2,vertical:"",size:12},{default:u(()=>[n("div",Hs,[e.store.awpAnimationStarted?S((s(),l("div",{key:0,class:"label-row time-until-next-cycle",content:`
              <strong>Number:</strong> ${e.store.awpShowAnimationZone&&e.store.awpAnimatedCoversLength||0} covers animated in this cycle. <br /> 
              <strong style='color: #48c86d;'>GREEN (animation zone):</strong> animations happen in this section. <br />
              <strong style='color: #ff2956;'>RED:</strong> time until next cycle begins.
              <br /><br />
              The line as a whole represents one full "animation cycle"
            `},[n("span",Is,w(e.store.awpShowAnimationZone&&e.store.awpAnimatedCoversLength||0),1),n("div",Bs,[n("div",{class:A(["fill",{animate:e.store.awpCycleDelay}])},null,2),qs]),r(N,{style:{"padding-left":"10px"}}),e.store.awpShowAnimationZone&&e.store.awpAnimationZone>-1?(s(),h(K("style"),{key:0},{default:u(()=>[g(" .time-until-next-cycle .progress-bar:after { display: inline-block !important; left: "+w(e.store.awpAnimationZone)+"% !important; } .time-until-next-cycle .progress-bar:before { display: inline-block !important; width: "+w(e.store.awpAnimationZone)+"% !important; } .fill-overlay { display: inline-block !important; left: "+w(e.store.awpAnimationZone)+"% !important; } ",1)]),_:1})):v("",!0),e.store.awpShowAnimationZone?v("",!0):(s(),h(K("style"),{key:1},{default:u(()=>[Ws]),_:1})),e.store.awpAnimationStarted&&e.store.awpCycleDelay?(s(),h(K("style"),{key:2},{default:u(()=>[g(" .time-until-next-cycle .progress-bar .fill.animate { -webkit-animation-duration: "+w(e.store.awpCycleDelay)+"s !important; animation-duration: "+w(e.store.awpCycleDelay)+"s !important; } ",1)]),_:1})):v("",!0)],8,Vs)),[[E,{placement:"top",allowHTML:!0}]]):v("",!0)]),n("div",Us,[js,r(H,{size:"small",value:e.store.awpAnimateOnLoad,"onUpdate:value":t[14]||(t[14]=i=>e.store.awpAnimateOnLoad=i),style:{"justify-content":"flex-end"}},null,8,["value"])]),n("div",Ds,[Zs,r(L,{size:"small",value:e.store.awpCycleDelay,"onUpdate:value":t[15]||(t[15]=i=>e.store.awpCycleDelay=i),min:0,step:1},null,8,["value"])]),S((s(),l("div",Ns,[Gs,r(P,{value:e.store.awpAnimationZone,"onUpdate:value":t[16]||(t[16]=i=>e.store.awpAnimationZone=i),min:0,max:100,step:1,tooltip:!0},null,8,["value"])])),[[E]]),n("div",Ys,[Ks,r(L,{size:"small",value:e.store.awpCoversPerCycle,"onUpdate:value":t[17]||(t[17]=i=>e.store.awpCoversPerCycle=i),min:1,step:1},null,8,["value"])]),S((s(),l("div",Xs,[n("span",null,[Js,e.store.awpRandomCovers?(s(),l("span",Qs,"(1-"+w(e.store.awpCoversPerCycle)+")",1)):v("",!0)]),r(H,{size:"small",value:e.store.awpRandomCovers,"onUpdate:value":t[18]||(t[18]=i=>e.store.awpRandomCovers=i),style:{"justify-content":"flex-end"}},null,8,["value"])])),[[E]]),S((s(),l("div",ea,[ta,r(H,{size:"small",value:e.store.awpRandomDelay,"onUpdate:value":t[19]||(t[19]=i=>e.store.awpRandomDelay=i),style:{"justify-content":"flex-end"}},null,8,["value"])])),[[E]]),S((s(),l("div",oa,[na,r(H,{size:"small",value:e.store.awpSequential,"onUpdate:value":t[20]||(t[20]=i=>e.store.awpSequential=i),style:{"justify-content":"flex-end"}},null,8,["value"])])),[[E]])]),_:1})):v("",!0),r(z,{vertical:"",size:e.spaceGapSize},{default:u(()=>[sa,r(L,{value:e.store.coversPerRow,"onUpdate:value":t[21]||(t[21]=i=>e.store.coversPerRow=i),min:1,step:1},null,8,["value"]),r(P,{value:e.store.coversPerRow,"onUpdate:value":t[22]||(t[22]=i=>e.store.coversPerRow=i),min:1,max:25,step:1,tooltip:!1},null,8,["value"]),e.store.coverSize>500?(s(),h($,{key:0,title:"Cover upsized by "+Math.floor(e.store.coverSize/500*100)+"%",type:"warning"},{default:u(()=>[aa]),_:1},8,["title"])):v("",!0),e.store.animatedWallpaperMode&&e.store.visibleAnimatedCovers>e.store.covers.length?(s(),h($,{key:1,type:"warning"},{default:u(()=>[n("strong",null,w(e.store.visibleAnimatedCovers-e.store.covers.length)+"/"+w(e.store.visibleAnimatedCovers),1),ia,ra,la,da,ca,ua,va]),_:1})):v("",!0),e.store.animatedWallpaperMode?(s(),h(z,{key:2,vertical:"",size:e.spaceGapSize},{default:u(()=>[r(O,{checked:e.store.prioritizeCoversPerRow,"onUpdate:checked":t[23]||(t[23]=i=>e.store.prioritizeCoversPerRow=i)},{default:u(()=>[ha]),_:1},8,["checked"]),e.store.prioritizeCoversPerRow?(s(),h($,{key:0,type:"default"},{icon:u(()=>[r(M,{style:{color:"#63e2b8","padding-top":"5px"}})]),default:u(()=>[g(" No matter what screen resolution you have, the wallpaper will always have "+w(e.store.coversPerRow)+" columns. ",1)]),_:1})):(s(),h($,{key:1,type:"warning",title:"This will only affect the output"},{default:u(()=>[g("The current cover size ~"+w(Math.round(e.store.coverSize))+'px is prioritized over preferred "covers per row" no matter what the screen resolution is. ',1)]),_:1}))]),_:1},8,["size"])):v("",!0)]),_:1},8,["size"]),e.store.animatedWallpaperMode?v("",!0):(s(),h(z,{key:3,vertical:"",size:e.spaceGapSize},{default:u(()=>[n("h6",null,[n("span",{style:T({color:e.store.covers.length>e.store.coverAmount?"#ffc02b":null})}," Limit covers ",4),n("span",null,w(e.store.coverAmount)+"/"+w(e.store.covers.length),1)]),r(L,{value:e.store.coverAmount,"onUpdate:value":t[24]||(t[24]=i=>e.store.coverAmount=i),min:1,max:e.store.covers.length,step:1},null,8,["value","max"]),r(P,{value:e.store.coverAmount,"onUpdate:value":t[25]||(t[25]=i=>e.store.coverAmount=i),min:1,max:e.store.covers.length,step:1,tooltip:!1},null,8,["value","max"]),r($,{type:"info"},{default:u(()=>[ma]),_:1})]),_:1},8,["size"])),e.store.animatedWallpaperMode?v("",!0):(s(),h(z,{key:4,vertical:"",size:e.spaceGapSize},{default:u(()=>[n("h6",null,[pa,S((s(),h(R,{strong:"",secondary:"",type:"info",onClick:a.randomizeCovers,content:"Randomizes all covers from the source data. You might want to use this before manual sorting."},{default:u(()=>[r(Re),ga]),_:1},8,["onClick"])),[[E]])])]),_:1},8,["size"])),r(z,{vertical:"",size:e.spaceGapSize},{default:u(()=>[fa,n("div",_a,[r(P,{value:e.store.canvas.width,"onUpdate:value":t[26]||(t[26]=i=>e.store.canvas.width=i),min:1,max:1920,step:1,tooltip:!1},null,8,["value"])]),S((s(),l("div",ya,[ba,r(L,{value:e.store.canvas.width,"onUpdate:value":t[27]||(t[27]=i=>e.store.canvas.width=i),min:1,step:1},null,8,["value"])])),[[E]]),n("div",wa,[r(P,{value:e.store.canvas.height,"onUpdate:value":t[28]||(t[28]=i=>e.store.canvas.height=i),min:0,max:1080,step:1,tooltip:!1},null,8,["value"])]),S((s(),l("div",ka,[za,r(L,{value:e.store.canvas.height,"onUpdate:value":t[29]||(t[29]=i=>e.store.canvas.height=i),min:0,step:1},null,8,["value"])])),[[E]]),e.store.canvas.height==0?(s(),h($,{key:0,type:"info"},{default:u(()=>[g(" 0 height = content height ("+w(e.store.canvas.autoHeight)+"px) ",1)]),_:1})):v("",!0),!e.store.animatedWallpaperMode&&e.store.canvas.height>0?(s(),h(z,{key:1,size:e.spaceGapSize,style:{"text-align":"center","flex-flow":"row"}},{default:u(()=>[S((s(),h(R,{strong:"",type:"info",style:{"box-sizing":"border-box"},onClick:t[30]||(t[30]=i=>e.fillCanvasWithCovers("fit")),content:"Sets visible cover amount based on how many covers <strong>fit</strong> inside the canvas.",disabled:e.store.showAuthorAndTitle},{default:u(()=>[r(Le),$a]),_:1},8,["disabled"])),[[E]]),S((s(),h(R,{strong:"",type:"info",style:{"box-sizing":"border-box"},onClick:e.fillCanvasWithCovers,content:"Sets visible cover amount based on how many covers <strong>fill</strong> inside the canvas.",disabled:e.store.showAuthorAndTitle},{default:u(()=>[r(Oe),Ca]),_:1},8,["onClick","disabled"])),[[E]])]),_:1},8,["size"])):v("",!0),!e.store.animatedWallpaperMode&&e.store.canvas.height>0?S((s(),h(R,{key:2,strong:"",type:"info",style:{width:"100%"},onClick:a.fitCanvasToContent,content:"Sets visible cover amount based on how many covers <strong>fit</strong> inside the canvas.",disabled:e.store.showAuthorAndTitle},{default:u(()=>[r(Fe),Sa]),_:1},8,["onClick","disabled"])),[[E]]):v("",!0),e.store.animatedWallpaperMode?(s(),h($,{key:3,type:"info"},{default:u(()=>[xa]),_:1})):v("",!0),e.store.coverSize>500?(s(),h($,{key:4,title:"Cover upsized by "+Math.floor(e.store.coverSize/500*100)+"%",type:"warning"},{default:u(()=>[Aa]),_:1},8,["title"])):v("",!0)]),_:1},8,["size"]),e.store.animatedWallpaperMode?S((s(),l("h6",Ta,[Ma,r(H,{size:"small",value:e.store.awpDropOverflowingRow,"onUpdate:value":t[31]||(t[31]=i=>e.store.awpDropOverflowingRow=i)},null,8,["value"])])),[[E]]):v("",!0),e.store.animatedWallpaperMode?(s(),l("h6",Ea,[Pa,n("div",Ra,[r(He,{style:{"font-size":"18px"},class:A({active:e.store.canvas.alignmentVertical==="flex-start"}),name:"vertical_align_top",onClick:t[32]||(t[32]=i=>{e.$store.commit("update",{key:"canvas.alignmentVertical",value:"flex-start"})})},null,8,["class"]),r(Ve,{style:{"font-size":"18px"},class:A({active:e.store.canvas.alignmentVertical==="center"}),name:"vertical_align_center",onClick:t[33]||(t[33]=i=>{e.$store.commit("update",{key:"canvas.alignmentVertical",value:"center"})})},null,8,["class"]),r(Ie,{style:{"font-size":"18px"},class:A({active:e.store.canvas.alignmentVertical==="flex-end"}),name:"vertical_align_bottom",onClick:t[34]||(t[34]=i=>{e.$store.commit("update",{key:"canvas.alignmentVertical",value:"flex-end"})})},null,8,["class"])])])):v("",!0),e.store.animatedWallpaperMode?v("",!0):(s(),h(z,{key:7,vertical:"",size:e.spaceGapSize},{default:u(()=>[S((s(),l("h6",La,Fa)),[[E]]),n("div",Ha,[r(Be,{class:A({active:e.store.canvas.alignment==="left"}),style:{"font-size":"18px"},name:"format_align_left",onClick:t[35]||(t[35]=i=>{e.$store.commit("update",{key:"canvas.alignment",value:"left"})})},null,8,["class"]),r(qe,{class:A({active:e.store.canvas.alignment==="center"}),style:{"font-size":"18px"},name:"format_align_center",onClick:t[36]||(t[36]=i=>{e.$store.commit("update",{key:"canvas.alignment",value:"center"})})},null,8,["class"]),r(We,{class:A({active:e.store.canvas.alignment==="right"}),style:{"font-size":"18px"},name:"format_align_right",onClick:t[37]||(t[37]=i=>{e.$store.commit("update",{key:"canvas.alignment",value:"right"})})},null,8,["class"]),r(Ue,{class:A({active:e.store.canvas.alignmentVertical==="flex-start"}),style:{"font-size":"18px"},name:"vertical_align_top",onClick:t[38]||(t[38]=i=>{e.$store.commit("update",{key:"canvas.alignmentVertical",value:"flex-start"})})},null,8,["class"]),r(je,{class:A({active:e.store.canvas.alignmentVertical==="center"}),style:{"font-size":"18px"},name:"vertical_align_center",onClick:t[39]||(t[39]=i=>{e.$store.commit("update",{key:"canvas.alignmentVertical",value:"center"})})},null,8,["class"]),r(De,{class:A({active:e.store.canvas.alignmentVertical==="flex-end"}),style:{"font-size":"18px"},name:"vertical_align_bottom",onClick:t[40]||(t[40]=i=>{e.$store.commit("update",{key:"canvas.alignmentVertical",value:"flex-end"})})},null,8,["class"])])]),_:1},8,["size"])),n("h6",null,[Va,r(ee,{storeKey:"canvas.background"})]),S((s(),l("h6",Ia,[n("span",{style:T({color:e.store.awpOverlayColorEnabled?"#ffc02b":null})},"Color overlay",4),r(H,{size:"small",value:e.store.awpOverlayColorEnabled,"onUpdate:value":t[41]||(t[41]=i=>e.store.awpOverlayColorEnabled=i)},null,8,["value"]),r(ee,{storeKey:"awpOverlayColor"})])),[[E]]),S((s(),l("div",Ba,[qa,e.store.awpOverlayColorEnabled&&e.store.awpBlendModes?(s(),h(I,{key:0,value:e.store.awpBlendMode,"onUpdate:value":t[42]||(t[42]=i=>e.store.awpBlendMode=i),options:e.store.awpBlendModes,size:"small"},null,8,["value","options"])):v("",!0)])),[[E]]),n("h6",null,[Wa,e.store.awpGrayscale?(s(),h(P,{key:0,value:e.store.awpGrayscaleContrast,"onUpdate:value":t[43]||(t[43]=i=>e.store.awpGrayscaleContrast=i),min:.15,max:1,step:.05,tooltip:!1,style:{padding:"0 15px"}},null,8,["value"])):v("",!0),r(H,{size:"small",value:e.store.awpGrayscale,"onUpdate:value":t[44]||(t[44]=i=>e.store.awpGrayscale=i)},null,8,["value"])]),r(z,{vertical:"",size:e.spaceGapSize},{default:u(()=>[Ua,r(P,{value:a.canvasPadding,"onUpdate:value":t[45]||(t[45]=i=>a.canvasPadding=i),min:0,max:200,step:1,tooltip:!1},null,8,["value"]),r(z,{vertical:"",size:e.spaceGapSize},{default:u(()=>[n("div",ja,[Da,r(L,{value:e.store.canvas.padding.left,"onUpdate:value":t[46]||(t[46]=i=>e.store.canvas.padding.left=i),min:0,step:1,size:"tiny"},null,8,["value"]),r(P,{style:{flex:"1"},value:e.store.canvas.padding.left,"onUpdate:value":t[47]||(t[47]=i=>e.store.canvas.padding.left=i),min:0,max:200,step:1,tooltip:!1},null,8,["value"])]),n("div",Za,[Na,r(L,{value:e.store.canvas.padding.top,"onUpdate:value":t[48]||(t[48]=i=>e.store.canvas.padding.top=i),min:0,step:1,size:"tiny"},null,8,["value"]),r(P,{style:{flex:"1"},value:e.store.canvas.padding.top,"onUpdate:value":t[49]||(t[49]=i=>e.store.canvas.padding.top=i),min:0,max:200,step:1,tooltip:!1},null,8,["value"])]),n("div",Ga,[Ya,r(L,{value:e.store.canvas.padding.right,"onUpdate:value":t[50]||(t[50]=i=>e.store.canvas.padding.right=i),min:0,step:1,size:"tiny"},null,8,["value"]),r(P,{style:{flex:"1"},value:e.store.canvas.padding.right,"onUpdate:value":t[51]||(t[51]=i=>e.store.canvas.padding.right=i),min:0,max:200,step:1,tooltip:!1},null,8,["value"])]),n("div",Ka,[Xa,r(L,{value:e.store.canvas.padding.bottom,"onUpdate:value":t[52]||(t[52]=i=>e.store.canvas.padding.bottom=i),min:0,step:1,size:"tiny"},null,8,["value"]),r(P,{style:{flex:"1"},value:e.store.canvas.padding.bottom,"onUpdate:value":t[53]||(t[53]=i=>e.store.canvas.padding.bottom=i),min:0,max:200,step:1,tooltip:!1},null,8,["value"])])]),_:1},8,["size"])]),_:1},8,["size"]),Ja,n("div",Qa,[r(L,{value:e.store.paddingSize,"onUpdate:value":t[54]||(t[54]=i=>e.store.paddingSize=i),min:0,step:1,size:"tiny"},null,8,["value"]),r(P,{style:{"padding-left":"15px"},value:e.store.paddingSize,"onUpdate:value":t[55]||(t[55]=i=>e.store.paddingSize=i),min:0,max:50,step:1,tooltip:!1},null,8,["value"])]),e.store.animatedWallpaperMode?v("",!0):(s(),h(z,{key:8,vertical:"",size:e.spaceGapSize},{default:u(()=>[ei,n("div",ti,[r(L,{value:e.store.borderRadius,"onUpdate:value":t[56]||(t[56]=i=>e.store.borderRadius=i),min:0,step:.01,max:.5,size:"tiny"},null,8,["value","step"]),r(P,{style:{"padding-left":"15px"},value:e.store.borderRadius,"onUpdate:value":t[57]||(t[57]=i=>e.store.borderRadius=i),min:0,max:.5,step:.01,tooltip:!1},null,8,["value","step"])])]),_:1},8,["size"])),e.store.animatedWallpaperMode?v("",!0):(s(),h(z,{key:9,vertical:"",size:e.spaceGapSize,class:A({"disabled-settings-section":!e.$store.getters.rereadExist})},{default:u(()=>[n("h6",null,[oi,r(H,{size:"small",value:e.store.reread.label.show,"onUpdate:value":t[58]||(t[58]=i=>e.store.reread.label.show=i)},null,8,["value"])]),ni,n("div",si,[ai,r(L,{value:e.store.reread.label.offset.right,"onUpdate:value":t[59]||(t[59]=i=>e.store.reread.label.offset.right=i),min:0,step:1,size:"tiny",disabled:!e.$store.getters.rereadExist},null,8,["value","disabled"]),r(P,{style:{"padding-left":"15px"},value:e.store.reread.label.offset.right,"onUpdate:value":t[60]||(t[60]=i=>e.store.reread.label.offset.right=i),min:0,max:200,step:1,tooltip:!1,reverse:!0,disabled:!e.$store.getters.rereadExist},null,8,["value","disabled"])]),n("div",ii,[ri,r(L,{value:e.store.reread.label.offset.bottom,"onUpdate:value":t[61]||(t[61]=i=>e.store.reread.label.offset.bottom=i),min:0,step:1,size:"tiny",disabled:!e.$store.getters.rereadExist},null,8,["value","disabled"]),r(P,{style:{"padding-left":"15px"},value:e.store.reread.label.offset.bottom,"onUpdate:value":t[62]||(t[62]=i=>e.store.reread.label.offset.bottom=i),min:0,max:200,step:1,tooltip:!1,reverse:!0,disabled:!e.$store.getters.rereadExist},null,8,["value","disabled"])]),e.$store.getters.rereadExist?v("",!0):(s(),h($,{key:0,type:"warning"},{default:u(()=>[li]),_:1}))]),_:1},8,["size","class"])),e.store.animatedWallpaperMode?v("",!0):(s(),h(Ze,{key:10,spaceGapSize:e.spaceGapSize},null,8,["spaceGapSize"])),e.store.animatedWallpaperMode?v("",!0):(s(),h(z,{key:11,vertical:"",size:e.spaceGapSize},{default:u(()=>[n("h6",null,[di,r(H,{size:"small",value:e.store.showMyRating,"onUpdate:value":t[63]||(t[63]=i=>e.store.showMyRating=i)},null,8,["value"])]),n("h6",null,[ci,r(H,{size:"small",value:e.store.showFavorites,"onUpdate:value":t[64]||(t[64]=i=>e.store.showFavorites=i)},null,8,["value"])]),n("h6",null,[ui,r(H,{size:"small",value:e.store.showAuthorAndTitle,"onUpdate:value":t[65]||(t[65]=i=>e.store.showAuthorAndTitle=i)},null,8,["value"])]),e.store.showAuthorAndTitle?(s(),l("div",vi,[hi,r(ee,{storeKey:"authorAndTitleColor"})])):v("",!0),e.store.showAuthorAndTitle?(s(),l("div",mi,[pi,r(L,{size:"small",style:{flex:"1","margin-left":"10px"},min:1,step:1,value:e.store.authorAndTitleSize,"onUpdate:value":t[66]||(t[66]=i=>e.store.authorAndTitleSize=i)},null,8,["value"])])):v("",!0)]),_:1},8,["size"])),e.store.archived?(s(),l("h6",gi,[n("span",null,"Exclude archived ("+w(e.store.archived)+")",1),r(H,{size:"small",value:e.store.excludeArchived,"onUpdate:value":a.excludeArchivedChanged},null,8,["value","onUpdate:value"])])):v("",!0),e.store.animatedWallpaperMode?v("",!0):(s(),h(z,{key:13,vertical:"",size:e.spaceGapSize},{default:u(()=>[fi,r($,{type:"default"},{icon:u(()=>[r(M,{style:T([{"padding-top":"5px"},{color:e.store.compressImage?"#63e2b8":"#ffc12c"}])},null,8,["style"])]),default:u(()=>[_i,n("span",{style:T({color:e.store.compressImage?"#63e2b8":null})},"jpeg",4),yi,bi,wi,ki,n("span",{style:T({color:e.store.compressImage?null:"#ffc12c"})},"png",4),zi]),_:1}),n("div",$i,[Ci,n("div",Si,[r(H,{size:"small",value:e.store.compressImage,"onUpdate:value":t[67]||(t[67]=i=>e.store.compressImage=i)},null,8,["value"])])]),e.store.compressImage?(s(),l("div",xi,[n("span",Ai,"Quality ("+w(a.qualityPercentage)+"%):",1),r(P,{value:e.store.compressQuality,"onUpdate:value":t[68]||(t[68]=i=>e.store.compressQuality=i),min:.5,max:.99,step:.01,tooltip:!1},null,8,["value","min","max"])])):v("",!0),e.store.compressImage&&a.qualityPercentage<80?(s(),h($,{key:1,type:"warning"},{default:u(()=>[Ti]),_:1})):v("",!0),n("h6",null,[Mi,r(H,{size:"small",value:e.store.canvas.zoomOutputs,"onUpdate:value":t[69]||(t[69]=i=>e.store.canvas.zoomOutputs=i)},null,8,["value"])]),e.store.canvas.zoomOutputs?(s(),h(z,{key:2,vertical:"",size:e.spaceGapSize},{default:u(()=>[n("div",Ei,[n("span",Pi,"Scale ("+w(a.scalePercentage)+"%):",1),r(L,{size:"small",value:e.store.canvas.outputScale,"onUpdate:value":t[70]||(t[70]=i=>e.store.canvas.outputScale=i),min:0,step:.1},null,8,["value","step"])]),n("div",Ri,[r(Ne,{size:"small"},{default:u(()=>[r(R,{round:"",onClick:t[71]||(t[71]=i=>e.$store.commit("update",{key:"canvas.outputScale",value:.5}))},{default:u(()=>[Li]),_:1}),r(R,{onClick:t[72]||(t[72]=i=>e.$store.commit("update",{key:"canvas.outputScale",value:.75}))},{default:u(()=>[Oi]),_:1}),r(R,{onClick:t[73]||(t[73]=i=>e.$store.commit("update",{key:"canvas.outputScale",value:1}))},{default:u(()=>[Fi]),_:1}),r(R,{onClick:t[74]||(t[74]=i=>e.$store.commit("update",{key:"canvas.outputScale",value:1.5}))},{default:u(()=>[Hi]),_:1}),r(R,{round:"",onClick:t[75]||(t[75]=i=>e.$store.commit("update",{key:"canvas.outputScale",value:2}))},{default:u(()=>[Vi]),_:1}),r(R,{round:"",onClick:t[76]||(t[76]=i=>e.$store.commit("update",{key:"canvas.outputScale",value:3}))},{default:u(()=>[Ii]),_:1})]),_:1})]),r($,{type:"info"},{default:u(()=>[g(" Width: "+w(e.$store.getters.scaledCanvasDimensions.width)+"px ",1),Bi,g(" Height: "+w(e.$store.getters.scaledCanvasDimensions.height)+"px ",1)]),_:1})]),_:1},8,["size"])):v("",!0)]),_:1},8,["size"]))]),_:1},8,["size"]))],2)]),_:1},8,["theme","class"])}var xe=V($s,[["render",ji],["__scopeId","data-v-737ee4c7"]]);const Di={viewBox:"0 0 512 512",width:"1.2em",height:"1.2em"},Zi=n("path",{d:"M437.5 386.6L306.9 256l130.6-130.6c14.1-14.1 14.1-36.8 0-50.9-14.1-14.1-36.8-14.1-50.9 0L256 205.1 125.4 74.5c-14.1-14.1-36.8-14.1-50.9 0-14.1 14.1-14.1 36.8 0 50.9L205.1 256 74.5 386.6c-14.1 14.1-14.1 36.8 0 50.9 14.1 14.1 36.8 14.1 50.9 0L256 306.9l130.6 130.6c14.1 14.1 36.8 14.1 50.9 0 14-14.1 14-36.9 0-50.9z",fill:"currentColor"},null,-1),Ni=[Zi];function Gi(e,t){return s(),l("svg",Di,Ni)}var Yi={name:"ion-close-round",render:Gi},Ki="assets/wallpaper.c0fb0a34.jpg",Xi="assets/wallpaper-animated.cc7c256e.gif",Ji="assets/card.80301d56.jpg",Qi="assets/card-tierlist.e52c1180.jpg";const er={data(){return this.$store,{store:this.$store.state,showModal:!0,buttonGroupValue:null,darkTheme:J,win:{width:window.innerWidth,height:window.innerHeight},cards:[{key:"wallpaper",enabled:!1,images:{regular:Ki,extras:null},title:"Desktop wallpaper",desc:"Starts with a 1920x1080 canvas with a dark overlay so that icons can be seen on top of it.",method:(e,t)=>{t.changeCanvasPreset(e.key)},extras:{animated:{checked:!1,label:"Animated wallpaper",image:Xi,method:(e,t,o)=>{o.$store.commit("update",{key:"animatedWallpaperMode",value:!0})}}}},{key:"card",enabled:!1,images:{regular:Ji,extras:null},title:"Card",desc:"Great starting point for online posts and other generic images.",method:(e,t)=>{this.changeCanvasPreset(e.key)},extras:{animated:{checked:!1,label:"Tier list",image:Qi,method:(e,t,o)=>{o.$store.commit("update",{key:"tierListMode",value:!0})}}}}]}},components:{NConfigProvider:G,NModal:ct,NCard:me,NSpace:se,NSwitch:oe,NRadioButton:ut,NRadioGroup:vt,NTooltip:ht,NCheckbox:ae,NButton:te},methods:{extrasChecked(e,t){e.images.extras=t.checked?t.image:null},cardChosen(e){this.reset();const t=_.filter(e.extras,{checked:!0});t.length&&(console.log(t),_.each(t,o=>{o.method&&o.method(e,o,this)})),e.method&&e.method(e,this),this.$store.commit("update",{key:"presetModalOpen",value:!1}),this.$nextTick(function(){const o=(this.store.covers||[]).length,d=this.store.coverAmount;this.$store.commit("update",{key:"coverAmount",value:d>o?o:d})})},changeCanvasPreset:function(e){this.$store.commit("update",{key:"canvasPreset",value:e}),this.$store.commit("changePreset",e),this.$store.commit("update",{key:"usedCovers",value:this.store.covers.slice(0,this.store.coverAmount)})},reset(){this.$store.commit("resetTiers"),this.$store.commit("clearTiers"),this.$store.commit("update",[{key:"tierListMode",value:!1},{key:"animatedWallpaperMode",value:!1}])}}},tr=e=>(ie("data-v-77c3815c"),e=e(),re(),e),or={key:0,class:"modal-overlay"},nr=tr(()=>n("h2",{class:"heading"}," Select a starting point ",-1)),sr={class:"flex-row"},ar=["onMouseenter","onMouseleave"],ir={key:0,class:"image"},rr=["src"],lr=["src"],dr={class:"title"},cr={class:"desc"},ur={class:"additional-settings"},vr={class:"additional-settings full-width"};function hr(e,t,o,d,c,a){const m=Yi,b=k("n-checkbox"),f=k("n-button"),x=k("n-config-provider");return c.showModal?(s(),l("div",or,[r(x,{theme:c.darkTheme,class:"modal-content"},{default:u(()=>[n("div",{class:"close-btn",onClick:t[0]||(t[0]=p=>e.$store.commit("update",{key:"presetModalOpen",value:!1}))},[r(m)]),nr,n("div",sr,[(s(!0),l(j,null,U(c.cards,p=>(s(),l("div",{class:"card",key:p.key,onMouseenter:C=>p.enabled=!0,onMouseleave:C=>p.enabled=!1},[p.images?(s(),l("div",ir,[p.images.extras?(s(),l("img",{key:0,draggable:"false",src:p.images.extras,alt:""},null,8,rr)):(s(),l("img",{key:1,draggable:"false",src:p.images.regular,alt:""},null,8,lr))])):v("",!0),n("div",dr,w(p.title),1),n("div",cr,w(p.desc),1),n("div",ur,[(s(!0),l(j,null,U(p.extras,C=>(s(),h(b,{size:"large",key:C.label,checked:C.checked,"onUpdate:checked":[F=>C.checked=F,F=>a.extrasChecked(p,C)],label:C.label,disabled:!p.enabled},null,8,["checked","onUpdate:checked","label","disabled"]))),128))]),n("div",vr,[r(f,{type:"primary",disabled:!p.enabled,onClick:C=>a.cardChosen(p)},{default:u(()=>[g(w(p.startBtn||"Start"),1)]),_:2},1032,["disabled","onClick"])])],40,ar))),128))])]),_:1},8,["theme"])])):v("",!0)}var Ae=V(er,[["render",hr],["__scopeId","data-v-77c3815c"]]);const mr={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},pr=n("path",{fill:"currentColor",d:"M9 3v15h3V3H9m3 2l4 13l3-1l-4-13l-3 1M5 5v13h3V5H5M3 19v2h18v-2H3Z"},null,-1),gr=[pr];function fr(e,t){return s(),l("svg",mr,gr)}var _r={name:"mdi-bookshelf",render:fr};const yr={props:["book","relative","isStatic"],data:function(){return{store:this.$store.state}}};function br(e,t,o,d,c,a){const m=_r;return s(),l("div",{class:A(["reread-wrapper",{static:o.isStatic}]),style:T({fontSize:e.store.coverSize/11+"px",lineHeight:e.store.coverSize/11+"px"})},[e.$slots.default?(s(),l("div",{key:0,class:"reread-label",style:T({borderRadius:e.store.coverSize/20+"px",borderWidth:e.store.coverSize/50+"px"})},[n("span",{class:"icon",style:T({borderRadius:e.store.coverSize/20+"px 0 0 "+e.store.coverSize/20+"px",padding:e.store.coverSize/25+"px "+e.store.coverSize/30+"px "+e.store.coverSize/25+"px "+e.store.coverSize/18+"px"})},[r(m)],4),n("span",{style:T({padding:e.store.coverSize/25+"px "+e.store.coverSize/18+"px "+e.store.coverSize/25+"px "+e.store.coverSize/30+"px"})},[mt(e.$slots,"default",{},void 0,!0)],4)],4)):(s(),l("div",{key:1,class:"reread-marker",style:T({borderWidth:e.store.coverSize/50+"px",width:e.store.coverSize/6+"px",height:e.store.coverSize/6+"px",top:o.relative?null:-(e.store.coverSize/8/2)+"px",right:o.relative?null:-(e.store.coverSize/8/2)+"px",position:o.relative?"relative":"absolute"}),onClick:t[0]||(t[0]=b=>o.book?e.$store.commit("updateBookCover",{key:"reread",value:!1,book:o.book}):null)},[r(m)],4))],6)}var Te=V(yr,[["render",br],["__scopeId","data-v-5ec8f6b2"]]);const wr={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},kr=n("path",{fill:"currentColor",d:"m12 17.3l-3.7 2.825q-.275.225-.6.212q-.325-.012-.575-.187q-.25-.175-.387-.475q-.138-.3-.013-.65L8.15 14.4l-3.625-2.575q-.3-.2-.375-.525q-.075-.325.025-.6q.1-.275.35-.488q.25-.212.6-.212H9.6l1.45-4.8q.125-.35.388-.538q.262-.187.562-.187q.3 0 .562.187q.263.188.388.538L14.4 10h4.475q.35 0 .6.212q.25.213.35.488q.1.275.025.6q-.075.325-.375.525L15.85 14.4l1.425 4.625q.125.35-.012.65q-.138.3-.388.475t-.575.187q-.325.013-.6-.212Z"},null,-1),zr=[kr];function $r(e,t){return s(),l("svg",wr,zr)}var Cr={name:"material-symbols-star-rate-rounded",render:$r};const Sr={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},xr=n("path",{fill:"currentColor",d:"m12 21.35l-1.45-1.32C5.4 15.36 2 12.27 2 8.5C2 5.41 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.08C13.09 3.81 14.76 3 16.5 3C19.58 3 22 5.41 22 8.5c0 3.77-3.4 6.86-8.55 11.53L12 21.35Z"},null,-1),Ar=[xr];function Tr(e,t){return s(),l("svg",Sr,Ar)}var Mr={name:"mdi-cards-heart",render:Tr};const Er={props:["book"],data:function(){return{store:this.$store.state}},computed:{selectedBook(){var e;return((e=this.store.coverActions)==null?void 0:e.asin)===this.book.asin&&this.book.asin}},methods:{coverHover(e){const t=e.type==="mouseover";this.$store.commit("update",{key:"panningAlert",value:t})},toggleCoverActions(){const e=_.get(this.store,"coverActions.asin");this.$store.commit("update",{key:"coverActions",value:e===this.book.asin?null:this.book})}}},Pr={key:0,class:"cover-padding-preview"},Rr={key:2,"data-coverImages":"",class:"placeholder"},Lr={key:3,style:{position:"relative",display:"inline-block"}},Or=["src"],Fr={key:0,class:"cover-heart-icon"},Hr={key:1,class:"cover-star-icons"};function Vr(e,t,o,d,c,a){var x;const m=Mr,b=Cr,f=Te;return s(),l("div",{class:A(["cover",{active:a.selectedBook}]),onMouseover:t[0]||(t[0]=(...p)=>a.coverHover&&a.coverHover(...p)),onMouseleave:t[1]||(t[1]=(...p)=>a.coverHover&&a.coverHover(...p)),style:T({transform:e.store.reverseCoverFlow?"rotate(180deg)":null}),onClick:t[2]||(t[2]=(...p)=>a.toggleCoverActions&&a.toggleCoverActions(...p))},[e.store.saving?v("",!0):(s(),l("div",Pr)),e.store.showAuthorAndTitle&&!o.book.placeholderCover&&(o.book.author||o.book.title)?(s(),l("div",{key:1,class:"author-and-title",style:T({width:e.store.coverSize+"px",color:e.store.authorAndTitleColor})},[n("div",{class:"author",style:T({fontSize:e.store.authorAndTitleSize+"px","line-height":e.store.authorAndTitleSize+4+"px"})},[n("strong",null,w(o.book.author),1)],4),n("div",{class:"title",style:T({fontSize:e.store.authorAndTitleSize+"px","line-height":e.store.authorAndTitleSize+4+"px"})},w(o.book.title),5)],4)):v("",!0),o.book.placeholderCover?(s(),l("div",Rr)):(s(),l("div",Lr,[n("img",{"data-coverImages":"",class:"cover-img panzoom-exclude",src:o.book.cover,alt:"",draggable:"false","data-no-dragscroll":"",style:T({filter:e.store.awpGrayscale?"grayscale(1) contrast("+e.store.awpGrayscaleContrast+")":null})},null,12,Or),!e.store.animatedWallpaperMode&&e.store.showFavorites&&o.book.favorite?(s(),l("div",Fr,[r(m)])):v("",!0),!e.store.animatedWallpaperMode&&e.store.showMyRating&&o.book.myRating?(s(),l("div",Hr,[(s(!0),l(j,null,U(o.book.myRating,p=>(s(),h(b,{key:p}))),128))])):v("",!0),(x=o.book)!=null&&x.reread?(s(),h(f,{key:2})):v("",!0),a.selectedBook?(s(),l("div",{key:3,class:"selected-cover",style:T({borderRadius:this.store.coverSize*e.store.borderRadius+"px",border:this.store.coverSize/30+"px solid #222"})},null,4)):v("",!0)]))],38)}var Q=V(Er,[["render",Vr],["__scopeId","data-v-fdf803c6"]]);const Ir={components:{contenteditable:pe},props:["tier","index","visibleTiers"],data:function(){return{store:this.$store.state,labelSize:0,focused:!1}},computed:{labelText:{get(){return this.tier.text||this.tier.key},set(e){this.$store.commit("updateTierlistLabel",{index:this.index,key:this.tier.key,value:e})}}},watch:{visibleTiers(){this.applyFitty("redraw")},"store.coverSize"(){this.applyFitty("redraw")},"store.coversPerRow"(){this.applyFitty("redraw")}},mounted:function(){this.labelSize=this.store.coverSize/4},methods:{editableFocus(e){console.log(e)},applyFitty(e){this.$nextTick(()=>{console.log("test",this.$refs.contedit.$el),this.$refs.contedit.$el.style.fontSize=this.labelSize+"px",pt('[data-fitty-element="'+this.index+'"]',{maxSize:this.labelSize})})},updateText(e,t,o){console.log(e.target.innerHTML),this.$store.commit("updateTierlistLabel",{index:o,key:t.key,value:e.target.innerHTML})},contenteditable_mounted(){console.log("mounted contedit"),this.applyFitty()},enterPressed(){},clickedOutside(){this.focused&&document.activeElement.blur()}}};function Br(e,t,o,d,c,a){const m=k("contenteditable"),b=Y("click-outside-element");return S((s(),h(m,{ref:"contedit",class:"fitty-element","data-fitty-element":o.index,tag:"div",contenteditable:!0,modelValue:a.labelText,"onUpdate:modelValue":t[0]||(t[0]=f=>a.labelText=f),"no-nl":!1,"no-html":!0,onReturned:a.enterPressed,onVnodeMounted:a.contenteditable_mounted,onFocus:t[1]||(t[1]=f=>e.focused=!0),onBlur:t[2]||(t[2]=f=>e.focused=!1)},null,8,["data-fitty-element","modelValue","onReturned","onVnodeMounted"])),[[b,a.clickedOutside]])}var qr=V(Ir,[["render",Br],["__scopeId","data-v-6f5384af"]]);const Wr={components:{draggable:ge,cover:Q},data:function(){return{store:this.$store.state}},computed:{visibleTiers:function(){return _.filter(this.store.tiers,function(e){return e.visible&&e.key!=="container"})}},created:function(){},methods:{editableFocus(e){console.log(e)}}};function Ur(e,t,o,d,c,a){const m=qr,b=Q,f=k("draggable");return s(),l("div",null,[(s(!0),l(j,null,U(a.visibleTiers,(x,p)=>(s(),l("div",{key:x.key,class:"row tier-list-row",style:T({marginTop:e.store.paddingSize*1.5+"px",borderRadius:e.store.coverSize*e.store.borderRadius+"px"})},[x.key!=="container"?(s(),l("div",{key:0,"data-tier-list-label":"",class:"label panzoom-exclude",ref_for:!0,ref:"label",style:T({background:x.color,margin:e.store.paddingSize+"px",borderRadius:e.store.coverSize*e.store.borderRadius+"px",width:e.store.coverSize-e.store.coverSize/5+"px",minHeight:e.store.coverSize-e.store.coverSize/5+"px",padding:e.store.coverSize/5/2+"px"}),onClick:t[0]||(t[0]=(...C)=>a.editableFocus&&a.editableFocus(...C))},[n("div",null,[r(m,{tier:x,index:p,visibleTiers:a.visibleTiers},null,8,["tier","index","visibleTiers"])])],4)):v("",!0),r(f,{modelValue:x.list,"onUpdate:modelValue":C=>x.list=C,class:"drag-container","item-key":"asin",group:"covers",onStart:t[1]||(t[1]=C=>e.$emit("start",C)),onMove:t[2]||(t[2]=C=>e.$emit("move",C)),onEnd:t[3]||(t[3]=C=>e.$emit("end",C))},{item:u(({element:C})=>[(s(),h(b,{key:C.asin,book:C},null,8,["book"]))]),_:2},1032,["modelValue","onUpdate:modelValue"])],4))),128))])}var Me=V(Wr,[["render",Ur],["__scopeId","data-v-71b0e196"]]);const jr={name:"ToolbarTextElements",components:{Moveable:gt,ContentEditable:pe},props:["textObj","textIndex"],data:function(){return{store:this.$store.state,moveableOpts:{draggable:!0,throttleDrag:1,resizable:!0,throttleResize:1,keepRatio:!1,scalable:!1,throttleScale:1,rotatable:!0,throttleRotate:45,pinchable:!1,origin:!1,elementGuidelines:[],snappable:!0,snapThreshold:10,isDisplaySnapDigit:!1,snapGap:!0,snapElement:!0,snapVertical:!0,snapHorizontal:!0,snapCenter:!1,snapDigit:0,padding:{left:0,top:0,right:0,bottom:0}},frame:{translate:[0,0]},contentIsEditable:!1}},computed:{text:{get(){return this.textObj.text},set:_.debounce(function(e){this.$store.commit("changeText",{index:this.textIndex,key:"text",value:e})},250,{leading:!1,trailing:!0})},textClass(){return"text-element-"+this.textIndex}},watch:{"store.usedCovers":function(){this.setElementGuidelines()},"store.tiers":{handler:function(e,t){this.setElementGuidelines()},deep:!0}},mounted:function(){this.textObj.width&&(this.$refs.moveable.$el.style.width=this.textObj.width),this.textObj.height&&(this.$refs.moveable.$el.style.height=this.textObj.height),this.textObj.transform&&(this.$refs.moveable.$el.style.transform=this.textObj.transform),this.setElementGuidelines(),this.$emitter.on("update-moveable-handles",this.updateHandles),this.$emitter.on("nudge-up",this.nudgeUp),this.$emitter.on("nudge-right",this.nudgeRight),this.$emitter.on("nudge-down",this.nudgeDown),this.$emitter.on("nudge-left",this.nudgeLeft)},beforeUnmount:function(){this.$emitter.off("update-moveable-handles",this.updateHandles),this.$emitter.off("nudge-up",this.nudgeUp),this.$emitter.off("nudge-right",this.nudgeRight),this.$emitter.off("nudge-down",this.nudgeDown),this.$emitter.off("nudge-left",this.nudgeLeft)},methods:{updateText:_.debounce(function(e){if(_.isArray(e)){let t=this;_.each(e,function(o){o.index=t.textIndex})}else e.index=this.textIndex;this.$store.commit("changeText",e)},550,{leading:!1,trailing:!0}),nudgeUp:function(e){this.textObj.active&&(this.$refs.moveable.request("draggable",{deltaY:-Math.abs(e),isInstant:!0}),this.updateText({key:"transform",value:this.$refs.moveable.$el.style.transform}))},nudgeRight:function(e){this.textObj.active&&(this.$refs.moveable.request("draggable",{deltaX:e,isInstant:!0}),this.updateText({key:"transform",value:this.$refs.moveable.$el.style.transform}))},nudgeDown:function(e){this.textObj.active&&(this.$refs.moveable.request("draggable",{deltaY:e,isInstant:!0}),this.updateText({key:"transform",value:this.$refs.moveable.$el.style.transform}))},nudgeLeft:function(e){this.textObj.active&&(this.$refs.moveable.request("draggable",{deltaX:-Math.abs(e),isInstant:!0}),this.updateText({key:"transform",value:this.$refs.moveable.$el.style.transform}))},activateControls:function(){console.log("activateControls"),document.activeElement&&document.activeElement.blur(),this.updateHandles();let e=this.textIndex;this.$store.commit("activateText",e);let t=document.querySelectorAll(".moveable-control-box");t.length&&t.forEach(function(o,d){o.style.display=e===d?"block":"none"})},updateHandles:function(){this.$refs.moveable.updateRect()},setElementGuidelines:function(){this.$nextTick(function(){let e=document.querySelectorAll("[data-coverImages], [data-tier-list-label]");if(!e)return;e=[...e];const t=e.slice(0,this.store.coversPerRow),o=e.slice(e.length-this.store.coversPerRow,e.length);this.moveableOpts.elementGuidelines=this.moveableOpts.elementGuidelines.concat(t),this.moveableOpts.elementGuidelines=this.moveableOpts.elementGuidelines.concat(o),this.moveableOpts.elementGuidelines.push(document.querySelector(".canvas-bounds"))})},moveableRotate({target:e,dist:t,transform:o}){e.style.transform=o,this.updateText({key:"transform",value:o})},moveableDrag({target:e,transform:t}){e.style.transform=t,this.updateText({key:"transform",value:t})},moveableResizeStart:function(e){e.setOrigin(["%","%"]),e.dragStart&&e.dragStart.set(this.frame.translate)},moveableResize({drag:e,target:t,width:o,height:d}){this.frame.translate=e.beforeTranslate,t.style.width=`${o}px`,t.style.height=`${d}px`,t.style.transform=e.transform,this.updateText([{key:"width",value:`${o}px`},{key:"height",value:`${d}px`},{key:"transform",value:e.transform}])},arrowNudge:function(e){if(this.textObj.active){let o=e.srcKey.match("Shift")?10:1;switch(e.srcKey){case"up":case"upShift":this.$refs.moveable.request("draggable",{deltaY:-Math.abs(o),isInstant:!0});break;case"right":case"rightShift":this.$refs.moveable.request("draggable",{deltaX:o,isInstant:!0});break;case"down":case"downShift":this.$refs.moveable.request("draggable",{deltaY:o,isInstant:!0});break;case"left":case"leftShift":this.$refs.moveable.request("draggable",{deltaX:-Math.abs(o),isInstant:!0});break}}},doubleClick:function(){this.moveableOpts.draggable=!1,this.moveableOpts.rotatable=!1,this.moveableOpts.resizable=!1,this.contentIsEditable=!0,this.$store.commit("update",[{key:"events.textNudge",value:!1},{key:"events.textRemove",value:!1},{key:"events.canvasPanning",value:!1}]),this.$nextTick(function(){let e=this;setTimeout(function(){e.$refs.contenteditable.$el.focus(),document.execCommand("selectAll",!1,null)},100)})},moveableBlur:function(){this.moveableOpts.draggable=!0,this.moveableOpts.rotatable=!0,this.moveableOpts.resizable=!0,this.contentIsEditable=!1,this.$store.commit("update",[{key:"events.textNudge",value:!0},{key:"events.textRemove",value:!0},{key:"events.canvasPanning",value:!0}]),this.$nextTick(function(){this.$refs.moveable.$el.click()})},moveableMounted(e){this.$nextTick(function(){document.body.appendChild(e.el),this.updateHandles()})}}};function Dr(e,t,o,d,c,a){const m=k("content-editable"),b=k("Moveable");return s(),l("div",null,[r(m,{tag:"span",contenteditable:e.contentIsEditable,"data-no-dragscroll":"",modelValue:a.text,"onUpdate:modelValue":t[0]||(t[0]=f=>a.text=f),noNL:!0,noHTML:!0,onReturned:a.moveableBlur,onBlur:a.moveableBlur,onDblclick:a.doubleClick,onMousedown:a.activateControls,ref:"contenteditable",class:A(["text-element-child",[a.textClass,"panzoom-exclude"]]),style:T({fontFamily:o.textObj.fontFamily,fontSize:o.textObj.fontSize+"px",lineHeight:o.textObj.fontSize+"px",fontWeight:o.textObj.bold?"bold":"normal",textTransform:o.textObj.allCaps?"uppercase":"none",justifyContent:o.textObj.alignment==="left"?"flex-start":o.textObj.alignment==="center"?"center":o.textObj.alignment==="right"?"flex-end":null,justifyItems:o.textObj.alignment==="left"?"flex-start":o.textObj.alignment==="center"?"center":o.textObj.alignment==="right"?"flex-end":null,alignContent:o.textObj.verticalAlignment==="left"?"flex-start":o.textObj.verticalAlignment==="center"?"center":o.textObj.verticalAlignment==="right"?"flex-end":null,alignItems:o.textObj.verticalAlignment==="left"?"flex-start":o.textObj.alignmeverticalAlignmentnt==="center"?"center":o.textObj.verticalAlignment==="right"?"flex-end":null,color:o.textObj.color})},null,8,["contenteditable","modelValue","onReturned","onBlur","onDblclick","onMousedown","class","style"]),r(b,ft({target:"."+a.textClass,ref:"moveable",class:"panzoom-exclude"},e.moveableOpts,{onDrag:a.moveableDrag,onResize:a.moveableResize,onResizeStart:a.moveableResizeStart,onRotate:a.moveableRotate,"data-no-dragscroll":"",zoom:1,onVnodeMounted:a.moveableMounted}),null,16,["target","onDrag","onResize","onResizeStart","onRotate","onVnodeMounted"])])}var Ee=V(jr,[["render",Dr],["__scopeId","data-v-0674fb69"]]);const Zr={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Nr=n("path",{fill:"currentColor",d:"M12 2A10 10 0 0 0 2 12a10 10 0 0 0 10 10a10 10 0 0 0 10-10A10 10 0 0 0 12 2Z"},null,-1),Gr=[Nr];function Yr(e,t){return s(),l("svg",Zr,Gr)}var Kr={name:"mdi-checkbox-blank-circle",render:Yr};const Xr={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Jr=n("path",{fill:"currentColor",d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10s10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8s8 3.59 8 8s-3.59 8-8 8zm4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4l8-8z"},null,-1),Qr=[Jr];function el(e,t){return s(),l("svg",Xr,Qr)}var tl={name:"ic-outline-check-circle",render:el};const ol={viewBox:"0 0 448 512",width:"1.2em",height:"1.2em"},nl=n("path",{fill:"currentColor",d:"M32 464a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128H32zm272-256a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zM432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z"},null,-1),sl=[nl];function al(e,t){return s(),l("svg",ol,sl)}var il={name:"fa-solid-trash-alt",render:al};const rl={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},ll=n("path",{fill:"currentColor",d:"M11.83 9L15 12.16V12a3 3 0 0 0-3-3h-.17m-4.3.8l1.55 1.55c-.05.21-.08.42-.08.65a3 3 0 0 0 3 3c.22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53a5 5 0 0 1-5-5c0-.79.2-1.53.53-2.2M2 4.27l2.28 2.28l.45.45C3.08 8.3 1.78 10 1 12c1.73 4.39 6 7.5 11 7.5c1.55 0 3.03-.3 4.38-.84l.43.42L19.73 22L21 20.73L3.27 3M12 7a5 5 0 0 1 5 5c0 .64-.13 1.26-.36 1.82l2.93 2.93c1.5-1.25 2.7-2.89 3.43-4.75c-1.73-4.39-6-7.5-11-7.5c-1.4 0-2.74.25-4 .7l2.17 2.15C10.74 7.13 11.35 7 12 7Z"},null,-1),dl=[ll];function cl(e,t){return s(),l("svg",rl,dl)}var ul={name:"mdi-eye-off",render:cl};const vl={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},hl=n("path",{fill:"currentColor",d:"M3 3h8v8H3zm0 10h8v8H3zM13 3h8v8h-8zm0 10h8v8h-8z"},null,-1),ml=[hl];function pl(e,t){return s(),l("svg",vl,ml)}var gl={name:"ic-sharp-grid-view",render:pl};const fl={props:["draggableCovers"],data(){return{darkTheme:J}},components:{NConfigProvider:G,NBadge:_t},methods:{buttonClicked(e){this.$store.commit("toggleTier",e)}}},_l=["onClick"],yl={key:0},bl={key:0},wl={key:1},kl={key:1};function zl(e,t,o,d,c,a){const m=gl,b=ul,f=k("n-badge"),x=k("n-config-provider");return s(),h(x,{theme:c.darkTheme,class:"tier-toolbar"},{default:u(()=>[(s(!0),l(j,null,U(e.$store.state.tiers,p=>(s(),h(f,{class:A(["tier-list-btn-wrapper",[p.key]]),key:"btn-"+p.key,max:99,value:p.visible?0:p.key==="container"?o.draggableCovers.length:p.list.length},{default:u(()=>[n("button",{style:T({background:p.color,width:p.key==="container"?null:"30px"}),class:A({hidden:!p.visible}),onClick:C=>a.buttonClicked(p)},[p.visible?(s(),l("span",yl,[p.key==="container"?(s(),l("span",bl,[r(m)])):(s(),l("span",wl,w(p.key),1))])):(s(),l("span",kl,[r(b)]))],14,_l)]),_:2},1032,["class","value"]))),128))]),_:1},8,["theme"])}var Pe=V(fl,[["render",zl],["__scopeId","data-v-22fbda51"]]),$l={data(){return{store:this.$store.state,panzoom:null,grabbing:!1,panzoomOpts:{minScale:1e-29,maxScale:6,canvas:!0,disablePan:!1,startScale:this.$store.state.canvas.zoom,origin:"0 0"}}},watch:{"store.coversPerRow"(){this.tickedCanvasFit()},"store.canvas.width"(){this.tickedCanvasFit()},"store.canvas.height"(){this.tickedCanvasFit()},"store.coverAmount"(){this.tickedCanvasFit()}},mounted(){const e=document.getElementById("editor-canvas-content");this.panzoom=yt(e,this.panzoomOpts),window.panzoom=this.panzoom,this.$nextTick(function(){setTimeout(()=>{this.canvasFit(),e.parentElement.addEventListener("wheel",t=>{this.panzoom.pan(t.wheelDeltaX,t.wheelDeltaY,{relative:!0})}),e.addEventListener("panzoomstart",this.panning),e.addEventListener("panzoomend",this.panning),e.addEventListener("panzoomzoom",this.zooming)},1)}),this.$emitter.on("canvas-zoom",this.canvasZoom),this.$emitter.on("canvas-fit",this.canvasFit),this.$emitter.on("canvas-zoom-reset",this.canvasZoomReset),this.$emitter.on("canvas-reset-zoom",this.canvasZoomReset),this.$emitter.on("canvas-center",this.canvasCenter),this.$emitter.on("canvas-pan",this.pan)},beforeUnmount(){this.$emitter.off("canvas-zoom",this.canvasZoom),this.$emitter.off("canvas-fit",this.canvasFit),this.$emitter.off("canvas-zoom-reset",this.canvasZoomReset),this.$emitter.off("canvas-reset-zoom",this.canvasZoomReset),this.$emitter.off("canvas-center",this.canvasCenter),this.$emitter.off("canvas-pan",this.pan)},methods:{panning(e){const t=e.type==="panzoomstart";this.grabbing=t},canvasZoom(e){this.panzoom.zoom(e),this.canvasCenter(e)},zooming(e){this.$store.commit("update",{key:"canvas.zoom",value:e.detail.scale})},pan(e){this.panzoom.pan(e[0],e[1],{relative:!0})},tickedCanvasFit(){this.$nextTick(()=>{this.canvasFit()})},canvasFit(e){const t=document.getElementById("editor-canvas-content"),o=t.querySelector(".canvas-bounds"),d=t.parentElement,c=d.clientWidth,a=d.clientHeight,m=o.clientWidth,b=o.clientHeight,f=50,x=this.calculateNewSize({from:[m,b],to:[c,a],padding:f});let p=x.percentage.fit;const C=c-f*2;e==="width"&&(p=Math.round(x.pixels.fill.width)===Math.round(C)?x.percentage.fill:x.percentage.fit);const F=p/100;this.panzoom.zoom(F),this.panzoom.pan(c/2/F-m/2,a/2/F-b/2)},canvasZoomReset(){this.panzoom.zoom(1),this.canvasCenter(1)},canvasCenter(e){const t=document.getElementById("editor-canvas-content"),o=t.parentElement,d=o.clientWidth,c=o.clientHeight,a=t.clientWidth,m=t.clientHeight;e||(e=this.store.canvas.zoom),this.panzoom.pan(d/2/e-a/2,c/2/e-m/2)},calculateNewSize:function(e){const t=e.from;e.padding&&(e.to[0]=e.to[0]-e.padding*2,e.to[1]=e.to[1]-e.padding*2);const o=e.to;function d(f){return f[0]>f[1]?f[0]:f[1]}function c(f){return f[0]<f[1]?f[0]:f[1]}var a=[o[0]/t[0],o[1]/t[1]],m=c(a),b=d(a);return{pixels:{fit:{width:t[0]*m,height:t[1]*m},fill:{width:t[0]*b,height:t[1]*b}},percentage:{fit:100/t[0]*(t[0]*m),fill:100/t[0]*(t[0]*b)}}}}};const Cl={name:"editorCanvas",mixins:[Se,$l],components:{draggable:ge,textElement:Ee,animatedWallpaper:xt,tierList:Me,tierListToolbar:Pe,cover:Q,NConfigProvider:G,NAlert:ne},data:function(){return{store:this.$store.state,dragscrollEnabled:!1,overlayHidden:!1,darkTheme:J}},mounted:function(){document.querySelector("#editor-canvas-left").addEventListener("mousedown",this.moveableControlsHide),this.$emitter.on("hide-moveable-controls",this.moveableControlsHide),document.querySelector("#editor-canvas-left").addEventListener("scroll",this.panningCanvas);let e=this.calculateCoverSize({coversPerRow:this.store.coversPerRow});if(this.$store.commit("update",{key:"coverSize",value:e}),this.$nextTick(function(){this.dragscrollEnabled=!0,this.moveableControlsHide()}),this.store.tierListMode){const t=this.$el.querySelector(".tier-container");document.querySelector("#app").prepend(t)}},beforeUnmount:function(){document.querySelector("#editor-canvas-left").removeEventListener("mousedown",this.moveableControlsHide),this.$emitter.off("hide-moveable-controls",this.moveableControlsHide),document.querySelector("#editor-canvas-left").removeEventListener("scroll",this.panningCanvas);const e=document.querySelector("#app > .tier-container");e&&e.remove()},computed:{showOverlay(){return!this.store.animatedWallpaperMode&&this.store.awpOverlayColorEnabled},paddingSizeNumber:function(){return parseFloat(this.store.paddingSize)},coverIconSize:function(){const e=this.store.coverSize/7.3,t=13;return e<t?t:e},draggableCovers:{get(){let e=this.store.covers;return e=this.store.excludeArchived?_.filter(e,function(t){return!t.inArchive}):e,e.slice(0,this.store.coverAmount)},set(e){this.$store.commit("update",{key:"covers",value:e})}},usedCovers:{get(){let e=this.store.covers;return e=this.store.excludeArchived?_.filter(e,function(t){return!t.inArchive}):e,e.slice(0,this.store.coverAmount)},set(e){this.$store.commit("update",{key:"usedCovers",value:e})}},canvasStyle:function(){var e={};return this.store.canvas.width>0?e.width=this.store.canvas.width+"px":e.width=0+"px",this.store.canvas.height>0&&(e.height=this.store.canvas.height+"px"),this.store.saving&&(e.borderColor="transparent"),this.store.saving&&(e.outlineColor="transparent"),e.paddingLeft=this.store.canvas.padding.left>-1?this.store.canvas.padding.left+"px":0+"px",e.paddingTop=this.store.canvas.padding.top>-1?this.store.canvas.padding.top+"px":0+"px",e.paddingRight=this.store.canvas.padding.right>-1?this.store.canvas.padding.right+"px":0+"px",e.paddingBottom=this.store.canvas.padding.bottom>-1?this.store.canvas.padding.bottom+"px":0+"px",e},canvasAlignment:function(){let e={};return e.textAlign=this.store.canvas.alignment,e.position=this.store.canvas.height>0?"absolute":null,e},canvasAlignmentVertical:function(){let e={};return e.alignItems=this.store.canvas.alignmentVertical,e.alignContent=this.store.canvas.alignmentVertical,this.store.canvas.alignment==="left"?(e.justifyItems="flex-start",e.justifyContent="flex-start"):this.store.canvas.alignment==="center"?(e.justifyItems="center",e.justifyContent="center"):this.store.canvas.alignment==="right"&&(e.justifyItems="flex-end",e.justifyContent="flex-end"),this.store.reverseCoverFlow&&(e.transform="rotate(180deg)"),e}},methods:{arrowNudge:function(e){let o=e.srcKey.match("Shift")?10:1;switch(e.srcKey){case"up":case"upShift":this.$emitter.emit("nudge-up",o);break;case"right":case"rightShift":this.$emitter.emit("nudge-right",o);break;case"down":case"downShift":this.$emitter.emit("nudge-down",o);break;case"left":case"leftShift":this.$emitter.emit("nudge-left",o);break}},panningCanvas:function(){this.$emitter.emit("update-moveable-handles")},removeTextElement:function(){var e=_.findIndex(this.store.textElements,"active");e>-1&&this.$store.commit("removeText",e)},moveableControlsHide:function(e){if(!(e?e.target.classList.contains("text-element")||e.target.classList.contains("text-element-child"):!1)){this.$store.commit("activateText",-1);let o=document.querySelectorAll(".moveable-control-box");o.length&&o.forEach(function(d,c){d.style.display="none"})}},draggingStarted(e){},draggingEnded(e){e.from.parentElement.classList.remove("dragging-into"),e.to.parentElement.classList.remove("dragging-into")},draggingMoved(e){const t=this.$el.querySelectorAll(".tier-list-row");_.each(t,o=>{o.classList.remove("dragging-into")}),e.to.parentElement.classList.add("dragging-into")}}},Sl=["data-saving-image"],xl={key:1,class:"cover-actions"},Al=g(" \xA0 Clear all re-read books "),Tl=g(" \xA0 Re-read book "),Ml={class:"show-blank-canvas"},El={key:0,class:"float-alert"},Pl={class:"float-alert"},Rl={class:"float-alert"},Ll=g("relisten"),Ol={key:3,class:"text-elements"},Fl={class:"grid-inner-wrap"};function Hl(e,t,o,d,c,a){const m=Pe,b=il,f=tl,x=Kr,p=k("n-alert"),C=k("n-config-provider"),F=Te,q=Ee,R=k("animatedWallpaper"),I=Me,B=Q,Z=k("draggable"),D=Y("shortkey");return S((s(),l("div",{class:"left",id:"editor-canvas-left",ref:"left","data-saving-image":e.store.saving,onShortkey:t[6]||(t[6]=z=>e.store.events.textRemove?a.removeTextElement(z):null)},[e.store.tierListMode?(s(),h(m,{key:0,draggableCovers:a.draggableCovers},null,8,["draggableCovers"])):v("",!0),e.store.coverActions?(s(),l("div",xl,[e.$store.getters.rereadExist?(s(),l("button",{key:0,class:"remove-all-reread",onClick:t[0]||(t[0]=z=>e.$store.commit("updateBookCover",{key:"reread",value:!1,book:e.store.coverActions,all:!0}))},[r(b),Al])):v("",!0),n("button",{class:"reread",onClick:t[1]||(t[1]=z=>e.$store.commit("updateBookCover",{key:"reread",value:!e.store.coverActions.reread,book:e.store.coverActions}))},[e.store.coverActions.reread?(s(),h(f,{key:0,style:{color:"#80f900"}})):(s(),h(x,{key:1,style:{color:"#333","border-radius":"9999px","box-shadow":"inset 0 0 7px white"}})),Tl])])):v("",!0),S(n("div",Ml,null,512),[[X,e.store.saving]]),r(C,{theme:e.darkTheme,class:"float-alert-wrapper"},{default:u(()=>[e.store.animatedWallpaperMode?v("",!0):(s(),l("div",El,[e.overlayHidden&&a.showOverlay?(s(),h(p,{key:0,title:"Ovelay temporarily hidden so you can sort covers manually",type:"warning"})):v("",!0)])),n("div",Pl,[e.store.panningAlert?(s(),h(p,{key:0,title:"Sort covers manually by dragging or hold space bar while dragging to move the canvas",type:"info"})):v("",!0)]),n("div",Rl,[e.$store.getters.textElementActive?(s(),h(p,{key:0,title:"You can also move text using arrow keys. Shift modifier increases the step to 10px",type:"info"})):v("",!0)])]),_:1},8,["theme"]),S((s(),l("div",{ref:"grid",class:A(["grid",{grabbing:e.grabbing,"force-panning":e.store.canvasPanning}]),onShortkey:t[5]||(t[5]=z=>e.store.events.textNudge?a.arrowNudge(z):null)},[n("div",{class:A(["editor-canvas",{"show-cover-padding-preview":e.store.slidingAround==="paddingSize",saving:e.store.saving,"hide-overlay-on-hover":a.showOverlay}]),id:"editor-canvas-content",onMouseenter:t[3]||(t[3]=z=>e.overlayHidden=!0),onMouseleave:t[4]||(t[4]=z=>e.overlayHidden=!1),ref:"canvas",style:T(a.canvasStyle)},[n("div",{class:"legend",style:T({right:e.store.reread.label.offset.right+"px",bottom:e.store.reread.label.offset.bottom+"px"})},[!e.store.animatedWallpaperMode&&e.$store.getters.rereadExist&&e.store.reread.label.show?(s(),h(F,{key:0,isStatic:!0},{default:u(()=>[Ll]),_:1})):v("",!0)],4),e.store.canvas.background?(s(),l("div",{key:0,id:"canvas-bg-color",style:T({backgroundColor:e.store.canvas.background})},null,4)):v("",!0),e.store.awpOverlayColorEnabled?(s(),l("div",{key:1,id:"awp-overlay",style:T({backgroundColor:e.store.awpOverlayColor,mixBlendMode:e.store.awpBlendMode,backgroundImage:e.store.overlayTexture?"url(assets/images/wallpaper-creator-textures/"+e.store.overlayTexture+".png)":null})},null,4)):v("",!0),n("div",{class:A(["canvas-bounds",{"prevent-dragging":e.store.animatedWallpaperMode}])},null,2),e.store.saving?v("",!0):S((s(),l("div",{key:2,class:"canvas-padding-preview",style:T({borderLeftWidth:e.store.canvas.padding.left+"px",borderTopWidth:e.store.canvas.padding.top+"px",borderRightWidth:e.store.canvas.padding.right+"px",borderBottomWidth:e.store.canvas.padding.bottom+"px"})},null,4)),[[X,e.store.slidingAround&&e.store.slidingAround!=="paddingSize"]]),e.store.textElements.length&&!e.store.animatedWallpaperMode?(s(),l("div",Ol,[(s(!0),l(j,null,U(e.store.textElements,(z,N)=>(s(),h(q,{class:"panzoom-exclude","data-no-dragscroll":"",key:z.id,textObj:z,textIndex:N},null,8,["textObj","textIndex"]))),128))])):v("",!0),n("div",{style:{position:"relative","z-index":"5",height:"100%",width:"100%"},class:A({"awp-float":e.store.animatedWallpaperMode})},[n("div",Fl,[e.store.animatedWallpaperMode?(s(),h(R,{key:0,style:{cursor:"grab"},editorCovers:e.store.covers,editorCoverPadding:e.store.paddingSize,editorCoverSize:e.store.coverSize,editorCoversPerRow:e.store.coversPerRow,editorCanvasWidth:e.store.canvas.width,editorCanvasHeight:e.store.canvas.height,editorCanvasPaddingLeft:e.store.canvas.padding.left,editorCanvasPaddingTop:e.store.canvas.padding.top,editorCanvasPaddingRight:e.store.canvas.padding.right,editorCanvasPaddingBottom:e.store.canvas.padding.bottom},null,8,["editorCovers","editorCoverPadding","editorCoverSize","editorCoversPerRow","editorCanvasWidth","editorCanvasHeight","editorCanvasPaddingLeft","editorCanvasPaddingTop","editorCanvasPaddingRight","editorCanvasPaddingBottom"])):(s(),l("div",{key:1,style:T([{width:"100%",height:"100%",display:"flex","flex-direction":"column"},a.canvasAlignmentVertical])},[e.store.tierListMode?(s(),h(I,{key:0,style:{width:"100%"},onStart:a.draggingStarted,onEnd:a.draggingEnded,onMove:a.draggingMoved},null,8,["onStart","onEnd","onMove"])):v("",!0),r(Z,{class:A(["drag-container",{"tier-container":e.store.tierListMode,"tier-container-collapse":!e.$store.getters.containerTierVisible}]),modelValue:a.draggableCovers,"onUpdate:modelValue":t[2]||(t[2]=z=>a.draggableCovers=z),"item-key":"asin",group:"covers",onStart:a.draggingStarted,onEnd:a.draggingEnded,onMove:a.draggingMoved,style:T([{width:"100%"},e.store.tierListMode?{marginTop:e.store.paddingSize*10+"px",minHeight:e.store.coverSize+"px"}:a.canvasAlignment])},{item:u(({element:z})=>[(s(),h(B,{key:z.asin,book:z},null,8,["book"]))]),_:1},8,["class","modelValue","onStart","onEnd","onMove","style"])],4)),e.store.animatedWallpaperMode?v("",!0):(s(),h(K("style"),{key:2},{default:u(()=>[g(" .cover { padding: "+w(a.paddingSizeNumber>-1?e.store.paddingSize:0)+"px !important; opacity: "+w(e.store.coverOpacityEnabled?e.store.coverOpacity:1)+" !important; } .cover .cover-img { width: "+w(e.store.coverSize>0?e.store.coverSize:0)+"px !important; height: "+w(e.store.coverSize>0?e.store.coverSize:0)+"px !important; } .cover .cover-heart-icon { height: "+w(a.coverIconSize)+"px !important; top: "+w(a.coverIconSize/2)+"px !important; right: "+w(a.coverIconSize/2)+"px !important; } .cover .cover-heart-icon svg, .cover .cover-star-icons svg { font-size: "+w(a.coverIconSize)+"px !important; line-height: "+w(a.coverIconSize)+"px !important; filter: drop-shadow( 0 1px 3px rgba(0,0,0, .8) ); } .cover .cover-star-icons { height: "+w(a.coverIconSize-4)+"px !important; } .cover .cover-star-icons { /* "+w(e.store.paddingSize)+" - "+w(a.paddingSizeNumber>5)+" */ bottom: "+w(a.paddingSizeNumber>0?a.paddingSizeNumber>7?-a.paddingSizeNumber*1.2:-a.paddingSizeNumber:12)+"px !important; } .cover img { border-radius: "+w(Math.floor(e.store.borderRadius*100))+"% !important; } ",1)]),_:1}))])],2)],38)],34)),[[D,e.store.events.textNudge?{upShift:["shift","arrowup"],up:["arrowup"],rightShift:["shift","arrowright"],right:["arrowright"],downShift:["shift","arrowdown"],down:["arrowdown"],leftShift:["shift","arrowleft"],left:["arrowleft"]}:null]])],40,Sl)),[[D,e.store.events.textRemove?["backspace"]:null]])}var Vl=V(Cl,[["render",Hl],["__scopeId","data-v-6709d0dc"]]),Il={data:function(){return{archivedLength:0}},mixins:[Ke],created:function(){this.getCovers()},methods:{getCovers:function(){let e=this;if(window.location.href.indexOf("src=gallery")>-1){this.$store.commit("clearTiers"),this.$store.commit("update",[{key:"covers",value:[]},{key:"usedCovers",value:[]}]);var t=location.href.split("?")[0];window.history.pushState({},document.title,t)}else{this.$store.state.covers.length?e.dataReady=!0:e.noCovers=!0;return}try{chrome.storage.local.get(["imageEditorChunks","imageEditorChunksLength","imageEditorTimeCode","imageEditorPageTitle","imageEditorPageSubTitle"]).then(o=>{_.get(o,"imageEditorChunksLength",0)>0&&e.fetchArchive(function(d){let c=_.flatten(o.imageEditorChunks);c=_.filter(c,function(f){return f.cover}),c=e.mappy(c,d);let a=[{key:"covers",value:c},{key:"archived",value:e.archivedLength}];_.get(o,"imageEditorTimeCode")&&a.push({key:"timeCode",value:o.imageEditorTimeCode});let m=e.$store.state.canvasPreset==="wallpaper"?300:50;o.imageEditorTimeCode===e.$store.state.timeCode?(!e.$store.state.coverAmount||c.length<e.$store.state.coverAmount)&&(m=c.length,a.push({key:"coverAmount",value:m})):(m=c.length>m?m:c.length,a.push({key:"coverAmount",value:m})),a.push({key:"usedCovers",value:c.slice(0,m)}),o.imageEditorPageTitle&&a.push({key:"gallery.pageTitle",value:o.imageEditorPageTitle}),o.imageEditorPageSubTitle&&a.push({key:"gallery.pageSubTitle",value:o.imageEditorPageSubTitle}),e.$store.commit("update",a),c.length?e.dataReady=!0:e.noCovers=!0})})}catch{}},mappy:function(e,t){let o=this;return _.map(e,function(d){let c={};return c.asin=d.asin,(d.titleShort||d.title)&&(c.title=d.titleShort||d.title),d.authors&&(c.author=d.authors[0].name),d.myRating&&(c.myRating=parseFloat(d.myRating)),d.favorite&&(c.favorite=d.favorite),c.cover=o.makeCoverUrl(d.cover),_.includes(t,d.asin)&&(c.inArchive=!0,++o.archivedLength),c})},fetchArchive:function(e){let t=[];try{chrome.storage.local.get(["collections-chunk-length"]).then(o=>{const d=_.get(o,"collections-chunk-length");if(d){let c=_.map(_.range(0,d),function(a){return"collections-chunk-"+a});chrome.storage.local.get(c).then(a=>{const m=_.flatMap(a),b=_.find(m,{id:"__ARCHIVE"});t=_.get(b,"books",[]),e(t)})}else e(t)})}catch(o){console.log(o),e([])}}}};const Bl={name:"App",components:{presetModal:Ae,editorCanvas:Vl,toolbar:xe},mixins:[Il],data:function(){return{store:this.$store.state,dataReady:!1,mounted:!1,panningToggle:!1,noCovers:!1}},created:function(){this.$store.commit("update",{key:"presetModalOpen",value:!0}),window.addEventListener("mouseup",this.stopSlidingAround),window.addEventListener("resize",this.windowResized),document.addEventListener("focusin",this.inputFocused),document.addEventListener("focusout",this.inputBlurred)},beforeUnmount:function(){window.removeEventListener("mouseup",this.stopSlidingAround),window.removeEventListener("resize",this.windowResized),document.removeEventListener("focusin",this.inputFocused),document.removeEventListener("focusout",this.inputBlurred)},mounted:function(){this.mounted=!0},methods:{inputFocused:function({target:e}){let t=_.get(e,"type"),o=e.getAttribute("contenteditable");(t==="text"||t==="number"||t==="range"||o)&&this.$store.commit("update",[{key:"events.textNudge",value:!1},{key:"events.textRemove",value:!1},{key:"events.canvasPanning",value:!1}])},inputBlurred:function({target:e}){let t=_.get(e,"type"),o=e.getAttribute("contenteditable");(t==="text"||t==="number"||t==="range"||o)&&this.$store.commit("update",[{key:"events.textNudge",value:!0},{key:"events.textRemove",value:!0},{key:"events.canvasPanning",value:!0}])},windowResized:_.debounce(function(){this.$emitter.emit("window-resized"),this.$emitter.emit("canvas-center")},400,{leading:!1,trailing:!0}),stopSlidingAround:function(){let e=this;setTimeout(function(){e.$store.commit("update",{key:"slidingAround",value:null})},500)},forcePanning:function(e){this.panningToggle=!this.panningToggle,this.panningToggle?this.$store.commit("update",{key:"canvasPanning",value:!0}):this.$store.commit("update",{key:"canvasPanning",value:!1})},keyboardZoomies(e){const t=_.get(e,"srcKey","").indexOf("shift")>-1;console.log("shiftModifier",t);const o=t?200:25;switch(e.srcKey){case"fitCanvas":this.$emitter.emit("canvas-fit");break;case"resetZoom":this.$emitter.emit("canvas-zoom",1);break;case"zoomIn":const d=this.store.canvas.zoom+.1;this.$emitter.emit("canvas-zoom",d);break;case"zoomOut":console.log("canvas-zoom");const c=this.store.canvas.zoom-.1;this.$emitter.emit("canvas-zoom",c);break;case"ctrlPanUp":case"shiftPanUp":this.$emitter.emit("canvas-pan",[0,-o]);break;case"ctrlPanDown":case"shiftPanDown":this.$emitter.emit("canvas-pan",[0,o]);break;case"ctrlPanLeft":case"shiftPanLeft":this.$emitter.emit("canvas-pan",[-o,0]);break;case"ctrlPanRight":case"shiftPanRight":this.$emitter.emit("canvas-pan",[o,0]);break}}}},ql={key:1,class:"error-msg"},Wl=n("h3",null,"Couldn't find any covers from imported data.",-1),Ul=n("p",null,[g("Try opening this page again from the "),n("a",{href:"../gallery/index.html"},"gallery"),g(".")],-1),jl=[Wl,Ul];function Dl(e,t,o,d,c,a){const m=Ae,b=k("editor-canvas"),f=xe,x=Y("shortkey");return e.dataReady?S((s(),l("div",{key:0,id:"app",onShortkey:t[1]||(t[1]=p=>e.store.events.canvasPanning?a.forcePanning(p):null)},[e.store.presetModalOpen?(s(),h(m,{key:0})):v("",!0),S((s(),h(b,{key:e.store.presetModalOpen,onShortkey:t[0]||(t[0]=p=>e.store.events.canvasPanning?a.keyboardZoomies(p):null)})),[[x,e.store.events.canvasPanning?{fitCanvas:["meta","9"],resetZoom:["meta","0"],zoomIn:["meta","+"],zoomOut:["meta","-"],ctrlPanUp:["arrowup","meta"],ctrlPanDown:["arrowdown","meta"],ctrlPanLeft:["arrowleft","meta"],ctrlPanRight:["arrowright","meta"],shiftPanUp:["arrowup","shift","meta"],shiftPanDown:["arrowdown","shift","meta"],shiftPanLeft:["arrowleft","shift","meta"],shiftPanRight:["arrowright","shift","meta"]}:null]]),r(f)],32)),[[X,e.mounted],[x,e.store.events.canvasPanning?["space"]:null,void 0,{push:!0}]]):e.noCovers?(s(),l("div",ql,jl)):v("",!0)}var Zl=V(Bl,[["render",Dl]]),Nl=[{label:"Wallpaper",value:"wallpaper",options:{coversPerRow:14,coverAmount:300,paddingSize:0,awpOverlayColorEnabled:!0,awpOverlayColor:"rgba(43,43,43, .64)",awpBlendMode:"normal",showAuthorAndTitle:!1,awpGrayscale:!1,canvas:{width:1920,height:1080,background:"#151515",alignmentVertical:"flex-start",padding:{top:0,right:0,bottom:0,left:0},zoomOutputs:!1,outputScale:1}}},{label:"Card",value:"card",options:{coversPerRow:5,coverAmount:999999,paddingSize:5,awpOverlayColorEnabled:!1,showAuthorAndTitle:!1,awpGrayscale:!1,canvas:{width:1e3,height:0,background:"#fff",alignmentVertical:"flex-start",padding:{top:32,right:32,bottom:32,left:32},zoomOutputs:!0,outputScale:2},showFavorites:!0,showMyRating:!0}}];const de=bt({state:{timeCode:null,resetting:!1,visibleAnimatedCovers:null,covers:[],coverAmount:300,coverSize:160,paddingSize:0,coverPlaceholders:0,coversPerRow:14,borderRadius:0,reverseCoverFlow:!1,reread:{label:{show:!0,offset:{right:0,bottom:0}}},canvas:{color:null,width:1920,height:1080,heightActual:0,autoHeight:0,background:"#151515",zoom:1,zoomOutputs:!1,outputScale:2,fit:!1,padding:{left:0,top:0,right:0,bottom:0},transformOrigin:"center center",scaled:{width:0,height:0},alignment:"center",alignmentVertical:"flex-start"},coverActions:null,saving:!1,slidingAround:null,showHints:!0,canvasPanning:!1,usedCovers:null,draggable:!0,showAuthorAndTitle:!1,authorAndTitleColor:"#333",authorAndTitleSize:13,textElementCounter:0,textElements:[],compressImage:!0,compressQuality:.95,events:{textNudge:!0,textRemove:!0,canvasPanning:!0},animatedWallpaperMode:!1,tierListMode:!1,excludeArchived:!1,archived:0,animationPreset:null,animationPresets:null,coverOpacityEnabled:!1,coverOpacity:.65,awpAnimationStarted:!1,awpShowAnimationZone:!1,awpCycleDelay:null,awpAnimationZone:null,awpAnimateOnLoad:null,awpAnimatedCoversLength:null,awpOverlayColorEnabled:!0,awpOverlayColor:"rgba(43,43,43, .64)",awpGrayscale:!1,awpCoversPerCycle:null,awpRandomCovers:null,awpRandomDelay:null,awpSequential:null,awpGrayscaleContrast:.8,awpAnimation:null,awpAnimations:null,awpBlendMode:"normal",awpBlendModes:[{label:"Normal",value:"normal"},{label:"Multiply",value:"multiply"},{label:"Screen",value:"screen"},{label:"Overlay",value:"overlay"},{label:"Darken",value:"darken"},{label:"Lighten",value:"lighten"},{label:"Color dodge",value:"color-dodge"},{label:"Color burn",value:"color-burn"},{label:"Hard light",value:"hard-light"},{label:"Soft light",value:"soft-light"},{label:"Difference",value:"difference"},{label:"Exclusion",value:"exclusion"},{label:"Hue",value:"hue"},{label:"Saturation",value:"saturation"},{label:"Color",value:"color"},{label:"Luminosity",value:"luminosity"}],awpDropOverflowingRow:!1,overlayTexture:"",overlayTextures:[{label:"None",value:"none"},{label:"Grunge",value:"grunge"},{label:"Wreath",value:"wreath"},{label:"Floral",value:"floral"},{label:"Gravel",value:"gravel"},{label:"Waves",value:"waves"},{label:"Diagonal squares",value:"diagonal-squares"},{label:"Circuit",value:"circuit"},{label:"Prism",value:"prism"},{label:"Dark honeycomb",value:"dark-honeycomb"},{label:"Light wood",value:"light-wood"},{label:"Dark wood",value:"dark-wood"},{label:"Concrete",value:"concrete"},{label:"Canvas",value:"canvas"}],archivedLength:0,gallery:{pageTitle:null,pageSubTitle:null},prioritizeCoversPerRow:!0,textElFonts:[{label:"Work Sans",value:"'Work Sans', sans-serif"},{label:"Merriweather",value:"'Merriweather', serif"},{label:"Arvo",value:"'Arvo', serif"},{label:"Concert One",value:"'Concert One', cursive"},{label:"Courgette",value:"'Courgette', cursive"},{label:"Indie Flower",value:"'Indie Flower', cursive"},{label:"Patrick Hand",value:"'Patrick Hand', cursive"}],duplicateTemp:null,animation:null,showFavorites:!1,showMyRating:!1,toolbarCollapsed:!1,canvasPreset:"wallpaper",canvasPresets:Nl,panningAlert:!1,tiers:[{visible:!0,key:"S",color:"#ff7f7e",list:[],text:""},{visible:!0,key:"A",color:"#ffbf7e",list:[],text:""},{visible:!0,key:"B",color:"#eff077",list:[],text:""},{visible:!0,key:"C",color:"#7dff7f",list:[],text:""},{visible:!0,key:"D",color:"#78f2f2",list:[],text:""},{visible:!0,key:"E",color:"#9c9bff",list:[],text:""},{visible:!0,key:"F",color:"#ff93fd",list:[],text:""},{visible:!0,key:"container",list:[]}],presetModalOpen:!1,colorPicker_swatches:["#001f3f","#0074D9","#7FDBFF","#39CCCC","#B10DC9","#F012BE","#85144b","#FF4136","#FF851B","#FFDC00","#3D9970","#2ECC40","#01FF70","#000000","#333333","#AAAAAA","#DDDDDD","#FFFFFF","#FFFFFF00"]},mutations:{update(e,t){let o=function(d){d=d||{},d.key&&_.set(e,d.key,d.value)};_.isArray(t)?_.each(t,function(d){o(d)}):o(t)},fromLocalStorage:function(e){const t=JSON.parse(localStorage.getItem("aleImageEditorSettings"));t&&(t.resetting=!1,t.saving=!1,delete t.canvasPresets,delete t.events,delete t.awpBlendModes,delete t.overlayTextures,delete t.colorPicker_swatches,delete t.textElFonts,delete t.coverActions,_.merge(e,t))},addText(e,t){++e.textElementCounter,t.id||(t.id=e.textElementCounter),t.textElement||(t.textElement=!0);let o=_.find(e.textElements,{active:!0});o&&(o.active=!1),e.textElements.push(t)},removeText(e,t){console.log(e.textElements),console.log(t),e.textElements.splice(t,1)},changeText(e,t){let o=function(d){d=d||{};let c=e.textElements[d.index];d.key&&c&&(console.log(c),console.log(d.key,d.value),_.set(c,d.key,d.value))};_.isArray(t)?_.each(t,function(d){o(d)}):o(t)},activateText(e,t){_.each(e.textElements,function(o,d){o.active=d===t})},updateCoverPlaceholders:function(e,t){let o=_.filter(e.usedCovers,"placeholderCover"),d=Math.abs(o.length-t),c=_.range(0,d);o.length<t?_.each(c,function(m){e.usedCovers.unshift(a())}):_.each(_.dropRight(o,d),function(m){let b=_.findIndex(e.usedCovers,{asin:m.asin});b&&e.usedCovers.splice(b,1)});function a(){return{asin:new Date().getTime(),placeholderCover:!0}}},updateTierlistLabel(e,t){let o=function(d){d=d||{};let c=e.tiers[d.index];console.log(d.index),d.key&&c&&(console.log(c),console.log(d.key,d.value),_.set(c,"text",d.value))};_.isArray(t)?_.each(t,function(d){o(d)}):o(t)},changePreset:function(e,t){let o=_.find(e.canvasPresets,{value:t});console.log(o.options),o&&(e=_.merge(e,o.options))},tierConcat:function(e,t){const o=_.find(e.tiers,{key:t.key});(!o.list.length&&t.ifEmpty||o.list.length&&!t.ifEmpty)&&(o.list=o.list.concat(t.list))},clearTiers:function(e,t){_.each(e.tiers,function(o){o.visible=!0,o.list=[]})},resetTiers:function(e,t){let o=[];_.each(e.tiers,function(d){o=o.concat(d.list)}),e.covers=o.concat(e.covers)},toggleTier:function(e,t){const o=_.find(e.tiers,{key:t.key});o.visible=!o.visible},updateBookCover(e,t){const o=c=>{_.each(c,(a,m)=>{_.each(a,(b,f)=>{_.set(a,f+"."+t.key,t.value)})})};if(e.tierListMode)if(t.all)o([e.tiers,e.covers]);else{let c=!1;if(_.each(e.tiers,function(a){const m=_.findIndex(a.list,{asin:t.book.asin});if(m>-1)return c=!0,_.set(a.list,m+"."+t.key,t.value),!1}),!c){const a=_.findIndex(e.covers,{asin:t.book.asin});a>-1&&_.set(e.covers,a+"."+t.key,t.value)}}else if(t.all)o([e.tiers,e.covers]);else{const c=_.findIndex(e.covers,{asin:t.book.asin});c>-1&&_.set(e.covers,c+"."+t.key,t.value)}const d=t.value?350:100;setTimeout(()=>{e.coverActions=null},d)}},getters:{widthOrHeight_Unset:function(e){return e.canvas.width<1||e.canvas.height<1},textElementActive:function(e){return!!_.find(e.textElements,"active")},containerTierVisible:function(e){return _.find(e.tiers,{key:"container"}).visible},scaledCanvasDimensions(e,t){let o=function(a){let m=e.canvas.outputScale;return m>0&&m!=1?a*m:a},d=document.querySelector("#editor-canvas-content");const c=d?d.clientHeight:null;return{width:Math.ceil(o(e.canvas.width)),height:Math.ceil(o(e.canvas.height||c))}},rereadExist(e,t){if(e.tierListMode){let o=!1;return _.each(e.tiers,function(d){if(_.find(d.list,"reread"))return o=!0,!1}),o||_.find(e.covers,"reread"),o}else return!!_.find(e.covers,"reread")}}});de.commit("fromLocalStorage");de.subscribe(function(e,t){t.resetting||localStorage.setItem("aleImageEditorSettings",JSON.stringify(t))});const W=wt(Zl);W.use(de);W.use(kt);W.use(zt);W.use($t,{directive:"tippy",component:"tippy",componentSingleton:"tippy-singleton",defaultProps:{placement:"auto-end",allowHTML:!0,arrow:!0,placement:"top",trigger:"mouseenter focus",theme:"light-border",zIndex:9999999991,delay:[500,0],a11y:!1,maxWidth:670,onShow:e=>!!e.props.content,boundary:"viewport",flipDuration:0}});W.use(Ct);W.config.globalProperties.$emitter=new St;W.config.productionTip=!1;W.mount("#wallpaper-creator");
